<!DOCTYPE html>
<html class="no-js" lang="de-AT">


<head>
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-63326882-1"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());

        gtag('config', 'UA-63326882-1');
    </script>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title> Fang mich </title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1"> <meta name="generator" content="Hugo 0.136.5"> <!-- Fonts -->

    

    

    

    

    

    
    <link rel="canonical" href="https://linz.coderdojo.net/uebungsanleitungen/programmieren/python/fang-mich/" />
    

    <link href='//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,500,600,700,800' rel='stylesheet'
        type='text/css'>
    <link href="https://fonts.googleapis.com/css2?family=Indie+Flower&display=swap" rel="stylesheet"> <!-- Stylesheets -->
     
    
    <link rel="stylesheet" href="https://linz.coderdojo.net/vendor.min.427db798bc1fd8e87412688ee1bc17b146a8ab9607228f687fa08070b18c0575.css">
    <link rel="stylesheet" href="https://linz.coderdojo.net/css/animate.css">
     
     
    <link rel="stylesheet" href="https://linz.coderdojo.net/style.min.a2e6859e8cb9160bace1b028b41c1206669c8ff293c2ad7667b894b27390b461.css">
    <script src="https://kit.fontawesome.com/5bb5b2cc9c.js" crossorigin="anonymous"></script>
</head>

<body id="body">
    <!-- NAVIGATION -->

<nav class="navbar fixed-top navbar-expand-lg navbar-light bg-light   ">
    <div class="container-fluid">
        <a class="navbar-brand" href="/"><img src="/img/logo-linz.png" height="30"></a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav ml-auto">
                <li class="nav-item   ">
                    <a class="nav-link" href="/">Home</a>
                </li>
                <li class="nav-item   ">
                    <a class="nav-link" href="/termine">Termine</a>
                </li>
                <li class="nav-item   ">
                    <a class="nav-link" href="/info">Infos</a>
                </li>
                <li class="nav-item   ">
                    <a class="nav-link" href="/mentoren">Mentoren</a>
                </li>
                <li class="nav-item   ">
                    <a class="nav-link" href="/sponsoring">Sponsoring</a>
                </li>
                <li class="nav-item  active ">
                    <a class="nav-link" href="/uebungsanleitungen">Übungsanleitungen</a>
                </li>
            </ul>
        </div>
    </div>
</nav>  
     
     

<div class="container-fluid breadcrumb-container">
    <div class="container">
        <nav class="breadcrumb-nav" aria-label="breadcrumb">
        <ol class="breadcrumb">
            
        
        
        
        
        
        
        
        
        

        
        
        

        
        
        <li class="breadcrumb-item">
            <a href="https://linz.coderdojo.net/uebungsanleitungen/">Übungsanleitungen</a>
        </li>
        
        
        
        

        
        
        <li class="breadcrumb-item">
            <a href="https://linz.coderdojo.net/uebungsanleitungen/programmieren/">Programmieren</a>
        </li>
        
        
        
        

        
        
        <li class="breadcrumb-item">
            <a href="https://linz.coderdojo.net/uebungsanleitungen/programmieren/python/">Python</a>
        </li>
        
        
        
        

        
        
        
        
        </ol>

        
        </nav>
    </div>
</div> 

<section id="sushi">
    <div class="container">
        <div class="row">
            
            <div class="col-12 sushi-toc">
                <h2>Inhalt</h2>
                <nav id="TableOfContents">
  <ul>
    <li><a href="#voraussetzungen">Voraussetzungen</a></li>
    <li><a href="#python">Python</a></li>
    <li><a href="#laden-von-packages">Laden von Packages</a></li>
    <li><a href="#ein-fenster-mit-einer-leinwand-erstellen">Ein Fenster mit einer Leinwand erstellen</a></li>
    <li><a href="#hintergrund-erstellen-und-figuren-laden">Hintergrund erstellen und Figuren laden</a></li>
    <li><a href="#den-fisch-bewegen">Den Fisch bewegen</a></li>
    <li><a href="#hauptschleife--1-test">Hauptschleife – 1. Test</a></li>
    <li><a href="#haifisch-bewegen">Haifisch bewegen</a></li>
    <li><a href="#hauptschleife--2-test">Hauptschleife – 2. Test</a></li>
    <li><a href="#der-fisch-wird-gefangen">Der Fisch wird gefangen</a></li>
    <li><a href="#hauptschleife--3-test">Hauptschleife – 3. Test</a></li>
    <li><a href="#der-letzte-feinschliff">Der letzte Feinschliff</a></li>
    <li><a href="#hauptschleife---komplett">Hauptschleife - komplett</a></li>
    <li><a href="#aktivierung-des-fensters">Aktivierung des Fensters</a></li>
    <li><a href="#erweiterungsmöglichkeiten">Erweiterungsmöglichkeiten</a></li>
  </ul>
</nav>
            </div>
            <div class="col-12 sushi-content"> <h1 id="fang-mich">Fang mich</h1>
<p>Wir verwenden das Package Tkinter um ein einfaches Spiel in Python zu programmieren. Der Fisch, den du mit Pfeiltasten steuern kannst, versucht dem Hai zu entkommen, damit er nicht von ihm gefressen wird.</p>



     
    










<div class="row">
    <div class="col">
        <p></p>
    </div>
    <div class="col-12 col-md-12">
    <img src="/uebungsanleitungen/programmieren/python/fang-mich/img/fang-mich.png" alt="(.Get 1)" class="mx-auto " style="display: block; width: auto" />
    </div>
</div>

<h2 id="voraussetzungen">Voraussetzungen</h2>
<p>Übungsbeispiel <a href="../alien">Alien</a>, um schon erste Erfahrungen mit Python und Tkinter gesammelt zu haben.</p>
<h2 id="python">Python</h2>
<p>Starte für Python die Programmierumgebung IDLE und öffne eine neue Datei (<code>File -&gt; New File</code>) und speichere die Datei als Dateityp auf deinem Computer (<code>File -&gt; Save As</code>). Wähle als Dateityp <code>.pyw</code>, wenn du mit Windows arbeitest.</p>
<h2 id="laden-von-packages">Laden von Packages</h2>
<p>Für dieses Beispiel benötigen wir einige Packages:</p>
<ul>
<li><code>tkinter</code> für die Darstellung des Hintergrunds und aller Figuren</li>
<li><code>PIL</code> um Bilder zu drehen</li>
<li><code>random</code> zum Erzeugen von Zufallszahlen</li>
<li>Die Funktion <code>sleep</code> aus dem Package <code>time</code> um Pausen zwischen den Bewegungen einzufügen.</li>
<li><code>math</code> für ein paar mathematische Funktion, wie z. B. die Wurzelfunktion</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#00f">from</span> tkinter <span style="color:#00f">import</span> *
</span></span><span style="display:flex;"><span><span style="color:#00f">from</span> PIL <span style="color:#00f">import</span> ImageTk, Image
</span></span><span style="display:flex;"><span><span style="color:#00f">from</span> time <span style="color:#00f">import</span> sleep
</span></span><span style="display:flex;"><span><span style="color:#00f">from</span> random <span style="color:#00f">import</span> randint
</span></span><span style="display:flex;"><span><span style="color:#00f">import</span> math
</span></span></code></pre></div><h2 id="ein-fenster-mit-einer-leinwand-erstellen">Ein Fenster mit einer Leinwand erstellen</h2>
<p>Zuerst erzeugen wir ein neues Fenster, das wir window nennen. Als Titel wählen wir „Fang mich“. Die Leinwand wird 800 Pixel hoch und 1000 Pixel breit.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#008000"># Leinwand erstellen</span>
</span></span><span style="display:flex;"><span>window = Tk()
</span></span><span style="display:flex;"><span>window.title(<span style="color:#a31515">&#34;Fang mich&#34;</span>)
</span></span><span style="display:flex;"><span>H = 800
</span></span><span style="display:flex;"><span>B = 1000
</span></span><span style="display:flex;"><span>c = Canvas(window, height = H, width = B)
</span></span><span style="display:flex;"><span>c.pack()
</span></span></code></pre></div><h2 id="hintergrund-erstellen-und-figuren-laden">Hintergrund erstellen und Figuren laden</h2>
<p>Wir benötigen für dieses Spiel 3 Bilder: <a href="img/Unterwasserwelt.png">Unterwasserwelt.png</a> für den Hintergrund und <a href="img/Fisch.png">Fisch.png</a> und <a href="img/Hai.png">Hai.png</a> für die Figuren. Lade die Bilder herunter und speichere sie in das gleiche Verzeichnis wie dein Python-Programm. Dann laden wir alle Bilder in Python und zeichnen den Hintergrund und den Fisch auf unsere Leinwand. Der Hai kommt etwas später dazu. Er wird zuerst noch gedreht, daher verwenden wir für ihn auch die Funktion <code>Image</code> aus dem Package <code>PIL</code>.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#008000"># Hintergrund erstellen</span>
</span></span><span style="display:flex;"><span>bg_image = PhotoImage(file=<span style="color:#a31515">&#34;Unterwasserwelt.png&#34;</span>)
</span></span><span style="display:flex;"><span>bg = c.create_image(0, 0, anchor = NW, image=bg_image)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#008000"># Figuren laden</span>
</span></span><span style="display:flex;"><span>fish_image = PhotoImage(file=<span style="color:#a31515">&#34;Fisch.png&#34;</span>)
</span></span><span style="display:flex;"><span>fish = c.create_image(0, 0, image=fish_image)
</span></span><span style="display:flex;"><span>hai_img = Image.open(<span style="color:#a31515">&#34;Hai.png&#34;</span>)
</span></span></code></pre></div><h2 id="den-fisch-bewegen">Den Fisch bewegen</h2>
<p>Der Fisch wird mit den Pfeiltasten gesteuert. Bei jedem Tastendruck ändert sich die Position des Fisches um seine Geschwindigkeit, die wir hier mit 100 festlegen.</p>
<ul>
<li>Wird die Pfeiltaste „rechts“ gedrückt, wird die x -Koordinate um 100 größer, bei „links“ um 100 kleiner. Die y-Koordinate ändert sich nicht.</li>
<li>Bei Pfeiltaste „unten“ wird die y-Koordinate größer, bei „oben“ wird die y-Koordinate kleiner. (Der Koordinatenursprung ist links oben!) die x-Koordinate bleibt gleich.</li>
<li>Damit der Fisch sich nicht über den Rand der Leinwand hinausbewegen kann, fragen wir zuerst seine Koordinaten x und y ab. Der Fisch wird nur bewegt, wenn er auch nach der Bewegung innerhalb der Leinwand bleibt.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#008000"># Fisch bewegen</span>
</span></span><span style="display:flex;"><span>FISH_GESCHW = 100
</span></span><span style="display:flex;"><span>FISH_R = 75
</span></span><span style="display:flex;"><span><span style="color:#00f">def</span> move_fish(event):
</span></span><span style="display:flex;"><span>        x, y = c.coords(fish)
</span></span><span style="display:flex;"><span>        <span style="color:#00f">if</span> event.keysym == <span style="color:#a31515">&#34;Left&#34;</span>:
</span></span><span style="display:flex;"><span>            <span style="color:#00f">if</span> x &gt;= FISH_GESCHW:
</span></span><span style="display:flex;"><span>                c.move(fish, -FISH_GESCHW, 0)
</span></span><span style="display:flex;"><span>        <span style="color:#00f">elif</span> event.keysym == <span style="color:#a31515">&#34;Right&#34;</span>:
</span></span><span style="display:flex;"><span>            <span style="color:#00f">if</span> x &lt;= B - FISH_GESCHW:
</span></span><span style="display:flex;"><span>                c.move(fish, FISH_GESCHW, 0)
</span></span><span style="display:flex;"><span>        <span style="color:#00f">elif</span> event.keysym == <span style="color:#a31515">&#34;Up&#34;</span>:
</span></span><span style="display:flex;"><span>            <span style="color:#00f">if</span> y &gt;= FISH_GESCHW:
</span></span><span style="display:flex;"><span>                c.move(fish, 0, -FISH_GESCHW)
</span></span><span style="display:flex;"><span>        <span style="color:#00f">elif</span> event.keysym == <span style="color:#a31515">&#34;Down&#34;</span>:
</span></span><span style="display:flex;"><span>            <span style="color:#00f">if</span> y &lt;= H - FISH_GESCHW:
</span></span><span style="display:flex;"><span>                c.move(fish, 0, FISH_GESCHW)
</span></span><span style="display:flex;"><span>window.bind(<span style="color:#a31515">&#34;&lt;Key&gt;&#34;</span>, move_fish)
</span></span></code></pre></div><h2 id="hauptschleife--1-test">Hauptschleife – 1. Test</h2>
<p>Nun ist es an der Zeit, die Bewegung des Fisches zu Testen und auch den Hai schon einmal auftauchen zu lassen. Den Hai platzieren wir in der Mitte des Fensters und setzen dafür die Koordinaten des Hais (<code>hai_x</code> und <code>hai_y</code>) auf die halbe Breite und halbe Höhe des Fensters. Zu Beginn ist die Richtung des Hais 0, d. h. er schaut nach rechts. In einer Endlosschleife (<code>while True</code>) drehen wir den Hai zufällig in verschiedene Richtungen, aktualisieren das Fenster und warten kurz, damit die Drehungen auch gut sichtbar sind.
Lasse das Programm einmal laufen (F5) und bewege den Fisch mit den Pfeiltasten. Beobachte die Bewegungen des Hais, aber keine Angst, er wird dich noch nicht fressen.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#008000"># Hauptschleife</span>
</span></span><span style="display:flex;"><span>richtung = 0
</span></span><span style="display:flex;"><span>hai_x, hai_y = B/2, H/2
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#00f">while</span> <span style="color:#00f">True</span>:
</span></span><span style="display:flex;"><span>	richtung += randint(0, 10)
</span></span><span style="display:flex;"><span>	richtung %= 360
</span></span><span style="display:flex;"><span>	hai_tkimg = ImageTk.PhotoImage(hai_img.rotate(richtung))
</span></span><span style="display:flex;"><span>	hai = c.create_image(hai_x, hai_y, image=hai_tkimg)
</span></span><span style="display:flex;"><span>	window.update()
</span></span><span style="display:flex;"><span>	sleep(0.1)
</span></span></code></pre></div><h2 id="haifisch-bewegen">Haifisch bewegen</h2>
<p>Die Bewegung des Haifisches soll automatisiert sein. Er bewegt sich zu Beginn in eine bestimmte Richtung, die wir durch 2 Zahlen beschreiben: <code>step_x</code> und <code>step_y</code>. Da beide zu Beginn auf 50 gesetzt werden, bewegt sich der Hai 50 Pixel nach rechts und 50 Pixel nach unten. Wandert der Hai dabei über unser Fenster hinaus, dann ändern wir die Richtung, indem wir einfach das Vorzeichen von <code>step_x</code> oder <code>step_y</code> umdrehen.</p>



     
    










<div class="row">
    <div class="col">
        <p></p>
    </div>
    <div class="col-12 col-md-12">
    <img src="/uebungsanleitungen/programmieren/python/fang-mich/img/hai-bewegen.png" alt="(.Get 1)" class="mx-auto " style="display: block; width: auto" />
    </div>
</div>

<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#008000"># Haifisch bewegen</span>
</span></span><span style="display:flex;"><span>HAI_R = 115
</span></span><span style="display:flex;"><span>step_x = 50
</span></span><span style="display:flex;"><span>step_y = 50
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#00f">def</span> move_hai(hai, hai_x, hai_y, step_x, step_y):
</span></span><span style="display:flex;"><span>    c.move(hai, step_x, step_y)
</span></span><span style="display:flex;"><span>    hai_x, hai_y = c.coords(hai)
</span></span><span style="display:flex;"><span>    <span style="color:#00f">if</span> hai_y &gt; H <span style="color:#00f">or</span>  hai_y &lt; 0:
</span></span><span style="display:flex;"><span>        step_y = step_y * -1
</span></span><span style="display:flex;"><span>    <span style="color:#00f">if</span> hai_x &gt; B <span style="color:#00f">or</span> hai_x &lt; 0:
</span></span><span style="display:flex;"><span>        step_x = step_x * -1
</span></span><span style="display:flex;"><span>    <span style="color:#00f">return</span> hai_x, hai_y, step_x, step_y
</span></span></code></pre></div><h2 id="hauptschleife--2-test">Hauptschleife – 2. Test</h2>
<p>Die Haibewegung können wir gleich in unsere Hauptschleife einbauen und testen:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#008000"># Hauptschleife</span>
</span></span><span style="display:flex;"><span>richtung = 0
</span></span><span style="display:flex;"><span>hai_x, hai_y = B/2, H/2
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#00f">while</span> <span style="color:#00f">True</span>:
</span></span><span style="display:flex;"><span>	richtung += randint(0, 10)
</span></span><span style="display:flex;"><span>	richtung %= 360
</span></span><span style="display:flex;"><span>	hai_tkimg = ImageTk.PhotoImage(hai_img.rotate(richtung))
</span></span><span style="display:flex;"><span>	hai = c.create_image(hai_x, hai_y, image=hai_tkimg)
</span></span><span style="display:flex;"><span>	hai_x, hai_y, step_x, step_y = move_hai(hai, hai_x, hai_y, step_x, step_y)
</span></span><span style="display:flex;"><span>	window.update()
</span></span><span style="display:flex;"><span>	sleep(0.1)
</span></span></code></pre></div><h2 id="der-fisch-wird-gefangen">Der Fisch wird gefangen</h2>
<p>Wenn der Fisch dem Hai zu nahekommt, wird er gefangen und verschwindet vom Bildschirm. Um feststellen zu können, ob der Hai den Fisch berührt, brauchen wir eine Funktion, die den Abstand zwischen dem Hai und dem Fisch berechnen kann. Dazu holen wir uns die aktuellen Koordinaten von beiden Figuren und wenden den Satz von Pythagoras an. Die dazu notwendige Wurzelfunktion (<code>sqrt</code>) importieren wir aus dem <code>math</code>-Package. Der Abstand <code>a</code> wird als Wert der Funktion ausgegeben.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#008000"># Abstand zwischen Fisch und Hai</span>
</span></span><span style="display:flex;"><span><span style="color:#00f">def</span> abstand(fish, hai):
</span></span><span style="display:flex;"><span>    x1, y1 = c.coords(fish)
</span></span><span style="display:flex;"><span>    x2, y2 = c.coords(hai)
</span></span><span style="display:flex;"><span>    a = math.sqrt((x2-x1)**2 + (y2-y1)**2)
</span></span><span style="display:flex;"><span>    <span style="color:#00f">return</span> a
</span></span></code></pre></div><p>Nun brauchen wir noch eine Funktion, die uns sagt, ob der Fisch gefangen wurde.  Wir überprüfen, wie groß der Abstand zwischen Hai und Fisch ist. Ist dieser kleiner als die Summe von Fisch-Radius und Hai-Radius, dann hat der Hai den Fisch erwischt. Als Rückgabewert nehmen wir dazu eine Variable gefangen, die entweder True (Fisch gefangen) oder False ist (Fisch nicht gefangen). Solche Variablen nennt man beim Programmieren auch Boolesche Variablen.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#008000"># Fisch gefangen</span>
</span></span><span style="display:flex;"><span><span style="color:#00f">def</span> fangen(fish, hai):
</span></span><span style="display:flex;"><span>    <span style="color:#00f">if</span> abstand(fish, hai) &lt; (HAI_R + FISH_R):
</span></span><span style="display:flex;"><span>        gefangen = <span style="color:#00f">True</span>
</span></span><span style="display:flex;"><span>        c.itemconfig(fish, state=HIDDEN)
</span></span><span style="display:flex;"><span>    <span style="color:#00f">else</span>:
</span></span><span style="display:flex;"><span>        gefangen = <span style="color:#00f">False</span>
</span></span><span style="display:flex;"><span>    <span style="color:#00f">return</span> gefangen
</span></span></code></pre></div><h2 id="hauptschleife--3-test">Hauptschleife – 3. Test</h2>
<p>Wir bauen nun in unsere Hauptschleife eine Verzweigung ein:</p>
<ul>
<li>Solange der Fisch nicht gefangen wurde, bewegt sich der Hai in unserem Fenster. Wir überprüfen nach jeder Bewegung, ob der Fisch gefangen wurde.</li>
<li>Falls der Fisch gefangen wurde, lassen wir auch den Hai vom Bild verschwinden und stellen die Ausgangssituation wieder her: Variablen werden wieder auf die ursprünglichen Werte zurückgesetzt und der Fisch erscheint wieder in der linken oberen Ecke. Dazu fragen wir zuerst die aktuellen Koordinaten des Fisches ab und bewegen ihn dann so, dass seine Koordinaten  nach der Bewegung wieder im Koordinatenursprung (0, 0) sind.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#00f">while</span> <span style="color:#00f">True</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#008000"># Fisch versucht Hai zu entkommen</span>
</span></span><span style="display:flex;"><span>    <span style="color:#00f">if</span> <span style="color:#00f">not</span> gefangen:
</span></span><span style="display:flex;"><span>        richtung += randint(0, 10)
</span></span><span style="display:flex;"><span>        richtung %= 360
</span></span><span style="display:flex;"><span>        hai_tkimg = ImageTk.PhotoImage(hai_img.rotate(richtung))
</span></span><span style="display:flex;"><span>        hai = c.create_image(hai_x, hai_y, image=hai_tkimg)
</span></span><span style="display:flex;"><span>        hai_x, hai_y, step_x, step_y = move_hai(hai, hai_x, hai_y, step_x, step_y)
</span></span><span style="display:flex;"><span>        gefangen = fangen(fish, hai)
</span></span><span style="display:flex;"><span>        window.update()
</span></span><span style="display:flex;"><span>        sleep(0.1)
</span></span><span style="display:flex;"><span>    <span style="color:#008000"># Fisch wurde gefangen</span>
</span></span><span style="display:flex;"><span>    <span style="color:#00f">else</span>:
</span></span><span style="display:flex;"><span>        zeige_text(<span style="color:#a31515">&#34;Game over&#34;</span>, B/2, H/2, <span style="color:#a31515">&#34;orangered&#34;</span>, <span style="color:#a31515">&#34;Helvetica&#34;</span>, 30, 4)
</span></span><span style="display:flex;"><span>        c.itemconfig(hai, state = HIDDEN)
</span></span><span style="display:flex;"><span>        <span style="color:#008000"># Ausgangssituation wieder herstellen</span>
</span></span><span style="display:flex;"><span>        gefangen = <span style="color:#00f">False</span>
</span></span><span style="display:flex;"><span>        richtung = 0
</span></span><span style="display:flex;"><span>        hai_x, hai_y = B/2, H/2
</span></span><span style="display:flex;"><span>        c.itemconfig(fish, state=NORMAL)
</span></span><span style="display:flex;"><span>        fish_x, fish_y = c.coords(fish)
</span></span><span style="display:flex;"><span>        c.move(fish, -fish_x, -fish_y)
</span></span></code></pre></div><h2 id="der-letzte-feinschliff">Der letzte Feinschliff</h2>
<p>Wir blenden nun einen Text ein, wenn der Fisch gefangen wurde („Game over“) und wenn der Fisch wieder am Start zurück ist („Willkommen zurück“). Diese Text sollen nur für eine bestimmte Zeit am Bildschirm erscheinen und dazu verwenden wir folgende Funktion:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#008000"># Anzeige von Text für eine bestimmte Zeit</span>
</span></span><span style="display:flex;"><span><span style="color:#00f">def</span> zeige_text(nachricht, x, y, farbe, schrift, größe, zeit):
</span></span><span style="display:flex;"><span>    text = c.create_text(x, y, text=nachricht, fill = farbe, font =(schrift, größe))
</span></span><span style="display:flex;"><span>    window.update()
</span></span><span style="display:flex;"><span>    sleep(zeit)
</span></span><span style="display:flex;"><span>    c.itemconfig(text, state = HIDDEN)
</span></span><span style="display:flex;"><span>    window.update()
</span></span></code></pre></div><h2 id="hauptschleife---komplett">Hauptschleife - komplett</h2>
<p>Nun können wir die Anzeige der Texte in die Hauptschleife einbauen:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#008000"># Hauptschleife</span>
</span></span><span style="display:flex;"><span>gefangen = <span style="color:#00f">False</span>
</span></span><span style="display:flex;"><span>richtung = 0
</span></span><span style="display:flex;"><span>hai_x, hai_y = B/2, H/2
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#00f">while</span> <span style="color:#00f">True</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#008000"># Fisch versucht Hai zu entkommen</span>
</span></span><span style="display:flex;"><span>    <span style="color:#00f">if</span> <span style="color:#00f">not</span> gefangen:
</span></span><span style="display:flex;"><span>        richtung += randint(0, 10)
</span></span><span style="display:flex;"><span>        richtung %= 360
</span></span><span style="display:flex;"><span>        hai_tkimg = ImageTk.PhotoImage(hai_img.rotate(richtung))
</span></span><span style="display:flex;"><span>        hai = c.create_image(hai_x, hai_y, image=hai_tkimg)
</span></span><span style="display:flex;"><span>        hai_x, hai_y, step_x, step_y = move_hai(hai, hai_x, hai_y, step_x, step_y)
</span></span><span style="display:flex;"><span>        gefangen = fangen(fish, hai)
</span></span><span style="display:flex;"><span>        window.update()
</span></span><span style="display:flex;"><span>        sleep(0.1)
</span></span><span style="display:flex;"><span>    <span style="color:#008000"># Fisch wurde gefangen</span>
</span></span><span style="display:flex;"><span>    <span style="color:#00f">else</span>:
</span></span><span style="display:flex;"><span>        zeige_text(<span style="color:#a31515">&#34;Game over&#34;</span>, B/2, H/2, <span style="color:#a31515">&#34;orangered&#34;</span>, <span style="color:#a31515">&#34;Helvetica&#34;</span>, 30, 4)
</span></span><span style="display:flex;"><span>        c.itemconfig(hai, state = HIDDEN)
</span></span><span style="display:flex;"><span>        <span style="color:#008000"># Ausgangssituation wieder herstellen</span>
</span></span><span style="display:flex;"><span>        gefangen = <span style="color:#00f">False</span>
</span></span><span style="display:flex;"><span>        richtung = 0
</span></span><span style="display:flex;"><span>        hai_x, hai_y = B/2, H/2
</span></span><span style="display:flex;"><span>        c.itemconfig(fish, state=NORMAL)
</span></span><span style="display:flex;"><span>        fish_x, fish_y = c.coords(fish)
</span></span><span style="display:flex;"><span>        c.move(fish, -fish_x, -fish_y)
</span></span><span style="display:flex;"><span>        zeige_text(<span style="color:#a31515">&#34;Willkommen zurück&#34;</span>, B/2, 30, <span style="color:#a31515">&#34;orangered&#34;</span>, <span style="color:#a31515">&#34;Helvetica&#34;</span>, 30, 2)
</span></span></code></pre></div><h2 id="aktivierung-des-fensters">Aktivierung des Fensters</h2>
<p>Zu guter Letzt gibt es noch einen Befehl, um das Fenster zu aktivieren:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#008000"># Aktivierung des Fensters</span>
</span></span><span style="display:flex;"><span>window.mainloop()
</span></span></code></pre></div><p>Wenn du nun das Programm speicherst (<code>STRG + S</code>), kannst du es ausführen (<code>F5</code>). Kannst du dem Hai entkommen?</p>
<h2 id="erweiterungsmöglichkeiten">Erweiterungsmöglichkeiten</h2>
<ul>
<li>Zähle mit, wie oft der Fisch gefangen wurde und zeige diese Zahl auf der Leinwand an.</li>
<li>Programmiere einen Timer, der die Spielzeit begrenzt. Zeige auch die laufende Zeit auf der Leinwand an.</li>
</ul>
<p>Hier kannst du den gesamten <a href="source/Fang_mich.pyw">Sourcecode downloaden</a>.</p>
 </div>
        </div>
    </div>
</section>  
    <footer>
        <div class="container">
            <div class="row">
                <div class="col">
                    <div>
                        <div>
                            <img src="/img/logo-coding-club-linz-white.svg">
                        </div>
                        <div>Coding Club Linz<br />Birkenweg 16, 4060 Leonding <br />
                            <a href="mailto:info@linz.coderdojo.net">info@linz.coderdojo.net</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </footer> <!-- Js -->
    <script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"
        integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"
        integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.17.1/moment.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.17.1/locale/de-at.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/showdown/1.9.1/showdown.min.js"></script>
    <script src="https://linz.coderdojo.net/js/wow.min.js"></script>
    <script src="https://linz.coderdojo.net/js/main.js"></script>
    <script src="https://www.google.com/recaptcha/api.js?render=6LfXNMcZAAAAALYnf3GpUqw5uotVMyjhLNU438i9"></script>
</body>

</html>
