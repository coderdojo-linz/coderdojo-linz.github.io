<!DOCTYPE html>
<html class="no-js" lang="de-AT">


<head>
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-63326882-1"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());

        gtag('config', 'UA-63326882-1');
    </script>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title> Space Shooter mit p5.js </title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1"> <meta name="generator" content="Hugo 0.73.0" /> <!-- Fonts -->

    
    <link rel="canonical" href="https://linz.coderdojo.net/uebungsanleitungen/programmieren/web/space-shooter-mit-p5js/" />
    

    <link href='//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,500,600,700,800' rel='stylesheet'
        type='text/css'>
    <link href="https://fonts.googleapis.com/css2?family=Indie+Flower&display=swap" rel="stylesheet"> <!-- Stylesheets -->
     
    
    <link rel="stylesheet" href="https://linz.coderdojo.net/vendor.min.55a3cbb6f035c25e5c7cf706ee053eca6f5a54d8095b05fd737d1b0330f99eaf.css">
    <link rel="stylesheet" href="https://linz.coderdojo.net/css/animate.css">
     
     
    <link rel="stylesheet" href="https://linz.coderdojo.net/style.min.8295a8aadc2c3b51fef456157a6e333184d3bc4ca089d1998498754aad739006.css">
    <script src="https://kit.fontawesome.com/5bb5b2cc9c.js" crossorigin="anonymous"></script>
</head>

<body id="body">
    <!-- NAVIGATION -->

<nav class="navbar fixed-top navbar-expand-lg navbar-light bg-light ">
    <div class="container-fluid">
        <a class="navbar-brand" href="/"><img src="/img/logo-linz.png" height="30"></a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav ml-auto">
                <li class="nav-item ">
                    <a class="nav-link" href="/">Home</a>
                </li>
                <li class="nav-item ">
                    <a class="nav-link" href="/termine">Termine</a>
                </li>
                <li class="nav-item ">
                    <a class="nav-link" href="/info">Infos</a>
                </li>
                <li class="nav-item ">
                    <a class="nav-link" href="/mentoren">Mentoren</a>
                </li>
                <li class="nav-item ">
                    <a class="nav-link" href="/sponsoring">Sponsoring</a>
                </li>
                <li class="nav-item active">
                    <a class="nav-link" href="/uebungsanleitungen">Übungsanleitungen</a>
                </li>
            </ul>
        </div>
    </div>
</nav>     

<div class="container-fluid breadcrumb-container">
    <div class="container">
        <nav class="breadcrumb-nav" aria-label="breadcrumb">
        <ol class="breadcrumb">
            
        
        
        
        
        
        
        
        
        

        
        
        

        
        
        <li class="breadcrumb-item">
            <a href="https://linz.coderdojo.net/uebungsanleitungen/">Übungsanleitungen</a>
        </li>
        
        
        
        

        
        
        <li class="breadcrumb-item">
            <a href="https://linz.coderdojo.net/uebungsanleitungen/programmieren/">Programmieren</a>
        </li>
        
        
        
        

        
        
        <li class="breadcrumb-item">
            <a href="https://linz.coderdojo.net/uebungsanleitungen/programmieren/web/">Web</a>
        </li>
        
        
        
        

        
        
        
        
        </ol>

        
        </nav>
    </div>
</div> 

<section id="sushi">
    <div class="container">
        <div class="row">
            
            <div class="col-12 sushi-toc">
                <h2>Inhalt</h2>
                <nav id="TableOfContents">
<ul>
<li><a href="#space-shooter-mit-p5-js">Space Shooter mit p5.js</a>
<ul>
<li><a href="#ziel-der-übung">Ziel der Übung</a></li>
<li><a href="#p5-js">p5.js</a></li>
<li><a href="#html">HTML</a></li>
<li><a href="#variablen">Variablen</a></li>
<li><a href="#grafiken-laden">Grafiken laden</a></li>
<li><a href="#spielfeld-vorbereiten">Spielfeld vorbereiten</a></li>
<li><a href="#spielfeld-updaten">Spielfeld updaten</a></li>
<li><a href="#raumschiff">Raumschiff</a></li>
<li><a href="#meteoriten">Meteoriten</a></li>
<li><a href="#laser">Laser</a></li>
<li><a href="#kollisionen-erkennen">Kollisionen erkennen</a></li>
<li><a href="#explosion">Explosion</a></li>
<li><a href="#sterne">Sterne</a></li>
<li><a href="#game-over">Game Over</a></li>
<li><a href="#source-code">Source Code</a></li>
</ul></li>
</ul>
</nav>
            </div>
            <div class="col-12 sushi-content"> 

<h1 id="space-shooter-mit-p5-js">Space Shooter mit p5.js</h1>

<h2 id="ziel-der-übung">Ziel der Übung</h2>

<p>In dieser Übung programmierst du einen Space Shooter mit dem du herunterfallende Meteoriten abschießt. Mit den Pfeiltasten kannst du das Raumschiff nach links und rechts bewegen. Mit den Tasten <code>a</code> und <code>d</code> kannst du es drehen. Und mit der Leertaste kannst du Laser abfeuern, um die herunterfallenden Meteoriten zu zerstören.</p>

<iframe src="source/index.html" width="500" height="400" style="max-width: 100%" class="inline-game"></iframe>

<h2 id="p5-js">p5.js</h2>

<p>Wir verwenden für diese Übung die JavaScript Bibliothek <a href="https://p5js.org/" target="_blank">p5.js</a>. Du kannst den online Editor verwenden, um damit Programme zu bauen, du kannst die Bibliothek aber auch in deine eigene Webseite einbauen.</p>

<p>Öffne zum Starten den <a href="https://editor.p5js.org/" target="_blank">p5.js editor</a>.</p>

<p>Dort wird dir folgender Code angezeigt:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#00f">function</span> setup() {
  createCanvas(400, 400);
}

<span style="color:#00f">function</span> draw() {
  background(220);
}
</code></pre></div>
<h2 id="html">HTML</h2>

<p>Wähle auf der linke Seite zuerst die Datei <code>index.html</code> aus. Dort müssen wir noch die Verweise auf zwei weiter JavaScript Bibliotheken einfügen:</p>

<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html"><span style="color:#00f">&lt;!DOCTYPE html&gt;</span>
&lt;html lang=<span style="color:#a31515">&#34;en&#34;</span>&gt;
  &lt;head&gt;
    &lt;script src=<span style="color:#a31515">&#34;https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.1.9/p5.js&#34;</span>&gt;&lt;/script&gt;
    &lt;script src=<span style="color:#a31515">&#34;https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.1.9/addons/p5.sound.min.js&#34;</span>&gt;&lt;/script&gt;
<span style="display:block;width:100%;background-color:#e5e5e5">    &lt;script src=<span style="color:#a31515">&#34;https://unpkg.com/p5.collide2d&#34;</span>&gt;&lt;/script&gt;   
</span>    
    &lt;link rel=<span style="color:#a31515">&#34;stylesheet&#34;</span> type=<span style="color:#a31515">&#34;text/css&#34;</span> href=<span style="color:#a31515">&#34;style.css&#34;</span>&gt;
    &lt;meta charset=<span style="color:#a31515">&#34;utf-8&#34;</span> /&gt;
  &lt;/head&gt;
  
  &lt;body&gt;
<span style="display:block;width:100%;background-color:#e5e5e5">    &lt;script src=<span style="color:#a31515">&#34;https://linz.coderdojo.net/uebungsanleitungen/programmieren/web/space-shooter-mit-p5js/source/transformer.js&#34;</span>&gt;&lt;/script&gt;
</span>    &lt;script src=<span style="color:#a31515">&#34;sketch.js&#34;</span>&gt;&lt;/script&gt;
  &lt;/body&gt;
&lt;/html&gt;</code></pre></div>

<h2 id="variablen">Variablen</h2>

<p>Wechsle jetzt zurück zur Datei <code>sketch.js</code>. Als erstes legen wir alle Variablen an, die wir für das Spiel brauchen. Füge die Variablen ganz am Anfang des Codes ein. Zeilen die mit <code>//</code> beginnen sind Kommentare, die sind nicht nötig, damit das Programm läuft:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#008000">// x Position vom Raumschiff
</span><span style="color:#008000"></span><span style="color:#00f">let</span> spaceshipX = 250;
<span style="color:#008000">// y Position vom Raumschiff
</span><span style="color:#008000"></span><span style="color:#00f">let</span> spaceshipY = 360;
<span style="color:#008000">// Rotation vom Raumschiff
</span><span style="color:#008000"></span><span style="color:#00f">let</span> rotation = 0;
<span style="color:#008000">// gibt an, ob das Spiel schon vorbei ist weil das Raumschiff getroffen wurde
</span><span style="color:#008000"></span><span style="color:#00f">let</span> gameOver = <span style="color:#00f">false</span>;
<span style="color:#008000">// Liste der Sterne
</span><span style="color:#008000"></span><span style="color:#00f">let</span> stars = [];
<span style="color:#008000">// Liste der Asteroiden
</span><span style="color:#008000"></span><span style="color:#00f">const</span> asteroids = [];
<span style="color:#008000">// Liste der abgefeuerten Laser
</span><span style="color:#008000"></span><span style="color:#00f">const</span> lasers = [];

<span style="color:#008000">// setzt den Focus aufs Spielfeld für die Tastatursteuerung
</span><span style="color:#008000"></span><span style="color:#00f">this</span>.focus();
</code></pre></div>
<h2 id="grafiken-laden">Grafiken laden</h2>

<p>Direkt darunter und noch über der Funktion <code>setup</code> fügen wir eine neue Funktion <code>preload</code> ein, mit der wir alle Grafiken für das Spiel laden:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#00f">function</span> preload() {
  spaceshipImg = loadImage(<span style="color:#a31515">&#39;https://linz.coderdojo.net/uebungsanleitungen/programmieren/web/space-shooter-mit-p5js/source/img/spaceship.png&#39;</span>);
  asteroidImg = loadImage(<span style="color:#a31515">&#39;https://linz.coderdojo.net/uebungsanleitungen/programmieren/web/space-shooter-mit-p5js/source/img/asteroid.png&#39;</span>);
  laserImg = loadImage(<span style="color:#a31515">&#39;https://linz.coderdojo.net/uebungsanleitungen/programmieren/web/space-shooter-mit-p5js/source/img/shot_0.png&#39;</span>);
  
  <span style="color:#00f">for</span> (<span style="color:#00f">let</span> i = 1; i &lt;= 10; i++) {
    explosionImg.push(loadImage(<span style="color:#a31515">&#39;https://linz.coderdojo.net/uebungsanleitungen/programmieren/web/space-shooter-mit-p5js/source/img/shot6_exp&#39;</span> + i.toString() + <span style="color:#a31515">&#39;.png&#39;</span>));
  }
}
</code></pre></div>
<h2 id="spielfeld-vorbereiten">Spielfeld vorbereiten</h2>

<p>Für das Spielfeld nutzen wir die Funktion <code>setup</code>, die einmal beim Starten des Programms aufgerufen wird. Ändere in dieser Funktion die Breite des Spielfelds auf 500:</p>

<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#00f">function</span> setup() {
<span style="display:block;width:100%;background-color:#e5e5e5">  createCanvas(500, 400);
</span>}
</code></pre></div>

<h2 id="spielfeld-updaten">Spielfeld updaten</h2>

<p>In der Funktion <code>draw</code> wird das Spielfeld regelmäßig upgedated. Dazu setzen wir in jedem Durchlauf die Hintergrundfarbe auf schwarz. Außerdem rufen wir eine neue Funktion zum Zeichnen des Raumschiffs auf, die wir gleich nachher noch anlegen werden.</p>

<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#00f">function</span> draw() {
<span style="display:block;width:100%;background-color:#e5e5e5">  background(<span style="color:#a31515">&#39;black&#39;</span>);
</span>  
<span style="display:block;width:100%;background-color:#e5e5e5">  drawSpaceship();
</span>}
</code></pre></div>

<h2 id="raumschiff">Raumschiff</h2>

<p>Nun fügen wir die neue Funktion zum Zeichnen und Steuern des Raumschiffs ein. Füge die Funktion am Ende des Codes ein:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#00f">function</span> drawSpaceship() {
  <span style="color:#008000">// links und rechts bewegen
</span><span style="color:#008000"></span>  <span style="color:#00f">if</span> (keyIsDown(LEFT_ARROW) &amp;&amp; spaceshipX &gt;= 2) {
    spaceshipX -= 2;
  } <span style="color:#00f">else</span> <span style="color:#00f">if</span> (keyIsDown(RIGHT_ARROW) &amp;&amp; spaceshipX &lt;= width - 2) {
    spaceshipX += 2;
  }
  
  <span style="color:#008000">// rotieren
</span><span style="color:#008000"></span>  <span style="color:#00f">if</span> (keyIsDown(65)) {
    rotation -= 0.05;
  } <span style="color:#00f">else</span> <span style="color:#00f">if</span> (keyIsDown(68)) {
    rotation += 0.05;
  }
  
  <span style="color:#008000">// Spaceship zeichnen
</span><span style="color:#008000"></span>  push();
  translate(spaceshipX, spaceshipY);
  rotate(rotation);
  image(spaceshipImg, -30, -47, 60, 94);
  pop();
}
</code></pre></div>
<h2 id="meteoriten">Meteoriten</h2>

<p>Als nächstes lassen wir neue Asteroiden entstehen, die Richtung Raumschiff fallen. Die neue Funktion kannst du am Ende der Datei einfügen:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#00f">function</span> drawAsteroids() {
  <span style="color:#008000">// neue Asteroiden generieren
</span><span style="color:#008000"></span>  <span style="color:#00f">if</span> (frameCount % 120 === 0) {
    asteroids.push({ x: random(0, width), y: 0, size: 10 });
  }
  
  <span style="color:#008000">// Asteroiden zeichnen
</span><span style="color:#008000"></span>  <span style="color:#00f">for</span> (<span style="color:#00f">let</span> i = 0; i &lt; asteroids.length; i++) {
    push();
    translate(asteroids[i].x, asteroids[i].y)
    image(asteroidImg, asteroids[i].size / -2, asteroids[i].size / -2, asteroids[i].size, asteroids[i].size);
    pop();
    
    asteroids[i].y++;
    asteroids[i].size += 0.05;
  }
}
</code></pre></div>
<p>Zusätzlich muss du die neue Funktion auch in der <code>draw</code> Funktion aufrufen:</p>

<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#00f">function</span> draw() {
  background(<span style="color:#a31515">&#39;black&#39;</span>);
  
<span style="display:block;width:100%;background-color:#e5e5e5">  drawAsteroids();
</span>  drawSpaceship();
}
</code></pre></div>

<h2 id="laser">Laser</h2>

<p>Als nächstes wollen wir mit der Leertaste Laser abfeuern. Dazu fügen wir die neue Funktion <code>keyPressed</code> ein, um neue Laser entstehen zu lassen:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#00f">function</span> keyPressed() {
  <span style="color:#00f">if</span> (keyCode === 32) {
    lasers.push({ x: spaceshipX, y: spaceshipY, rotation: rotation, age: 0 });
  }
}
</code></pre></div>
<p>Weiters brauchen wir eine neue Funktion <code>drawLasers</code>, um diese ins Spielfeld zu malen:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#00f">function</span> drawLasers() {
  <span style="color:#00f">for</span> (<span style="color:#00f">let</span> i = 0; i &lt; lasers.length; i++) {
    push();
    translate(lasers[i].x, lasers[i].y);
    rotate(lasers[i].rotation);
    <span style="color:#00f">let</span> imgNumber = Math.min(3, Math.floor(lasers[i].age / 3));
    image(laserImg,  -6,  0,  12,  60);
    pop();
     
    <span style="color:#008000">// neue Position berechnen
</span><span style="color:#008000"></span>    lasers[i].x += 10 * sin(lasers[i].rotation);
    lasers[i].y -= 10 * cos(lasers[i].rotation);
    lasers[i].age++;
  }
  
  <span style="color:#008000">// alte Laser entfernen
</span><span style="color:#008000"></span>  lasers = lasers.filter(l =&gt; l.x &gt;= 0 &amp;&amp; l.x &lt;= width &amp;&amp; l.y &gt;= 0 &amp;&amp; l.y &lt;= height);
}
</code></pre></div>
<p>Und auch in die <code>draw</code> Funktion müssen wir wieder einen Aufruf, zum Zeichnen der Laser einfügen:</p>

<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#00f">function</span> draw() {
  background(<span style="color:#a31515">&#39;black&#39;</span>);
  
  drawAsteroids();
<span style="display:block;width:100%;background-color:#e5e5e5">  drawLasers();
</span>  drawSpaceship();
}
</code></pre></div>

<h2 id="kollisionen-erkennen">Kollisionen erkennen</h2>

<p>Um zu erkennen, ob ein Laser einen Meteoriten berührt, oder ob ein Meteorit das Raumschiff berührt, brauchen wir die folgenden drei Funktionen:</p>
<pre><code>function detectCollisions() {
  // Kollisionen von Asteroiden mit Lasern
  let asteroidCollisions = [];
  
  for (let l = 0; l &lt; lasers.length; l++) {
    for (let a = 0; a &lt; asteroids.length; a++) {
      if (collideRectCircle(
            lasers[l].x - 2, 
            lasers[l].y - 20, 
            4, 
            20, 
            asteroids[a].x, 
            asteroids[a].y, 
            asteroids[a].size)) {
          asteroidCollisions.push({ laserIndex: l, asteroidIndex: a });
          explosions.push({ x: lasers[l].x, y: lasers[l].y, duration: 0 });
      }
    }
  }
  
  for (let i = 0; i &lt; asteroidCollisions.length; i++) {
    lasers.splice(asteroidCollisions[i].laserIndex, 1);
    asteroids.splice(asteroidCollisions[i].asteroidIndex, 1);
  }
  
  // Kollisionen von Asteroiden mit dem Raumschiff
  let spaceshipPolygon = getSpaceshipPolygon();
 
  for (let i = 0; i &lt; asteroids.length &amp;&amp; !gameOver; i++) {
    if (collideCirclePoly(
      asteroids[i].x, 
      asteroids[i].y, 
      asteroids[i].size, spaceshipPolygon)) {
      gameOver = true;
    }
  }
}

function getSpaceshipPolygon() {
  let spaceshipPolygon = [];
  addPointToPolygon(spaceshipPolygon, 0, -50);
  addPointToPolygon(spaceshipPolygon, 20, -30);
  addPointToPolygon(spaceshipPolygon, 20, 0);
  addPointToPolygon(spaceshipPolygon, 25, 40);
  addPointToPolygon(spaceshipPolygon, -25, 40);
  addPointToPolygon(spaceshipPolygon, -20, 0);
  addPointToPolygon(spaceshipPolygon, -20, -30);
  return spaceshipPolygon;
}

function addPointToPolygon(polygon, x, y) {
  push();
  tf = new Transformer();
  tf.rotate(rotation);
  tf.translate(x, y);
  polygon.push(createVector(spaceshipX + tf.x, spaceshipY + tf.y));
  pop();
}</code></pre>
<p>Außerdem brauchen wir in der <code>draw</code> Methode einen Aufruf <code>detectCollisions()</code>:</p>

<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#00f">function</span> draw() {
  background(<span style="color:#a31515">&#39;black&#39;</span>);
  
  drawAsteroids();
  drawLasers();
  drawSpaceship();

<span style="display:block;width:100%;background-color:#e5e5e5">  detectCollisions();
</span>}
</code></pre></div>

<h2 id="explosion">Explosion</h2>

<p>Als nächsters folgt eine Funktion zum Zeichnen aller Explosionen:</p>
<pre><code>function drawExplosions() {
  for (let i = 0; i &lt; explosions.length; i++) {
    push();
    translate(explosions[i].x, explosions[i].y);
    scale(2);
    let imgNumber = Math.min(9, Math.floor(explosions[i].duration / 3));
    image(explosionImg[imgNumber],  -24,  -24,  48,  48);
    pop();
    
    explosions[i].duration++;
  }
  
  explosions = explosions.filter(e =&gt; e.duration / 3 &lt;= 9);
}</code></pre>
<p>Auch diese Funtion wird wieder in der <code>draw</code> Methode aufgerufen:</p>

<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#00f">function</span> draw() {
  background(<span style="color:#a31515">&#39;black&#39;</span>);
  
  drawAsteroids();
  drawLasers();
<span style="display:block;width:100%;background-color:#e5e5e5">  drawExplosions();
</span>  drawSpaceship();

  detectCollisions();
}
</code></pre></div>

<h2 id="sterne">Sterne</h2>

<p>Die Funktion zum Zeichnen der Sterne sieht so aus:</p>
<pre><code>function drawStars() {
  // nach einer Lösung von https://editor.p5js.org/amyxiao/sketches/S1qEhKf2Z
  // alte Sterne löschen
  stars = stars.filter(star =&gt; star.z &gt;= 0);
  
  // neue Sterne generieren
  for (let i = 0; i &lt; frameCount / 600; i++) {
    stars.push({
      x: random(-width / 2, width / 2),
      y: random(-height / 2, height / 2),
      z: random(width)
    });
  }
  
  // Sterne zeichnen
  push();
  translate(width / 2, height / 2);
  fill(&#39;white&#39;);
  noStroke();
  
  let speed = frameCount / 600 + 1;
  
  for (let i = 0; i &lt; stars.length; i++) { 
    let star = stars[i];
    star.z = star.z - speed;
    sx = star.x / star.z * width;
    sy = star.y / star.z * height;
    r = map(star.z, width, 0, 0, 8);
    circle(sx, sy, r);
  }
  
  pop();
}</code></pre>
<p>Auch diese Funtion wird wieder in der <code>draw</code> Methode aufgerufen:</p>

<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#00f">function</span> draw() {
  background(<span style="color:#a31515">&#39;black&#39;</span>);
  
<span style="display:block;width:100%;background-color:#e5e5e5">  drawStars();
</span>  drawAsteroids();
  drawLasers();
  drawExplosions();
  drawSpaceship();

  detectCollisions();
}
</code></pre></div>

<h2 id="game-over">Game Over</h2>

<p>Zu guter letzt müssen wir in der <code>draw</code> Methode noch erkennen, ob das Spiel schon verloren ist:</p>

<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#00f">function</span> draw() {
  background(<span style="color:#a31515">&#39;black&#39;</span>);

<span style="display:block;width:100%;background-color:#e5e5e5">  <span style="color:#00f">if</span> (gameOver) {
</span><span style="display:block;width:100%;background-color:#e5e5e5">    textSize(40);
</span><span style="display:block;width:100%;background-color:#e5e5e5">    textAlign(CENTER, CENTER)
</span><span style="display:block;width:100%;background-color:#e5e5e5">    fill(<span style="color:#a31515">&#39;white&#39;</span>);
</span><span style="display:block;width:100%;background-color:#e5e5e5">    text(<span style="color:#a31515">&#39;GAME OVER&#39;</span>, width / 2, height / 2);
</span><span style="display:block;width:100%;background-color:#e5e5e5">    <span style="color:#00f">return</span>;
</span><span style="display:block;width:100%;background-color:#e5e5e5">  }
</span>  
  drawStars();
  drawAsteroids();
  drawLasers();
  drawExplosions();
  drawSpaceship();

  detectCollisions();
}
</code></pre></div>

<h2 id="source-code">Source Code</h2>

<p>Hier findest du den gesamten Source Code:</p>

<ul>
<li><a href="source/index.html" target="_blank">index.html</a></li>
<li><a href="source/sketch.js" target="_blank">sketch.js</a></li>
<li><a href="source/style.js" target="_blank">style.js</a></li>
<li><a href="source/transformer.js" target="_blank">transformer.js</a></li>
<li>img

<ul>
<li><a href="source/img/asteroid.png" target="_blank">asteroid.png</a></li>
<li><a href="source/img/shot.png" target="_blank">shot.png</a></li>
<li><a href="source/img/shot6_exp1.png" target="_blank">shot6_exp1.png</a></li>
<li><a href="source/img/shot6_exp2.png" target="_blank">shot6_exp2.png</a></li>
<li><a href="source/img/shot6_exp3.png" target="_blank">shot6_exp3.png</a></li>
<li><a href="source/img/shot6_exp4.png" target="_blank">shot6_exp4.png</a></li>
<li><a href="source/img/shot6_exp5.png" target="_blank">shot6_exp5.png</a></li>
<li><a href="source/img/shot6_exp6.png" target="_blank">shot6_exp6.png</a></li>
<li><a href="source/img/shot6_exp7.png" target="_blank">shot6_exp7.png</a></li>
<li><a href="source/img/shot6_exp8.png" target="_blank">shot6_exp8.png</a></li>
<li><a href="source/img/shot6_exp9.png" target="_blank">shot6_exp9.png</a></li>
<li><a href="source/img/shot6_exp10.png" target="_blank">shot6_exp10.png</a></li>
<li><a href="source/img/spaceship.png" target="_blank">spaceship.png</a></li>
</ul></li>
</ul>
 </div>
        </div>
    </div>
</section>  
    <footer>
        <div class="container">
            <div class="row">
                <div class="col">
                    <div>
                        <div>
                            <img src="/img/logo-coding-club-linz-white.svg">
                        </div>
                        <div>Coding Club Linz<br />Birkenweg 16, 4060 Leonding <br />
                            <a href="mailto:info@linz.coderdojo.net">info@linz.coderdojo.net</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </footer> <!-- Js -->
    <script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"
        integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"
        integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.17.1/moment.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.17.1/locale/de-at.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/showdown/1.9.1/showdown.min.js"></script>
    <script src="https://linz.coderdojo.net/js/wow.min.js"></script>
    <script src="https://linz.coderdojo.net/js/main.js"></script>
    <script src="https://www.google.com/recaptcha/api.js?render=6LfXNMcZAAAAALYnf3GpUqw5uotVMyjhLNU438i9"></script>
</body>

</html>
