<!DOCTYPE html>
<html class="no-js" lang="de-AT">


<head>
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-63326882-1"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());

        gtag('config', 'UA-63326882-1');
    </script>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title> Fraktal Baum mit snap.svg </title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1"> <meta name="generator" content="Hugo 0.73.0" /> <!-- Fonts -->

    
    <link rel="canonical" href="https://linz.coderdojo.net/uebungsanleitungen/programmieren/web/svg-fraktalbaum/" />
    

    <link href='//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,500,600,700,800' rel='stylesheet'
        type='text/css'>
    <link href="https://fonts.googleapis.com/css2?family=Indie+Flower&display=swap" rel="stylesheet"> <!-- Stylesheets -->
     
    
    <link rel="stylesheet" href="https://linz.coderdojo.net/vendor.min.55a3cbb6f035c25e5c7cf706ee053eca6f5a54d8095b05fd737d1b0330f99eaf.css">
    <link rel="stylesheet" href="https://linz.coderdojo.net/css/animate.css">
     
     
    <link rel="stylesheet" href="https://linz.coderdojo.net/style.min.35aa49f96e03b4c2a97c78f45940017bc7017768e74f0ce20e9ff28467477ef3.css">
    <script src="https://kit.fontawesome.com/5bb5b2cc9c.js" crossorigin="anonymous"></script>
</head>

<body id="body">
    <!-- NAVIGATION -->

<nav class="navbar fixed-top navbar-expand-lg navbar-light bg-light ">
    <div class="container-fluid">
        <a class="navbar-brand" href="/"><img src="/img/logo-linz.png" height="30"></a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav ml-auto">
                <li class="nav-item ">
                    <a class="nav-link" href="/">Home</a>
                </li>
                <li class="nav-item ">
                    <a class="nav-link" href="/termine">Termine</a>
                </li>
                <li class="nav-item ">
                    <a class="nav-link" href="/info">Infos</a>
                </li>
                <li class="nav-item ">
                    <a class="nav-link" href="/mentoren">Mentoren</a>
                </li>
                <li class="nav-item ">
                    <a class="nav-link" href="/sponsoring">Sponsoring</a>
                </li>
                <li class="nav-item active">
                    <a class="nav-link" href="/uebungsanleitungen">Übungsanleitungen</a>
                </li>
            </ul>
        </div>
    </div>
</nav>     

<div class="container-fluid breadcrumb-container">
    <div class="container">
        <nav class="breadcrumb-nav" aria-label="breadcrumb">
        <ol class="breadcrumb">
            
        
        
        
        
        
        
        
        
        

        
        
        

        
        
        <li class="breadcrumb-item">
            <a href="https://linz.coderdojo.net/uebungsanleitungen/">Übungsanleitungen</a>
        </li>
        
        
        
        

        
        
        <li class="breadcrumb-item">
            <a href="https://linz.coderdojo.net/uebungsanleitungen/programmieren/">Programmieren</a>
        </li>
        
        
        
        

        
        
        <li class="breadcrumb-item">
            <a href="https://linz.coderdojo.net/uebungsanleitungen/programmieren/web/">Web</a>
        </li>
        
        
        
        

        
        
        
        
        </ol>

        
        </nav>
    </div>
</div> 

<section id="sushi">
    <div class="container">
        <div class="row">
            
            <div class="col-12 sushi-toc">
                <h2>Inhalt</h2>
                <nav id="TableOfContents">
<ul>
<li><a href="#zeichne-einen-fraktal-baum-mit-snap-svg">Zeichne einen Fraktal Baum mit snap.svg</a>
<ul>
<li><a href="#ziel-der-übung">Ziel der Übung</a></li>
<li><a href="#grundgerüst-der-html-seite">Grundgerüst der HTML Seite</a></li>
<li><a href="#baum-malen">Baum malen</a></li>
<li><a href="#winkel-und-astlänge-variieren">Winkel und Astlänge variieren</a></li>
<li><a href="#variation-durch-zufallszahlen">Variation durch Zufallszahlen</a></li>
<li><a href="#farbe-und-liniendicke-ändern">Farbe und Liniendicke ändern</a></li>
</ul></li>
</ul>
</nav>
            </div>
            <div class="col-12 sushi-content"> 

<h1 id="zeichne-einen-fraktal-baum-mit-snap-svg">Zeichne einen Fraktal Baum mit snap.svg</h1>

<h2 id="ziel-der-übung">Ziel der Übung</h2>

<p>Zeichne einen Baum in SVG. Starte dazu mit einer vertikalen Linie als Stamm.</p>

<p>Am oberen Ende der Linie zeichne zwei weitere Linien - eine etwas nach links und eine etwas nach rechts geneigt.
Die neuen beiden Linien sind etwas kürzer als die erste Linie für den Stamm. In dieser zweiten Ebene erhältst du so zwei Zweige.</p>

<p>Am jeweils oberen Ende der beiden neuen Linie zweichne wieder jeweils zwei neue nach links und rechts geneigte Linien die etwas kürzer als die vorige Linie sind.
In dieser dritten Ebene erhältst du so jetzt vier Zweige.</p>

<p>Fahre nach diesem Muster fort, bis der Baum viele kleine Zweige hat.</p>




     
    










<div class="row">
    <div class="col">
        <p></p>
    </div>
    <div class="col-12 col-md-12">
    <img src="/uebungsanleitungen/programmieren/web/svg-fraktalbaum/img/fraktal-baum.png" alt="(.Get 1)" class="mx-auto " style="display: block; width: auto" />
    </div>
</div>


<h2 id="grundgerüst-der-html-seite">Grundgerüst der HTML Seite</h2>

<p>Erstelle als erstes eine neue HTML Seite mit dem Namen fraktal-baum.html.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html"><span style="color:#75715e">&lt;!DOCTYPE html&gt;</span>
&lt;<span style="color:#f92672">html</span>&gt;
&lt;<span style="color:#f92672">head</span>&gt;
	&lt;<span style="color:#f92672">title</span>&gt;Fraktalbaum&lt;/<span style="color:#f92672">title</span>&gt;
	&lt;<span style="color:#f92672">meta</span> <span style="color:#a6e22e">charset</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;utf-8&#34;</span> /&gt;

	&lt;<span style="color:#f92672">style</span>&gt;
		<span style="color:#f92672">line</span><span style="color:#f92672">,</span> <span style="color:#f92672">circle</span><span style="color:#f92672">,</span> <span style="color:#f92672">ellipse</span><span style="color:#f92672">,</span> <span style="color:#f92672">rect</span><span style="color:#f92672">,</span> <span style="color:#f92672">text</span><span style="color:#f92672">,</span> <span style="color:#f92672">path</span> {
			stroke: <span style="color:#66d9ef">black</span>;
			fill: <span style="color:#66d9ef">none</span>;
		}
	&lt;/<span style="color:#f92672">style</span>&gt;
&lt;/<span style="color:#f92672">head</span>&gt;
&lt;<span style="color:#f92672">body</span>&gt;
	&lt;<span style="color:#f92672">h1</span>&gt;Fraktalbaum&lt;/<span style="color:#f92672">h1</span>&gt;
	&lt;<span style="color:#f92672">div</span>&gt;
		&lt;<span style="color:#f92672">svg</span> <span style="color:#a6e22e">id</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;baum&#34;</span> <span style="color:#a6e22e">width</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;600&#34;</span> <span style="color:#a6e22e">height</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;500&#34;</span>&gt;&lt;/<span style="color:#f92672">svg</span>&gt;
	&lt;/<span style="color:#f92672">div</span>&gt;

	&lt;<span style="color:#f92672">script</span> <span style="color:#a6e22e">type</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;text/javascript&#34;</span> <span style="color:#a6e22e">src</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;https://cdnjs.cloudflare.com/ajax/libs/snap.svg/0.4.1/snap.svg-min.js&#34;</span>&gt;&lt;/<span style="color:#f92672">script</span>&gt;

	&lt;<span style="color:#f92672">script</span> <span style="color:#a6e22e">type</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;text/javascript&#34;</span>&gt;
		<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">svg</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">Snap</span>(<span style="color:#e6db74">&#34;#baum&#34;</span>);

		<span style="color:#75715e">// Hier kannst du zeichnen
</span><span style="color:#75715e"></span>	&lt;/<span style="color:#f92672">script</span>&gt;
&lt;/<span style="color:#f92672">body</span>&gt;
&lt;/<span style="color:#f92672">html</span>&gt;</code></pre></div>
<p>Zum Zeichnen verwenden wir die Bibliothek <a href="http://snapsvg.io/docs/" target="_blank">snap.svg</a>. Du kannst damit ganz einfach Linien, Kreise, Ellipsen, Rechtecke und ähnliches malen.</p>

<p>Versuche es, indem du unter den Kommentar <code>// Hier kannst du zeichnen</code> folgenden Code einfügst:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#75715e">// Hier kannst du zeichnen
</span><span style="color:#75715e"></span><span style="color:#a6e22e">svg</span>.<span style="color:#a6e22e">circle</span>(<span style="color:#ae81ff">300</span>, <span style="color:#ae81ff">250</span>, <span style="color:#ae81ff">200</span>);
<span style="color:#a6e22e">svg</span>.<span style="color:#a6e22e">ellipse</span>(<span style="color:#ae81ff">300</span>, <span style="color:#ae81ff">250</span>, <span style="color:#ae81ff">200</span>, <span style="color:#ae81ff">100</span>);
<span style="color:#a6e22e">svg</span>.<span style="color:#a6e22e">rect</span>(<span style="color:#ae81ff">100</span>, <span style="color:#ae81ff">50</span>, <span style="color:#ae81ff">400</span>, <span style="color:#ae81ff">400</span>);
<span style="color:#a6e22e">svg</span>.<span style="color:#a6e22e">line</span>(<span style="color:#ae81ff">100</span>, <span style="color:#ae81ff">250</span>, <span style="color:#ae81ff">500</span>, <span style="color:#ae81ff">250</span>);
<span style="color:#a6e22e">svg</span>.<span style="color:#a6e22e">text</span>(<span style="color:#ae81ff">230</span>, <span style="color:#ae81ff">240</span>, <span style="color:#e6db74">&#34;Ich male mit snap.svg!&#34;</span>);
<span style="color:#a6e22e">svg</span>.<span style="color:#a6e22e">path</span>(<span style="color:#e6db74">&#34;M200,250L300,300L400,250&#34;</span>);
</code></pre></div>
<p>Du zeichnest damit folgende Figur:</p>




     
    










<div class="row">
    <div class="col">
        <p></p>
    </div>
    <div class="col-12 col-md-12">
    <img src="/uebungsanleitungen/programmieren/web/svg-fraktalbaum/img/snap-svg-figur.png" alt="(.Get 1)" class="mx-auto " style="display: block; width: auto" />
    </div>
</div>


<h2 id="baum-malen">Baum malen</h2>

<p>Lösche die Figur unter den Kommentar <code>// Hier kannst du zeichnen</code> und ersetzte sie durch folgenden Code:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#75715e">// Hier kannst du zeichnen
</span><span style="color:#75715e"></span><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">ebene</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">winkel</span> <span style="color:#f92672">=</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">90</span>;
<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">astLaenge</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">100</span>;
<span style="color:#a6e22e">astZeichnen</span>(<span style="color:#ae81ff">300</span>, <span style="color:#ae81ff">500</span>, <span style="color:#a6e22e">winkel</span>, <span style="color:#a6e22e">astLaenge</span>, <span style="color:#a6e22e">ebene</span>);

<span style="color:#66d9ef">function</span> <span style="color:#a6e22e">astZeichnen</span>(<span style="color:#a6e22e">x1</span>, <span style="color:#a6e22e">y1</span>, <span style="color:#a6e22e">winkel</span>, <span style="color:#a6e22e">astLaenge</span>, <span style="color:#a6e22e">ebene</span>) {
	<span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">ebene</span> <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">11</span>) {
		<span style="color:#75715e">// Endkoordinaten berechnen
</span><span style="color:#75715e"></span>		<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">x2</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">x1</span> <span style="color:#f92672">+</span> (Math.<span style="color:#a6e22e">cos</span>(<span style="color:#a6e22e">winkel</span> <span style="color:#f92672">*</span> Math.<span style="color:#a6e22e">PI</span> <span style="color:#f92672">/</span> <span style="color:#ae81ff">180</span>) <span style="color:#f92672">*</span> <span style="color:#a6e22e">astLaenge</span>);
		<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">y2</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">y1</span> <span style="color:#f92672">+</span> (Math.<span style="color:#a6e22e">sin</span>(<span style="color:#a6e22e">winkel</span> <span style="color:#f92672">*</span> Math.<span style="color:#a6e22e">PI</span> <span style="color:#f92672">/</span> <span style="color:#ae81ff">180</span>) <span style="color:#f92672">*</span> <span style="color:#a6e22e">astLaenge</span>);

		<span style="color:#75715e">// Linie zeichnen
</span><span style="color:#75715e"></span>		<span style="color:#a6e22e">svg</span>.<span style="color:#a6e22e">line</span>(<span style="color:#a6e22e">x1</span>, <span style="color:#a6e22e">y1</span>, <span style="color:#a6e22e">x2</span>, <span style="color:#a6e22e">y2</span>);

		<span style="color:#75715e">// zwei weitere Äste mit verändertem Winkel malen
</span><span style="color:#75715e"></span>		<span style="color:#a6e22e">astZeichnen</span>(<span style="color:#a6e22e">x2</span>, <span style="color:#a6e22e">y2</span>, <span style="color:#a6e22e">winkel</span> <span style="color:#f92672">-</span> <span style="color:#ae81ff">20</span>, <span style="color:#a6e22e">astLaenge</span> <span style="color:#f92672">*</span> <span style="color:#ae81ff">0.8</span>, <span style="color:#a6e22e">ebene</span> <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>);
		<span style="color:#a6e22e">astZeichnen</span>(<span style="color:#a6e22e">x2</span>, <span style="color:#a6e22e">y2</span>, <span style="color:#a6e22e">winkel</span> <span style="color:#f92672">+</span> <span style="color:#ae81ff">20</span>, <span style="color:#a6e22e">astLaenge</span> <span style="color:#f92672">*</span> <span style="color:#ae81ff">0.8</span>, <span style="color:#a6e22e">ebene</span> <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>);
	}
}
</code></pre></div>
<p>Hier arbeiten wir mit einer Funktion <code>astZeichnen</code>, die rekursiv durch sich selbst wieder aufgerufen wird. Beim ersten Aufruf von <code>astZeichnen</code>
werden die Startkoordinaten x=300 und y=500 übergeben. Der Winkel des Stammes beträgt -90°, d.h. die Linie für den Stamm geht nach oben.
Die Länge des ersten Astes (=Stamm) wird mit 100 festgelegt und als Ebene 0 bezeichnet.</p>

<p>In der Funktion <code>astZeichnen</code> berechnen wir ausgehenden von den Startkoordinaten und dem Winkel die Endkoordinaten der ersten Linie. Dann zeichnen wir diese Linie.</p>

<p>Danach zeichnen wir zwei weitere Äste, für die wir den Winkel einmal um 20° reduzieren und einmal um 20° erhöhen. Die Startkoordinaten der beiden neuen Äste sind die Endkoordinaten des
ersten Astes. Die Ebene erhöhen wir um 1, damit wir wissen, wie viele Ebenen wir schon gezeichnet haben. Nach 10 Ebenen zeichnen wir keine weiteren Äste mehr.</p>

<p>Der Aufruf der Funktion <code>astZeichnen</code> innerhalb der Funktion <code>astZeichnen</code> selbst wird als rekursiver Aufruf der Funktion bezeichnet. Es ist wichtig, hier immer eine Abbruchsbedingung
zu haben, da der Code sonst ewig weiterläuft. In unserem Beispiel ist das die Bedingung <code>if (ebene &lt; 11)</code> zu Beginn der Funktion.</p>

<p>Wenn du die Seite jetzt aufrufst, erhältst du folgenden Baum:</p>




     
    










<div class="row">
    <div class="col">
        <p></p>
    </div>
    <div class="col-12 col-md-12">
    <img src="/uebungsanleitungen/programmieren/web/svg-fraktalbaum/img/fraktal-baum-1.png" alt="(.Get 1)" class="mx-auto " style="display: block; width: auto" />
    </div>
</div>


<h2 id="winkel-und-astlänge-variieren">Winkel und Astlänge variieren</h2>

<p>Damit du das Aussehen des Baums einfach ändern kannst, fügen wir im HTML jetzt zwei Eingabefelder hinzu, mit denen du den Winkel und die Länge der Äste bestimmen kannst. Füge dazu zwischen
der Überschrift <code>&lt;h1&gt;</code> und dem <code>&lt;div&gt;</code> mit dem <code>&lt;svg&gt;</code> folgenden Code ein:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#f92672">h1</span>&gt;Fraktalbaum&lt;/<span style="color:#f92672">h1</span>&gt;
&lt;<span style="color:#f92672">p</span>&gt;
	Winkel: &lt;<span style="color:#f92672">input</span> <span style="color:#a6e22e">type</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;number&#34;</span> <span style="color:#a6e22e">id</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;aenderungsWinkel&#34;</span> <span style="color:#a6e22e">value</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;20&#34;</span> /&gt;
&lt;/<span style="color:#f92672">p</span>&gt;
&lt;<span style="color:#f92672">p</span>&gt;
	Änderung Astlänge [%]: &lt;<span style="color:#f92672">input</span> <span style="color:#a6e22e">type</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;number&#34;</span> <span style="color:#a6e22e">id</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;aenderungAstlaenge&#34;</span> <span style="color:#a6e22e">value</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;80&#34;</span> /&gt;
&lt;/<span style="color:#f92672">p</span>&gt;
&lt;<span style="color:#f92672">p</span>&gt;
	&lt;<span style="color:#f92672">button</span> <span style="color:#a6e22e">onclick</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;baumZeichnen()&#34;</span>&gt;Baum zeichnen&lt;/<span style="color:#f92672">button</span>&gt;
&lt;/<span style="color:#f92672">p</span>&gt;
&lt;<span style="color:#f92672">div</span>&gt;
	&lt;<span style="color:#f92672">svg</span> <span style="color:#a6e22e">id</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;baum&#34;</span> <span style="color:#a6e22e">width</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;600&#34;</span> <span style="color:#a6e22e">height</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;500&#34;</span>&gt;&lt;/<span style="color:#f92672">svg</span>&gt;
&lt;/<span style="color:#f92672">div</span>&gt;</code></pre></div>
<p>Den Code zum Malen des Baums musst du folgendermaßen ändern:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#75715e">// Hier kannst du zeichnen
</span><span style="color:#75715e">// globale Variablen
</span><span style="color:#75715e"></span><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">aenderungswinkel</span>;
<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">aenderungAstlaenge</span>;
<span style="color:#a6e22e">baumZeichnen</span>();

<span style="color:#66d9ef">function</span> <span style="color:#a6e22e">baumZeichnen</span>() {
	<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">ebene</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
	<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">winkel</span> <span style="color:#f92672">=</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">90</span>;
	<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">astLaenge</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">100</span>;

	<span style="color:#75715e">// Benutzereingaben auslesen
</span><span style="color:#75715e"></span>	<span style="color:#a6e22e">aenderungswinkel</span> <span style="color:#f92672">=</span> parseInt(document.<span style="color:#a6e22e">getElementById</span>(<span style="color:#e6db74">&#34;aenderungsWinkel&#34;</span>).<span style="color:#a6e22e">value</span>);
	<span style="color:#a6e22e">aenderungAstlaenge</span> <span style="color:#f92672">=</span> parseInt(document.<span style="color:#a6e22e">getElementById</span>(<span style="color:#e6db74">&#34;aenderungAstlaenge&#34;</span>).<span style="color:#a6e22e">value</span>) <span style="color:#f92672">/</span> <span style="color:#ae81ff">100</span>;

	<span style="color:#a6e22e">svg</span>.<span style="color:#a6e22e">clear</span>();
	<span style="color:#a6e22e">astZeichnen</span>(<span style="color:#ae81ff">300</span>, <span style="color:#ae81ff">500</span>, <span style="color:#a6e22e">winkel</span>, <span style="color:#a6e22e">astLaenge</span>, <span style="color:#a6e22e">ebene</span>);
}

<span style="color:#66d9ef">function</span> <span style="color:#a6e22e">astZeichnen</span>(<span style="color:#a6e22e">x1</span>, <span style="color:#a6e22e">y1</span>, <span style="color:#a6e22e">winkel</span>, <span style="color:#a6e22e">astLaenge</span>, <span style="color:#a6e22e">ebene</span>) {
	<span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">ebene</span> <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">11</span>) {
		<span style="color:#75715e">// Endkoordinaten berrechnen
</span><span style="color:#75715e"></span>		<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">x2</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">x1</span> <span style="color:#f92672">+</span> (Math.<span style="color:#a6e22e">cos</span>(<span style="color:#a6e22e">winkel</span> <span style="color:#f92672">*</span> Math.<span style="color:#a6e22e">PI</span> <span style="color:#f92672">/</span> <span style="color:#ae81ff">180</span>) <span style="color:#f92672">*</span> <span style="color:#a6e22e">astLaenge</span>);
		<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">y2</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">y1</span> <span style="color:#f92672">+</span> (Math.<span style="color:#a6e22e">sin</span>(<span style="color:#a6e22e">winkel</span> <span style="color:#f92672">*</span> Math.<span style="color:#a6e22e">PI</span> <span style="color:#f92672">/</span> <span style="color:#ae81ff">180</span>) <span style="color:#f92672">*</span> <span style="color:#a6e22e">astLaenge</span>);

		<span style="color:#75715e">// Linie zeichnen
</span><span style="color:#75715e"></span>		<span style="color:#a6e22e">svg</span>.<span style="color:#a6e22e">line</span>(<span style="color:#a6e22e">x1</span>, <span style="color:#a6e22e">y1</span>, <span style="color:#a6e22e">x2</span>, <span style="color:#a6e22e">y2</span>);

		<span style="color:#75715e">// zwei weitere Äste mit verändertem Winkel malen
</span><span style="color:#75715e"></span>		<span style="color:#a6e22e">astZeichnen</span>(<span style="color:#a6e22e">x2</span>, <span style="color:#a6e22e">y2</span>, <span style="color:#a6e22e">winkel</span> <span style="color:#f92672">-</span> <span style="color:#a6e22e">aenderungswinkel</span>, <span style="color:#a6e22e">astLaenge</span> <span style="color:#f92672">*</span> <span style="color:#a6e22e">aenderungAstlaenge</span>, <span style="color:#a6e22e">ebene</span> <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>);
		<span style="color:#a6e22e">astZeichnen</span>(<span style="color:#a6e22e">x2</span>, <span style="color:#a6e22e">y2</span>, <span style="color:#a6e22e">winkel</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">aenderungswinkel</span>, <span style="color:#a6e22e">astLaenge</span> <span style="color:#f92672">*</span> <span style="color:#a6e22e">aenderungAstlaenge</span>, <span style="color:#a6e22e">ebene</span> <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>);
	}
}
</code></pre></div>
<p>Wir legen dazu gleich zu Beginn des Scripts zwei globale Variablen <code>aenderungswinkel</code> und <code>aenderungAstlaenge</code> an. Dann fügen wir eine neue Funktion <code>baumZeichnen</code> ein,
die das Auslesen der Benutzereingaben übernimmt. Diese Funktion <code>baumZeichnen</code> kann durch Klick auf den Button immer wieder aufgerufen werden.</p>

<p>Du kannst jetzt direkt in der HTML Seite einen Winkel und die Änderung der Astlänge für jede Ebene eingeben. Probier verschiedene Zahlen aus und sieh dir an, wie sich der Baum verändert.</p>




     
    










<div class="row">
    <div class="col">
        <p></p>
    </div>
    <div class="col-12 col-md-12">
    <img src="/uebungsanleitungen/programmieren/web/svg-fraktalbaum/img/fraktal-baum-2.png" alt="(.Get 1)" class="mx-auto " style="display: block; width: auto" />
    </div>
</div>


<h2 id="variation-durch-zufallszahlen">Variation durch Zufallszahlen</h2>

<p>Damit der Baum etwas natürlicher aussieht, müssen wir die Änderung der Astlänge und den Winkel etwas varieren. Das erreichen wir, indem wir die von uns vorgegebenen Zahlen durch
Multiplikation mit einer Zufallszahl leicht verändern.</p>

<p>Ergänze dazu die globalen Variablen durch die beiden neuen Variablen <code>zufallAenderungswinkel</code> und <code>zufallAstlaenge</code>. Diesen weisen wir gleich Werte zu.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#75715e">// globale Variablen
</span><span style="color:#75715e"></span><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">aenderungswinkel</span>;
<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">aenderungAstlaenge</span>;
<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">zufallAenderungswinkel</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">15</span>;
<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">zufallAstlaenge</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">10</span>;
<span style="color:#a6e22e">baumZeichnen</span>()
</code></pre></div>
<p>Zusätzlich müssen wir noch die Aufrufe <code>astZeichnen</code> innerhalb der Funktion <code>astZeichnen</code> verändern, so dass beim Winkel und bei der Astlänge eine Zufallszahl eingebaut wird.
Die Funktion <code>Math.random()</code> liefert eine Gleitkommazahl zwischen 0 (inklusive) und 1 (exklusive). Wir subtrahieren 0.5 von dieser generierten Zufallszahl damit wir positive und negative
Änderungen erhalten und multiplizieren diese dann mit unserer Variable <code>zufallAenderungswinkel</code> bzw. <code>zufallAstlaenge</code>.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#75715e">// zwei weitere Äste mit verändertem Winkel malen
</span><span style="color:#75715e"></span><span style="color:#a6e22e">astZeichnen</span>(
	<span style="color:#a6e22e">x2</span>,
	<span style="color:#a6e22e">y2</span>,
	<span style="color:#a6e22e">winkel</span> <span style="color:#f92672">-</span> <span style="color:#a6e22e">aenderungswinkel</span> <span style="color:#f92672">+</span> (Math.<span style="color:#a6e22e">random</span>() <span style="color:#f92672">-</span> <span style="color:#ae81ff">0.5</span>) <span style="color:#f92672">*</span> <span style="color:#a6e22e">zufallAenderungswinkel</span>,
	<span style="color:#a6e22e">astLaenge</span> <span style="color:#f92672">*</span> <span style="color:#a6e22e">aenderungAstlaenge</span> <span style="color:#f92672">+</span> (Math.<span style="color:#a6e22e">random</span>() <span style="color:#f92672">-</span> <span style="color:#ae81ff">0.5</span>) <span style="color:#f92672">*</span> <span style="color:#a6e22e">zufallAstlaenge</span>, <span style="color:#a6e22e">ebene</span> <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>);
<span style="color:#a6e22e">astZeichnen</span>(
	<span style="color:#a6e22e">x2</span>,
	<span style="color:#a6e22e">y2</span>,
	<span style="color:#a6e22e">winkel</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">aenderungswinkel</span> <span style="color:#f92672">+</span> (Math.<span style="color:#a6e22e">random</span>() <span style="color:#f92672">-</span> <span style="color:#ae81ff">0.5</span>) <span style="color:#f92672">*</span> <span style="color:#a6e22e">zufallAenderungswinkel</span>,
	<span style="color:#a6e22e">astLaenge</span> <span style="color:#f92672">*</span> <span style="color:#a6e22e">aenderungAstlaenge</span> <span style="color:#f92672">+</span> (Math.<span style="color:#a6e22e">random</span>() <span style="color:#f92672">-</span> <span style="color:#ae81ff">0.5</span>) <span style="color:#f92672">*</span> <span style="color:#a6e22e">zufallAstlaenge</span>, <span style="color:#a6e22e">ebene</span> <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>);
</code></pre></div>
<p>Der Baum sieht jetzt etwas natürlicher aus. Probiere auch andere Werte für die beiden Variablen <code>zufallAenderungswinkel</code> und <code>zufallAstlaenge</code> aus.</p>




     
    










<div class="row">
    <div class="col">
        <p></p>
    </div>
    <div class="col-12 col-md-12">
    <img src="/uebungsanleitungen/programmieren/web/svg-fraktalbaum/img/fraktal-baum-3.png" alt="(.Get 1)" class="mx-auto " style="display: block; width: auto" />
    </div>
</div>


<h2 id="farbe-und-liniendicke-ändern">Farbe und Liniendicke ändern</h2>

<p>Um den Baum in Farbe zeichnen zu können, brauchen wir als erstes eine Bibliothek, die uns ermöglicht, Farbänderungen berechnen zu können. Wir verwenden dazu <a href="https://bgrins.github.io/TinyColor/" target="_blank">TinyColor</a>{:target=_blank}.
Füge einen Verweis darauf unter den Verweis auf snap.svg ein:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#f92672">script</span> <span style="color:#a6e22e">type</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;text/javascript&#34;</span> <span style="color:#a6e22e">src</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;https://cdnjs.cloudflare.com/ajax/libs/snap.svg/0.4.1/snap.svg-min.js&#34;</span>&gt;&lt;/<span style="color:#f92672">script</span>&gt;
&lt;<span style="color:#f92672">script</span> <span style="color:#a6e22e">type</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;text/javascript&#34;</span> <span style="color:#a6e22e">src</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;https://cdnjs.cloudflare.com/ajax/libs/tinycolor/1.4.1/tinycolor.min.js&#34;</span>&gt;&lt;/<span style="color:#f92672">script</span>&gt;</code></pre></div>
<p>Als nächstes fügen wir eine weitere globale Variable <code>maxEbene</code> hinzu:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#75715e">// globale Variablen
</span><span style="color:#75715e"></span><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">aenderungswinkel</span>;
<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">aenderungAstlaenge</span>;
<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">zufallAenderungswinkel</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">15</span>;
<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">zufallAstlaenge</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">10</span>;
<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">maxEbene</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">11</span>;
<span style="color:#a6e22e">baumZeichnen</span>()
</code></pre></div>
<p>Ändere in der Funktion <code>astZeichnen</code> die Bedingung in der ersten Zeile auf <code>if (ebene &lt; maxEbene)</code>.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">astZeichnen</span>(<span style="color:#a6e22e">x1</span>, <span style="color:#a6e22e">y1</span>, <span style="color:#a6e22e">winkel</span>, <span style="color:#a6e22e">astLaenge</span>, <span style="color:#a6e22e">ebene</span>) {
	<span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">ebene</span> <span style="color:#f92672">&lt;</span> <span style="color:#a6e22e">maxEbene</span>) {
</code></pre></div>
<p>Nun müssen wir noch das Zeichnen der Linie anpassen. Wir weisen dazu das Ergebnis des Funktionsaufrufes <code>svg.line</code> der Variable ast zu. Mit <code>ast.attr</code> können wir dann die
Attribute der Linie wie z.B. die Linienfarbe oder Liniendicke ändern. Als Ausgangsfarbe wählen wir ein sehr dunkles Grün für den Stamm (#001100), das für jede Ebene heller gemacht wird.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#75715e">// Linie zeichnen
</span><span style="color:#75715e"></span><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">ast</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">svg</span>.<span style="color:#a6e22e">line</span>(<span style="color:#a6e22e">x1</span>, <span style="color:#a6e22e">y1</span>, <span style="color:#a6e22e">x2</span>, <span style="color:#a6e22e">y2</span>);
<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">color</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">tinycolor</span>(<span style="color:#e6db74">&#34;#001100&#34;</span>);
<span style="color:#a6e22e">ast</span>.<span style="color:#a6e22e">attr</span>({
	<span style="color:#a6e22e">stroke</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">color</span>.<span style="color:#a6e22e">lighten</span>(<span style="color:#a6e22e">ebene</span> <span style="color:#f92672">*</span> <span style="color:#ae81ff">3</span>).<span style="color:#a6e22e">toString</span>(),
	<span style="color:#a6e22e">strokeWidth</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">maxEbene</span> <span style="color:#f92672">-</span> <span style="color:#a6e22e">ebene</span>
});
</code></pre></div>
<p>Damit die Farbe auch sichtbar wird müssen wir noch <code>stroke: black;</code> aus dem <code>&lt;style&gt;</code>-Block von oben entfernen. Es bleibt also nur das <code>fill: none;</code> übrig.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#f92672">style</span>&gt;
	<span style="color:#f92672">line</span><span style="color:#f92672">,</span> <span style="color:#f92672">circle</span><span style="color:#f92672">,</span> <span style="color:#f92672">ellipse</span><span style="color:#f92672">,</span> <span style="color:#f92672">rect</span><span style="color:#f92672">,</span> <span style="color:#f92672">text</span><span style="color:#f92672">,</span> <span style="color:#f92672">path</span> {
		fill: <span style="color:#66d9ef">none</span>;
	}
&lt;/<span style="color:#f92672">style</span>&gt;</code></pre></div>



     
    










<div class="row">
    <div class="col">
        <p></p>
    </div>
    <div class="col-12 col-md-12">
    <img src="/uebungsanleitungen/programmieren/web/svg-fraktalbaum/img/fraktal-baum-4.png" alt="(.Get 1)" class="mx-auto " style="display: block; width: auto" />
    </div>
</div>


<p>Damit der Baum noch besser aussieht, kannst du mehr Ebenen malen lassen. Erhöhe dazu die Variable <code>maxEbene</code>. Sei aber vorsichtig beim Auswählen des Wertes, denn in jeder Ebene
verdoppelt sich die Anzahl der Linien. Das Zeichnen kann damit sehr schnell ziemlich lange dauern. Bei 15 Ebenen kann das Zeichnen des Baums schon 10 - 15 Sekunden dauern.</p>




     
    










<div class="row">
    <div class="col">
        <p></p>
    </div>
    <div class="col-12 col-md-12">
    <img src="/uebungsanleitungen/programmieren/web/svg-fraktalbaum/img/fraktal-baum-4-1.png" alt="(.Get 1)" class="mx-auto " style="display: block; width: auto" />
    </div>
</div>

 </div>
        </div>
    </div>
</section>  <footer>
        <div class="container">
            <div class="row">
                <div class="col">
                    <div>
                        <div>
<img src="/img/logo-coding-club-linz-white.svg">
                        </div>
                        <div>Coding Club Linz<br />Birkenweg 16, 4060 Leonding <br />
                            <a href="mailto:info@linz.coderdojo.net">info@linz.coderdojo.net</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </footer> <!-- Js -->
    <script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"
        integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"
        integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.17.1/moment.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.17.1/locale/de-at.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/showdown/1.9.1/showdown.min.js"></script>
    <script src="https://linz.coderdojo.net/js/wow.min.js"></script>
    <script src="https://linz.coderdojo.net/js/main.js"></script>
</body>

</html>
