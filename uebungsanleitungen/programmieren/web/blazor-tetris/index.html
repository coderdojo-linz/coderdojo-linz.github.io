<!DOCTYPE html>
<html class="no-js" lang="de-AT">


<head>
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-63326882-1"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());

        gtag('config', 'UA-63326882-1');
    </script>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title> Tetris mit Blazor </title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1"> <meta name="generator" content="Hugo 0.73.0" /> <!-- Fonts -->

    
    <link rel="canonical" href="https://linz.coderdojo.net/uebungsanleitungen/programmieren/web/blazor-tetris/" />
    

    <link href='//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,500,600,700,800' rel='stylesheet'
        type='text/css'>
    <link href="https://fonts.googleapis.com/css2?family=Indie+Flower&display=swap" rel="stylesheet"> <!-- Stylesheets -->
     
    
    <link rel="stylesheet" href="https://linz.coderdojo.net/vendor.min.55a3cbb6f035c25e5c7cf706ee053eca6f5a54d8095b05fd737d1b0330f99eaf.css">
    <link rel="stylesheet" href="https://linz.coderdojo.net/css/animate.css">
     
     
    <link rel="stylesheet" href="https://linz.coderdojo.net/style.min.f18de2ddb3349fdfedc7c22d923e65d91b41dba57c8f6ee64228f75d47ed2e59.css">
    <script src="https://kit.fontawesome.com/5bb5b2cc9c.js" crossorigin="anonymous"></script>
</head>

<body id="body">
    <!-- NAVIGATION -->

<nav class="navbar fixed-top navbar-expand-lg navbar-light bg-light ">
    <div class="container-fluid">
        <a class="navbar-brand" href="/"><img src="/img/logo-linz.png" height="30"></a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav ml-auto">
                <li class="nav-item ">
                    <a class="nav-link" href="/">Home</a>
                </li>
                <li class="nav-item ">
                    <a class="nav-link" href="/termine">Termine</a>
                </li>
                <li class="nav-item ">
                    <a class="nav-link" href="/info">Infos</a>
                </li>
                <li class="nav-item ">
                    <a class="nav-link" href="/mentoren">Mentoren</a>
                </li>
                <li class="nav-item ">
                    <a class="nav-link" href="/sponsoring">Sponsoring</a>
                </li>
                <li class="nav-item active">
                    <a class="nav-link" href="/uebungsanleitungen">Übungsanleitungen</a>
                </li>
            </ul>
        </div>
    </div>
</nav>     

<div class="container-fluid breadcrumb-container">
    <div class="container">
        <nav class="breadcrumb-nav" aria-label="breadcrumb">
        <ol class="breadcrumb">
            
        
        
        
        
        
        
        
        
        

        
        
        

        
        
        <li class="breadcrumb-item">
            <a href="https://linz.coderdojo.net/uebungsanleitungen/">Übungsanleitungen</a>
        </li>
        
        
        
        

        
        
        <li class="breadcrumb-item">
            <a href="https://linz.coderdojo.net/uebungsanleitungen/programmieren/">Programmieren</a>
        </li>
        
        
        
        

        
        
        <li class="breadcrumb-item">
            <a href="https://linz.coderdojo.net/uebungsanleitungen/programmieren/web/">Web</a>
        </li>
        
        
        
        

        
        
        
        
        </ol>

        
        </nav>
    </div>
</div> 

<section id="sushi">
    <div class="container">
        <div class="row">
            
            <div class="col-12 sushi-toc">
                <h2>Inhalt</h2>
                <nav id="TableOfContents">
<ul>
<li><a href="#tetris-mit-blazor">Tetris mit Blazor</a>
<ul>
<li><a href="#kostenlose-voraussetzungen">Kostenlose Voraussetzungen</a></li>
<li><a href="#projekt-anlegen">Projekt anlegen</a></li>
<li><a href="#aufräumen">Aufräumen</a></li>
<li><a href="#spielfeld">Spielfeld</a></li>
<li><a href="#tetris-spielsteine">Tetris Spielsteine</a></li>
</ul></li>
</ul>
</nav>
            </div>
            <div class="col-12 sushi-content"> 

<h1 id="tetris-mit-blazor">Tetris mit Blazor</h1>

<h2 id="kostenlose-voraussetzungen">Kostenlose Voraussetzungen</h2>

<ul>
<li>Neueste Version von <a href="https://visualstudio.microsoft.com/free-developer-offers/" target="_blank">Visual Studio 2017 Community Edition</a> mit <em>ASP.NET and web development</em></li>
<li><a href="https://marketplace.visualstudio.com/items?itemName=aspnet.blazor" target="_blank">ASP.NET Core Blazor Language Services</a></li>
</ul>

<h2 id="projekt-anlegen">Projekt anlegen</h2>

<ul>
<li><p>Visual Studio starten</p></li>

<li><p><em>File</em> / <em>New</em> / <em>Project</em></p></li>

<li><p>Neues <em>ASP.NET</em> Projekt anlegen:<br/>



     
    










<div class="row">
    <div class="col">
        <p></p>
    </div>
    <div class="col-12 col-md-12">
    <img src="/uebungsanleitungen/programmieren/web/blazor-tetris/img/new-project.png" alt="(.Get 1)" class="mx-auto " style="display: block; width: auto" />
    </div>
</div>
</p></li>

<li><p><em>Blazor</em> Projekttyp auswählen:<br/>



     
    










<div class="row">
    <div class="col">
        <p></p>
    </div>
    <div class="col-12 col-md-12">
    <img src="/uebungsanleitungen/programmieren/web/blazor-tetris/img/new-blazor-project.png" alt="(.Get 1)" class="mx-auto " style="display: block; width: auto" />
    </div>
</div>
</p></li>

<li><p>Nach dem Anlegen des Projekt den Startmodus ändern:<br/>



     
    










<div class="row">
    <div class="col">
        <p></p>
    </div>
    <div class="col-12 col-md-12">
    <img src="/uebungsanleitungen/programmieren/web/blazor-tetris/img/start-as-cmd.png" alt="(.Get 1)" class="mx-auto " style="display: block; width: auto" />
    </div>
</div>
</p></li>

<li><p>Probiere, das Programm mit <em>F5</em> oder <em>Debug</em> / <em>Start Debugging</em> zu starten. Es müsste ein Kommandozeilenfenster und ein Browser aufgehen. Im Browser solltest du folgendes sehen:<br/>



     
    










<div class="row">
    <div class="col">
        <p></p>
    </div>
    <div class="col-12 col-md-12">
    <img src="/uebungsanleitungen/programmieren/web/blazor-tetris/img/hello-world.png" alt="(.Get 1)" class="mx-auto " style="display: block; width: auto" />
    </div>
</div>
</p></li>

<li><p>Um den Debugger wieder zu beenden, beende das Kommandozeilenfenster.<br/>



     
    










<div class="row">
    <div class="col">
        <p></p>
    </div>
    <div class="col-12 col-md-12">
    <img src="/uebungsanleitungen/programmieren/web/blazor-tetris/img/close-debugger.png" alt="(.Get 1)" class="mx-auto " style="display: block; width: auto" />
    </div>
</div>
</p></li>
</ul>

<p>Gratuliere! Du hast dein erstes Blazor-Programm zum Laufen gebracht.</p>

<h2 id="aufräumen">Aufräumen</h2>

<p>Visual Studio hat dir einiges an Code generiert, damit du nicht ganz von vorne starten musst. Einen Teil davon brauchen wir für unser Tetris nicht. Daher müssen wir als erstes im Projekt aufräumen.</p>

<ul>
<li><p>Lösche die in der folgenden Grafik durchgestrichenen Ordner und Dateien aus dem generierten Projekt:<br/>



     
    










<div class="row">
    <div class="col">
        <p></p>
    </div>
    <div class="col-12 col-md-12">
    <img src="/uebungsanleitungen/programmieren/web/blazor-tetris/img/files-to-delete.png" alt="(.Get 1)" class="mx-auto " style="display: block; width: auto" />
    </div>
</div>
</p></li>

<li><p>Lösche den Inhalt der Datei <em>css/site.css</em>. <strong>Achtung!</strong> Die Datei selbst muss erhalten bleiben. Lösche nur den <strong>Inhalt</strong>!</p></li>

<li><p>In <em>Pages/index.cshtml</em> muss folgender Code stehen:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cs" data-lang="cs">@page <span style="color:#a31515">&#34;/&#34;</span>

&lt;h1&gt;Tetris&lt;/h1&gt;
</code></pre></div></li>

<li><p>In <em>Shared/MainLayout.cshtml</em> muss folgender Code stehen:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cs" data-lang="cs">@inherits BlazorLayoutComponent

@Body
</code></pre></div></li>

<li><p>Probiere, das Programm mit <em>F5</em> oder <em>Debug</em> / <em>Start Debugging</em> zu starten. Es müsste ein Kommandozeilenfenster und ein Browser aufgehen. Im Browser solltest du folgendes sehen:<br/>



     
    










<div class="row">
    <div class="col">
        <p></p>
    </div>
    <div class="col-12 col-md-12">
    <img src="/uebungsanleitungen/programmieren/web/blazor-tetris/img/cleaned-project.png" alt="(.Get 1)" class="mx-auto " style="display: block; width: auto" />
    </div>
</div>
</p></li>

<li><p>Um den Debugger wieder zu beenden, beende das Kommandozeilenfenster.</p></li>
</ul>

<p>Super! Jetzt haben wir ein sauberes Projekt und können beginnen, zu programmieren.</p>

<h2 id="spielfeld">Spielfeld</h2>

<p>Als erstes generieren wir das Spielfeld.</p>

<ul>
<li><p>Füge einen Ordner namens <em>Logic</em> zum Projekt hinzu:<br/>



     
    










<div class="row">
    <div class="col">
        <p></p>
    </div>
    <div class="col-12 col-md-12">
    <img src="/uebungsanleitungen/programmieren/web/blazor-tetris/img/new-folder.png" alt="(.Get 1)" class="mx-auto " style="display: block; width: auto" />
    </div>
</div>
</p></li>

<li><p>Füge in den Ordner eine Klasse namens <em>BoardContentExtensions.cs</em> hinzu:<br/>



     
    










<div class="row">
    <div class="col">
        <p></p>
    </div>
    <div class="col-12 col-md-12">
    <img src="/uebungsanleitungen/programmieren/web/blazor-tetris/img/new-class.png" alt="(.Get 1)" class="mx-auto " style="display: block; width: auto" />
    </div>
</div>
</p></li>

<li><p><em>BoardContentExtensions.cs</em> muss folgenden Code enthalten. Es handelt sich um Hilfsfunktionen, mit denen man in Schleifen das Spielfeld durchlaufen (Englisch <em>iterate</em>) kann. Lass dir von jemandem aus dem Mentorenteam den Code erklären.</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cs" data-lang="cs"><span style="color:#00f">namespace</span> BlazorTetris.Logic
{
<span style="color:#00f">public</span> <span style="color:#00f">delegate</span> <span style="color:#2b91af">bool</span> CancelableIterator(<span style="color:#2b91af">int</span> row, <span style="color:#2b91af">int</span> col);
<span style="color:#00f">public</span> <span style="color:#00f">delegate</span> <span style="color:#00f">void</span> Iterator(<span style="color:#2b91af">int</span> row, <span style="color:#2b91af">int</span> col);

<span style="color:#00f">public</span> <span style="color:#00f">static</span> <span style="color:#00f">class</span> <span style="color:#2b91af">BoardContentExtensions</span>
{
    <span style="color:#00f">public</span> <span style="color:#00f">static</span> <span style="color:#2b91af">bool</span> Iterate(<span style="color:#00f">this</span> <span style="color:#2b91af">string</span>[,] matrix, CancelableIterator iterator)
    {
        <span style="color:#00f">for</span> (<span style="color:#2b91af">var</span> row = 0; row &lt; matrix.GetLength(0); row++)
        {
            <span style="color:#00f">for</span> (<span style="color:#2b91af">var</span> col = 0; col &lt; matrix.GetLength(1); col++)
            {
                <span style="color:#00f">if</span> (!iterator(row, col))
                {
                    <span style="color:#00f">return</span> <span style="color:#00f">false</span>;
                }
            }
        }

        <span style="color:#00f">return</span> <span style="color:#00f">true</span>;
    }


    <span style="color:#00f">public</span> <span style="color:#00f">static</span> <span style="color:#00f">void</span> Iterate(<span style="color:#00f">this</span> <span style="color:#2b91af">string</span>[,] matrix, Iterator iterator) =&gt;
        Iterate(matrix, (row, col) =&gt; { iterator(row, col); <span style="color:#00f">return</span> <span style="color:#00f">true</span>; });
}
}
</code></pre></div></li>

<li><p>Ändere den Code in <em>Pages/Index.cshtml</em> wie folgt:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cs" data-lang="cs">@page <span style="color:#a31515">&#34;/&#34;</span>
@using BlazorTetris.Logic

&lt;h1&gt;Tetris&lt;/h1&gt;

&lt;table&gt;
@for (<span style="color:#2b91af">var</span> row = 0; row &lt; ROWS; row++)
{
    &lt;tr&gt;
        @for (<span style="color:#2b91af">var</span> col = 0; col &lt; COLUMNS; col++)
        {
            &lt;td class=<span style="color:#a31515">&#34;@board[row, col]&#34;</span>&gt;&lt;/td&gt;
        }
    &lt;/tr&gt;
}
&lt;/table&gt;

@if (lost)
{
&lt;h1&gt;Verloren :-(&lt;/h1&gt;
}

@functions {
<span style="color:#00f">private</span> <span style="color:#00f">const</span> <span style="color:#2b91af">int</span> ROWS = 16;
<span style="color:#00f">private</span> <span style="color:#00f">const</span> <span style="color:#2b91af">int</span> COLUMNS = 10;

<span style="color:#00f">private</span> <span style="color:#2b91af">string</span>[,] board;
<span style="color:#00f">private</span> <span style="color:#2b91af">bool</span> lost = <span style="color:#00f">false</span>;

<span style="color:#00f">protected</span> <span style="color:#00f">override</span> <span style="color:#00f">void</span> OnInit()
{
    InitializeBoard();
}

<span style="color:#00f">private</span> <span style="color:#00f">void</span> InitializeBoard()
{
    board = <span style="color:#00f">new</span> <span style="color:#2b91af">string</span>[ROWS, COLUMNS];
    board.Iterate((row, col) =&gt; board[row, col] = <span style="color:#2b91af">string</span>.Empty);
}
}
</code></pre></div></li>

<li><p>Ändere den Code in <em>wwwroot/css/site.css</em> wie folgt:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-css" data-lang="css">table {
<span style="color:#00f">border-collapse</span>: <span style="color:#00f">collapse</span>;
<span style="color:#00f">border-spacing</span>: 0;
}

td {
<span style="color:#00f">width</span>: 25<span style="color:#2b91af">px</span>;
<span style="color:#00f">height</span>: 25<span style="color:#2b91af">px</span>;
<span style="color:#00f">border</span>: 1<span style="color:#2b91af">px</span> <span style="color:#00f">solid</span> <span style="color:#00f">black</span>;
}</code></pre></div></li>

<li><p>Probiere, das Programm mit <em>F5</em> oder <em>Debug</em> / <em>Start Debugging</em> zu starten. Es müsste ein Kommandozeilenfenster und ein Browser aufgehen. Im Browser solltest du folgendes sehen:<br/>



     
    










<div class="row">
    <div class="col">
        <p></p>
    </div>
    <div class="col-12 col-md-12">
    <img src="/uebungsanleitungen/programmieren/web/blazor-tetris/img/empty-board.png" alt="(.Get 1)" class="mx-auto " style="display: block; width: auto" />
    </div>
</div>
</p></li>

<li><p>Um den Debugger wieder zu beenden, beende das Kommandozeilenfenster.</p></li>
</ul>

<h2 id="tetris-spielsteine">Tetris Spielsteine</h2>

<p>Jetzt brauchen wir Code für die Tetris-Spielsteine. Hier zwei wichtige Links dazu:</p>

<ul>
<li>Eine Liste von Tetris-Spielsteinen und ihrer klassischen Farben findest du unter <a href="https://en.wikipedia.org/wiki/Tetris#Tetromino_colors" target="_blank">https://en.wikipedia.org/wiki/Tetris#Tetromino_colors</a></li>

<li><p>Eine Liste von Farbnamen, die der Browser kennt, findest du unter <a href="https://en.wikipedia.org/wiki/Web_colors" target="_blank">https://en.wikipedia.org/wiki/Web_colors</a></p></li>

<li><p>Erstelle eine neue Klasse <em>Logic/Pieces.cs</em> und füge folgenden Code ein. Lass dir von jemandem aus dem Mentorenteam den Code erklären.</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cs" data-lang="cs"><span style="color:#00f">using</span> System;

<span style="color:#00f">namespace</span> BlazorTetris.Logic
{
<span style="color:#00f">public</span> <span style="color:#00f">class</span> <span style="color:#2b91af">Pieces</span>
{
    <span style="color:#008000">// Color of Tetris pieces: https://en.wikipedia.org/wiki/Tetris#Tetromino_colors
</span><span style="color:#008000"></span>    <span style="color:#008000">// Web color names: https://en.wikipedia.org/wiki/Web_colors
</span><span style="color:#008000"></span>
    <span style="color:#00f">public</span> <span style="color:#00f">static</span> <span style="color:#00f">readonly</span> <span style="color:#2b91af">string</span> __ = <span style="color:#2b91af">string</span>.Empty;
    <span style="color:#00f">public</span> <span style="color:#00f">static</span> <span style="color:#00f">readonly</span> <span style="color:#2b91af">string</span> IC = <span style="color:#a31515">&#34;I&#34;</span>;
    <span style="color:#00f">public</span> <span style="color:#00f">static</span> <span style="color:#00f">readonly</span> <span style="color:#2b91af">string</span> JC = <span style="color:#a31515">&#34;J&#34;</span>;

    <span style="color:#00f">public</span> <span style="color:#00f">static</span> <span style="color:#00f">readonly</span> <span style="color:#2b91af">string</span>[,] IH = {
        { IC, IC, IC, IC }
    };
    <span style="color:#00f">public</span> <span style="color:#00f">static</span> <span style="color:#00f">readonly</span> <span style="color:#2b91af">string</span>[,] IV = {
        { IC },
        { IC },
        { IC },
        { IC }
    };
    <span style="color:#00f">public</span> <span style="color:#00f">static</span> <span style="color:#00f">readonly</span> <span style="color:#2b91af">string</span>[,] JH = {
        { JC, JC, JC, JC },
        { __, __, __, JC }
    };
    <span style="color:#00f">public</span> <span style="color:#00f">static</span> <span style="color:#00f">readonly</span> <span style="color:#2b91af">string</span>[,] JV = {
        { __, JC },
        { __, JC },
        { __, JC },
        { JC, JC }
    };
    <span style="color:#00f">public</span> <span style="color:#00f">static</span> <span style="color:#00f">readonly</span> <span style="color:#2b91af">string</span>[][,] AvailablePieces = <span style="color:#00f">new</span>[] { IV, IH, JV, JH };

    <span style="color:#00f">public</span> <span style="color:#00f">static</span> <span style="color:#2b91af">string</span>[,] GetRandomPiece()
    {
        <span style="color:#2b91af">var</span> random = <span style="color:#00f">new</span> Random();
        <span style="color:#00f">return</span> (<span style="color:#2b91af">string</span>[,])AvailablePieces[random.Next(0, AvailablePieces.Length)].Clone();
    }
}
}
</code></pre></div></li>

<li><p>Wie du siehst, deckt der Code nur zwei Arten von Spielsteinen ab. Ergänze den Rest selbst. Bei Bedarf lass dir von jemandem aus dem Mentorenteam helfen.</p></li>
</ul>
 </div>
        </div>
    </div>
</section>  
    <footer>
        <div class="container">
            <div class="row">
                <div class="col">
                    <div>
                        <div>
                            <img src="/img/logo-coding-club-linz-white.svg">
                        </div>
                        <div>Coding Club Linz<br />Birkenweg 16, 4060 Leonding <br />
                            <a href="mailto:info@linz.coderdojo.net">info@linz.coderdojo.net</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </footer> <!-- Js -->
    <script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"
        integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"
        integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.17.1/moment.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.17.1/locale/de-at.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/showdown/1.9.1/showdown.min.js"></script>
    <script src="https://linz.coderdojo.net/js/wow.min.js"></script>
    <script src="https://linz.coderdojo.net/js/main.js"></script>
    <script src="https://www.google.com/recaptcha/api.js?render=6LfXNMcZAAAAALYnf3GpUqw5uotVMyjhLNU438i9"></script>
</body>

</html>
