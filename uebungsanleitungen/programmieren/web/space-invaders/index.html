<!DOCTYPE html>
<html class="no-js" lang="de-AT">


<head>
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-63326882-1"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());

        gtag('config', 'UA-63326882-1');
    </script>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title> Space Invaders </title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1"> <meta name="generator" content="Hugo 0.73.0" /> <!-- Fonts -->

    

    

    

    

    

    
    <link rel="canonical" href="https://linz.coderdojo.net/uebungsanleitungen/programmieren/web/space-invaders/" />
    

    <link href='//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,500,600,700,800' rel='stylesheet'
        type='text/css'>
    <link href="https://fonts.googleapis.com/css2?family=Indie+Flower&display=swap" rel="stylesheet"> <!-- Stylesheets -->
     
    
    <link rel="stylesheet" href="https://linz.coderdojo.net/vendor.min.55a3cbb6f035c25e5c7cf706ee053eca6f5a54d8095b05fd737d1b0330f99eaf.css">
    <link rel="stylesheet" href="https://linz.coderdojo.net/css/animate.css">
     
     
    <link rel="stylesheet" href="https://linz.coderdojo.net/style.min.b7ad3255d85c37016b124043cedc6c26737eb733938b20b5d4e3b91ce67063e1.css">
    <script src="https://kit.fontawesome.com/5bb5b2cc9c.js" crossorigin="anonymous"></script>
</head>

<body id="body">
    <!-- NAVIGATION -->

<nav class="navbar fixed-top navbar-expand-lg navbar-light bg-light ">
    <div class="container-fluid">
        <a class="navbar-brand" href="/"><img src="/img/logo-linz.png" height="30"></a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav ml-auto">
                <li class="nav-item ">
                    <a class="nav-link" href="/">Home</a>
                </li>
                <li class="nav-item ">
                    <a class="nav-link" href="/termine">Termine</a>
                </li>
                <li class="nav-item ">
                    <a class="nav-link" href="/info">Infos</a>
                </li>
                <li class="nav-item ">
                    <a class="nav-link" href="/mentoren">Mentoren</a>
                </li>
                <li class="nav-item ">
                    <a class="nav-link" href="/sponsoring">Sponsoring</a>
                </li>
                <li class="nav-item active">
                    <a class="nav-link" href="/uebungsanleitungen">Übungsanleitungen</a>
                </li>
            </ul>
        </div>
    </div>
</nav>  
     
     

<div class="container-fluid breadcrumb-container">
    <div class="container">
        <nav class="breadcrumb-nav" aria-label="breadcrumb">
        <ol class="breadcrumb">
            
        
        
        
        
        
        
        
        
        

        
        
        

        
        
        <li class="breadcrumb-item">
            <a href="https://linz.coderdojo.net/uebungsanleitungen/">Übungsanleitungen</a>
        </li>
        
        
        
        

        
        
        <li class="breadcrumb-item">
            <a href="https://linz.coderdojo.net/uebungsanleitungen/programmieren/">Programmieren</a>
        </li>
        
        
        
        

        
        
        <li class="breadcrumb-item">
            <a href="https://linz.coderdojo.net/uebungsanleitungen/programmieren/web/">Web</a>
        </li>
        
        
        
        

        
        
        
        
        </ol>

        
        </nav>
    </div>
</div> 

<section id="sushi">
    <div class="container">
        <div class="row">
            
            <div class="col-12 sushi-toc">
                <h2>Inhalt</h2>
                <nav id="TableOfContents">
<ul>
<li><a href="#space-invaders">Space Invaders</a>
<ul>
<li><a href="#set-up-our-files">Set up our files</a></li>
<li><a href="#grid-setup">Grid Setup</a></li>
<li><a href="#displaying-the-player">Displaying the player</a></li>
<li><a href="#the-documenet-is-not-yet-ready">The documenet is not yet ready</a></li>
<li><a href="#giving-it-a-space-invaders-style">Giving it a space invaders style</a></li>
<li><a href="#moving-the-space-ship">Moving the space ship</a></li>
<li><a href="#showing-our-invaders">Showing our Invaders</a></li>
<li><a href="#add-aliens">Add aliens</a></li>
<li><a href="#let-the-alien-invaders-move">Let the alien invaders move</a></li>
<li><a href="#losing-the-game-if-the-invaders-catch-us">Losing the game if the invaders catch us</a></li>
<li><a href="#shooting-at-the-aliens">Shooting at the aliens</a></li>
</ul></li>
</ul>
</nav>
            </div>
            <div class="col-12 sushi-content"> 

<h1 id="space-invaders">Space Invaders</h1>

<p>We will follow another amazing Tutorial by <a href="https://www.youtube.com/channel/UC5DNytAJ6_FISueUfzZCVsw" target="_blank">Ania Kubów</a> to build our very own Space Invaders game.
If you didn&rsquo;t do so yet head to her Youtube channel and subscribe or give her a like because her content is amazing.</p>

<h2 id="set-up-our-files">Set up our files</h2>

<p>As usual we will use <a href="https://codesandbox.io/" target="_blank">codesandbox.io</a> for our implementation. The entrypoint for our website is our <code>index.html</code> file.
In this file we need to add a link to our <code>styles.css</code> and a reference to our <code>app.js</code>. In order to check that our linking
works fine I will add some dummy code to show an alert in our JavaScript file <code>alert(&quot;Hey Space Invaders&quot;)</code> and a <code>body { background-color: hotpink }</code> to our CSS file.
Now when we refresh or open our HTML file we should see a pink background a pop up greeting the Space Invaders.</p>

<h2 id="grid-setup">Grid Setup</h2>

<p>The main thing we need in our game is our game grid - ours will have a size of 15 X 15. Therefore, we need 225 cells.
A cell will be represented by a div tag.</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html"><span style="color:#00f">&lt;!DOCTYPE html&gt;</span>
&lt;html&gt;
    &lt;head&gt;
        &lt;meta charset=<span style="color:#a31515">&#34;utf-8&#34;</span>&gt;
        &lt;script src=<span style="color:#a31515">&#34;app.js&#34;</span>&gt;&lt;/script&gt;
        &lt;link rel=<span style="color:#a31515">&#34;stylesheet&#34;</span> type=<span style="color:#a31515">&#34;text/css&#34;</span> href=<span style="color:#a31515">&#34;styles.css&#34;</span>/&gt;
        &lt;title&gt;Space Invaders&lt;/title&gt;
    &lt;/head&gt;
    &lt;body&gt;
        &lt;div class=<span style="color:#a31515">&#34;grid&#34;</span>&gt;
            &lt;div class=<span style="color:#a31515">&#34;cell&#34;</span>&gt;&lt;/div&gt;
            ...
            &lt;div class=<span style="color:#a31515">&#34;cell&#34;</span>&gt;&lt;/div&gt;
        &lt;/div&gt;
    &lt;/body&gt;
&lt;/html&gt;</code></pre></div>
<p>Next up we will define the size of our grid and make it visible by applying some background colors. We want every cell to have a size of 20 x 20 pixels therefor our whole grid will have a width and height of 15 * 20 = 300 pixels. We will also set up some styling for our cells so we see their placement.</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-css" data-lang="css">.<span style="color:#2b91af">grid</span> {
    <span style="color:#00f">height</span>: 300<span style="color:#2b91af">px</span>; 
    <span style="color:#00f">width</span>: 300<span style="color:#2b91af">px</span>;
    <span style="color:#00f">background</span>: <span style="color:#00f">lightblue</span>;
}

.<span style="color:#2b91af">cell</span> {
    <span style="color:#00f">border</span>: <span style="color:#00f">solid</span> <span style="color:#00f">lightgray</span> 1<span style="color:#2b91af">px</span>;
    <span style="color:#00f">height</span>: 18<span style="color:#2b91af">px</span>;
    <span style="color:#00f">width</span>: 18<span style="color:#2b91af">px</span>;
}</code></pre></div>
<p>When we refresh our page now, we will see that our cells actually fall out of our grid. In order to correct that we will use flex-wrap on the grid, which tells the child elements to wrap if necessary (instead of overflowing like we&rsquo;ve seen before).</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-css" data-lang="css">.<span style="color:#2b91af">grid</span> {
    <span style="color:#00f">display</span>: <span style="color:#00f">flex</span>;
    <span style="color:#00f">flex-wrap</span>: <span style="color:#00f">wrap</span>;
}</code></pre></div>
<p>Now we should end up with a grid that resembles this structure:</p>
<pre><code>00 01 02 03 04 05 06 07 08 09 10 11 12 13 14 
15 16 17 18 19 20 21 22 23 24 25 26 27 28 29
...
195 196 197 198 199 200 201 202 203 204 205 206 207 208 209 
210 211 212 213 214 215 216 217 218 219 220 221 222 223 224 </code></pre>
<h2 id="displaying-the-player">Displaying the player</h2>

<p>The first thing we want to is display our player. In the beginning of our game our player will be at the middle of one of the bottom rows.
We will create a variable to keep its position in our JavaScript file so that we can later on modify it.
The player will be displayed on the grid by just setting a CSS class on a specific grid cell.</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#00f">let</span> cells = document.querySelectorAll(<span style="color:#a31515">&#39;.grid .cell&#39;</span>);
<span style="color:#00f">let</span> playerPosition = 202;
cells[playerPosition].classList.add(<span style="color:#a31515">&#39;player&#39;</span>);
</code></pre></div>
<p>💡 With <code>document.querySelectorAll</code> you can select and modify HTML elements based on a CSS selector. <code>querySelector</code> will return the first matching element
whereas <code>querySelectorAll</code> will return a collection of all matching elements.</p>

<h2 id="the-documenet-is-not-yet-ready">The documenet is not yet ready</h2>

<p>When we open our index file in the browser now, we get an error:</p>
<pre><code>Uncaught TypeError: Cannot read property &#39;classList&#39; of undefined
     at app.js:4`</code></pre>
<p>When we set a breakpoint we actually see, that our <code>cells</code> list is empty. That is because we need to wait for our HTML to be built correctly before we select the elements with the selector.
A convenient way to achieve this is to listen to the <code>DOMContentLoaded</code> event.</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript">document.addEventListener(<span style="color:#a31515">&#39;DOMContentLoaded&#39;</span>, () =&gt; {
    <span style="color:#00f">let</span> cells = document.querySelectorAll(<span style="color:#a31515">&#39;.grid .cell&#39;</span>);
    <span style="color:#00f">let</span> playerPosition = 202;
    cells[playerPosition].classList.add(<span style="color:#a31515">&#39;player&#39;</span>);
});
</code></pre></div>
<p>💡 <code>document.addEventListener</code> receives two parameters - the first one is the event to listen to, and the second is a function that will be invoked whenever the specified event occurs.</p>

<p>Now if we take a look in our console our error will be gone and we will see one cell has an addional &ldquo;player&rdquo; class if we inspect our HTML markup in the browser.
To make this player visible we can add a simple styling:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-css" data-lang="css">.<span style="color:#2b91af">player</span> {
    <span style="color:#00f">background-color</span>: <span style="color:#00f">darkblue</span>;
}</code></pre></div>
<p>Now we see one cell in a dark blue color, this is our player.</p>

<h2 id="giving-it-a-space-invaders-style">Giving it a space invaders style</h2>

<p>Next we will change our player to actually be a spaceship and the background of our game to black to simulate the space.</p>
<pre><code>.grid {
  background: black;
}

.cell {
  height: 20px;
  width: 20px;
}

.player {
  background: url(assets/player_01.png) no-repeat center center;
  background-size: contain;
}</code></pre>
<h2 id="moving-the-space-ship">Moving the space ship</h2>

<p>Next we will implement our moveLeft and moveRight functions so that we can move our player to the left and right when we press those arrow keys:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#00f">function</span> moveLeft() {
    cells[playerPosition].classList.remove(<span style="color:#a31515">&#39;player&#39;</span>);
    playerPosition -= 1; 
    cells[playerPosition].classList.add(<span style="color:#a31515">&#39;player&#39;</span>);
}

<span style="color:#00f">function</span> moveRight() {
    cells[playerPosition].classList.remove(<span style="color:#a31515">&#39;player&#39;</span>);
    playerPosition += 1; 
    cells[playerPosition].classList.add(<span style="color:#a31515">&#39;player&#39;</span>);
}
</code></pre></div>
<p>By adding an event listener to the keydown event we can specify a function that will always be called when any key on the keyboard is pressed. This event has a property <code>keyCode</code> which we can use to only react on certain key presses.</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript">document.addEventListener(<span style="color:#a31515">&#39;keydown&#39;</span>, <span style="color:#00f">function</span> keyDownListener(e) {
    <span style="color:#00f">if</span> (e.keyCode === 39) { <span style="color:#008000">// arrow right
</span><span style="color:#008000"></span>        moveRight();
    } <span style="color:#00f">else</span> <span style="color:#00f">if</span> (e.keyCode === 37) { <span style="color:#008000">// arrow left
</span><span style="color:#008000"></span>        moveLeft();
    }
});
</code></pre></div>
<p>Now we can already properly move to the left and to the right - but we can move outside of our grid and cause an error in our program, so we need to add a check in the moveLeft/moveRight function to only move if we are not yet touching the edge.
We can easily identify if one of our displayed elements touches the left side by calculating the aboslute positions and using the modulo function.</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#00f">function</span> touchingRightEdge() {
    <span style="color:#00f">return</span> playerPosition % 15 === 14;
}

<span style="color:#00f">function</span> moveRight() {
    <span style="color:#00f">if</span> (!touchingRightEdge()) {
        <span style="color:#008000">// remove player class, move player, add player class
</span><span style="color:#008000"></span>    }
}

<span style="color:#00f">function</span> touchingLeftEdge() {
    <span style="color:#00f">return</span> playerPosition % 15 === 0;
}

<span style="color:#00f">function</span> moveLeft() {
    <span style="color:#00f">if</span> (!touchingLeftEdge()) {
        <span style="color:#008000">// remove player class, move player, add player class
</span><span style="color:#008000"></span>    }
}
</code></pre></div>
<h2 id="showing-our-invaders">Showing our Invaders</h2>

<p>For a start we will show three rows with 10 invaders in each row. Let&rsquo;s start by defining the Array of how those invaders are placed in reference to each other.
Additionally we will define a position that will be modified when the invaders and will be used to draw the invaders on our game grid.</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#00f">let</span> invaders = [
        0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 
        15, 16, 17, 18, 19, 20, 21, 22, 23, 24,
        30, 31, 32, 33, 34, 35, 36, 37, 38, 39
    ];
<span style="color:#00f">let</span> invadersPosition = 3;
</code></pre></div>
<p>We wil use the <code>invadersPosition</code> variable to calculate our absolute position in the cells array and we can place the
space invaders by adding a css class <code>invader</code> to the respective cells.</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#00f">function</span> drawInvaders() {
    invaders.forEach(relativePosition =&gt; cells[relativePosition + invadersPosition].classList.add(<span style="color:#a31515">&#39;invader&#39;</span>));
}

<span style="color:#00f">function</span> undrawInvaders() {
    invaders.forEach(relativePosition =&gt; cells[relativePosition + invadersPosition].classList.remove(<span style="color:#a31515">&#39;invader&#39;</span>));
}
</code></pre></div>
<p>When we call our <code>drawInvaders()</code> function once in the beginning of our script and add some styling to our class, the invaders should show up.</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-css" data-lang="css">.<span style="color:#2b91af">invader</span> {
  <span style="color:#00f">background-color</span>: <span style="color:#00f">purple</span>;
}</code></pre></div>
<h2 id="add-aliens">Add aliens</h2>

<p>We can improve our styling by applying images for our alien invaders. As they are a little bit big I also changed the size of the cells to 18 px with a 2 px border.
As we have three different invaders I also split it into three css classes.</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#00f">function</span> drawInvaders() {
    invaders.forEach(relativePosition =&gt; {
        <span style="color:#00f">if</span> (relativePosition &lt; 10) {
            cells[relativePosition + invadersPosition].classList.add(<span style="color:#a31515">&#39;invader-1&#39;</span>);
        } <span style="color:#00f">else</span> <span style="color:#00f">if</span> (relativePosition &lt; 25) {
            cells[relativePosition + invadersPosition].classList.add(<span style="color:#a31515">&#39;invader-2&#39;</span>);
        } <span style="color:#00f">else</span> {
            cells[relativePosition + invadersPosition].classList.add(<span style="color:#a31515">&#39;invader-3&#39;</span>);
        }
    });
}

<span style="color:#00f">function</span> undrawInvaders() {
    invaders.forEach(relativePosition =&gt; {
        cells[relativePosition + invadersPosition].classList.remove(<span style="color:#a31515">&#39;invader-1&#39;</span>);
        cells[relativePosition + invadersPosition].classList.remove(<span style="color:#a31515">&#39;invader-2&#39;</span>);
        cells[relativePosition + invadersPosition].classList.remove(<span style="color:#a31515">&#39;invader-3&#39;</span>);
    })
}
</code></pre></div><div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-css" data-lang="css">.<span style="color:#2b91af">invader-1</span> {
    <span style="color:#00f">background</span>: url(<span style="color:#a31515">assets/enemy_01.png</span>) <span style="color:#00f">no-repeat</span> <span style="color:#00f">center</span> <span style="color:#00f">center</span>;
    <span style="color:#00f">background-size</span>: <span style="color:#00f">contain</span>;
}

.<span style="color:#2b91af">invader-2</span> {
    <span style="color:#00f">background</span>: url(<span style="color:#a31515">assets/enemy_02.png</span>) <span style="color:#00f">no-repeat</span> <span style="color:#00f">center</span> <span style="color:#00f">center</span>;
    <span style="color:#00f">background-size</span>: <span style="color:#00f">contain</span>;
}

.<span style="color:#2b91af">invader-3</span> {
    <span style="color:#00f">background</span>: url(<span style="color:#a31515">assets/enemy_03.png</span>) <span style="color:#00f">no-repeat</span> <span style="color:#00f">center</span> <span style="color:#00f">center</span>;
    <span style="color:#00f">background-size</span>: <span style="color:#00f">contain</span>;
}</code></pre></div>
<h2 id="let-the-alien-invaders-move">Let the alien invaders move</h2>

<p>Our alien invaders start at the top left edge, move to the right until they touch the right edge, move one row down, move to the left until we touch the left edge, move one row down and so an and so forth.
Let&rsquo;s implement the move function.</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#00f">function</span> moveInvaders() {
    undrawInvaders();
    <span style="color:#00f">if</span> (direction === <span style="color:#a31515">&#39;LEFT&#39;</span>) {
        <span style="color:#00f">if</span> (touchingLeftEdge()) {
            moveInvadersDown();
            direction = <span style="color:#a31515">&#39;RIGHT&#39;</span>;
        } <span style="color:#00f">else</span> {
            moveInvadersLeft();
        }
    } <span style="color:#00f">else</span> <span style="color:#00f">if</span> (direction === <span style="color:#a31515">&#39;RIGHT&#39;</span>) {
        <span style="color:#00f">if</span> (touchingRightEdge()) {
            moveInvadersDown();
            direction = <span style="color:#a31515">&#39;LEFT&#39;</span>;
        } <span style="color:#00f">else</span> {
            moveInvadersRight();
        }
    }
}

<span style="color:#00f">function</span> moveInvadersDown() {
    undrawInvaders();
    invadersPosition += 15;
    drawInvaders();
}

<span style="color:#00f">function</span> moveInvadersRight() {
    undrawInvaders();
    invadersPosition += 1;
    drawInvaders();
}

<span style="color:#00f">function</span> moveInvadersLeft() {
    undrawInvaders();
    S -= 1;
    drawInvaders();
}
</code></pre></div>
<p>To get more of an arcade game feeling we will add a sound to every movement our alien makes. Let&rsquo;s call this function <code>playAlienCreak</code> and invoke it at the end of our <code>moveInvaders</code>.</p>
<pre><code>function playAlienCreak() {
    let audio = new Audio(&#39;assets/alien.wav&#39;);
    audio.play();
}</code></pre>
<h2 id="losing-the-game-if-the-invaders-catch-us">Losing the game if the invaders catch us</h2>

<p>The game is over when any of the invaders touch our ship. After every invader movement we need to check if any of our invaders overlap with the current players position.</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#00f">function</span> checkGameOver() {
    <span style="color:#00f">if</span> (invaders.some(realtivePosition =&gt; realtivePosition + invadersPosition === playerPosition)) {
        alert(<span style="color:#a31515">&#34;An invader got you&#34;</span>);
        clearInterval(invaderMovement);
    } 
}
</code></pre></div>
<p>And because it&rsquo;s fun let&rsquo;s add another sound when we lose.</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#00f">function</span> playGameOver() {
    <span style="color:#00f">let</span> audio = <span style="color:#00f">new</span> Audio(<span style="color:#a31515">&#39;assets/game-over.mp3&#39;</span>);
    audio.play();
}
</code></pre></div>
<h2 id="shooting-at-the-aliens">Shooting at the aliens</h2>

<p>To give our spaceship any chance of winnig we will equip it with the ability to shoot lasers.
Whenever we press the space bar we want a new laser to appear at the space ships position. then we want it to move upwards.</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#00f">function</span> shootLaser() {
    <span style="color:#00f">let</span> laserPosition = playerPosition;
    <span style="color:#00f">function</span> moveLaser() {
        cells[laserPosition].classList.remove(<span style="color:#a31515">&#34;laser&#34;</span>);
        laserPosition -= 15;
        <span style="color:#00f">if</span> (laserPosition &lt; 0) {
            clearInterval(laserId);
        }
        cells[laserPosition].classList.add(<span style="color:#a31515">&#34;laser&#34;</span>);
    }
    <span style="color:#00f">let</span> laserId = setInterval(moveLaser, 500);
}
</code></pre></div>
<p>And the logic to call this function whenever the space bar is pressed is in our eventhandler for the keypress.</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript">document.addEventListener(<span style="color:#a31515">&#39;keydown&#39;</span>, <span style="color:#00f">function</span> keyDownListener(e) {
    <span style="color:#008000">// ... handle other key codes
</span><span style="color:#008000"></span>    <span style="color:#00f">if</span> (e.keyCode === 32) {
        shootLaser();
    }
});
</code></pre></div>
<p>Now we can shoot lasers but nothing happens yet when they touch an alien. We can simply check if the laser touches an invader if one of the invaders have the same position as the laser.
When this is the case we hide the invader and remove it from our invaders list. Moreover we will increase a score to dispaly on our page.</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#00f">let</span> hitByLaser = invaders.find(invaderRelativePosition =&gt; invaderRelativePosition + invadersPosition === laserPosition);
<span style="color:#00f">if</span> (hitByLaser != <span style="color:#00f">null</span>) {
    cells[hitByLaser + invadersPosition].classList.remove(<span style="color:#a31515">&#34;invader&#34;</span>);
    cells[hitByLaser + invadersPosition].classList.remove(<span style="color:#a31515">&#34;laser&#34;</span>);
    invaders = invaders.filter(invader =&gt; invader !== hitByLaser);
    score += 1;
    document.querySelector(<span style="color:#a31515">&#34;.score&#34;</span>).innerHTML = score;
    clearInterval(laserId);
}
</code></pre></div> </div>
        </div>
    </div>
</section>  
    <footer>
        <div class="container">
            <div class="row">
                <div class="col">
                    <div>
                        <div>
                            <img src="/img/logo-coding-club-linz-white.svg">
                        </div>
                        <div>Coding Club Linz<br />Birkenweg 16, 4060 Leonding <br />
                            <a href="mailto:info@linz.coderdojo.net">info@linz.coderdojo.net</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </footer> <!-- Js -->
    <script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"
        integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"
        integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.17.1/moment.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.17.1/locale/de-at.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/showdown/1.9.1/showdown.min.js"></script>
    <script src="https://linz.coderdojo.net/js/wow.min.js"></script>
    <script src="https://linz.coderdojo.net/js/main.js"></script>
    <script src="https://www.google.com/recaptcha/api.js?render=6LfXNMcZAAAAALYnf3GpUqw5uotVMyjhLNU438i9"></script>
</body>

</html>
