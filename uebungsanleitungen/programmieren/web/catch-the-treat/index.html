<!DOCTYPE html>
<html class="no-js" lang="de-AT">


<head>
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-63326882-1"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());

        gtag('config', 'UA-63326882-1');
    </script>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title> Halloween - Catch the Treat </title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1"> <meta name="generator" content="Hugo 0.136.5"> <!-- Fonts -->

    

    

    

    

    

    
    <link rel="canonical" href="https://linz.coderdojo.net/uebungsanleitungen/programmieren/web/catch-the-treat/" />
    

    <link href='//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,500,600,700,800' rel='stylesheet'
        type='text/css'>
    <link href="https://fonts.googleapis.com/css2?family=Indie+Flower&display=swap" rel="stylesheet"> <!-- Stylesheets -->
     
    
    <link rel="stylesheet" href="https://linz.coderdojo.net/vendor.min.427db798bc1fd8e87412688ee1bc17b146a8ab9607228f687fa08070b18c0575.css">
    <link rel="stylesheet" href="https://linz.coderdojo.net/css/animate.css">
     
     
    <link rel="stylesheet" href="https://linz.coderdojo.net/style.min.a2e6859e8cb9160bace1b028b41c1206669c8ff293c2ad7667b894b27390b461.css">
    <script src="https://kit.fontawesome.com/5bb5b2cc9c.js" crossorigin="anonymous"></script>
</head>

<body id="body">
    <!-- NAVIGATION -->

<nav class="navbar fixed-top navbar-expand-lg navbar-light bg-light   ">
    <div class="container-fluid">
        <a class="navbar-brand" href="/"><img src="/img/logo-linz.png" height="30"></a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav ml-auto">
                <li class="nav-item   ">
                    <a class="nav-link" href="/">Home</a>
                </li>
                <li class="nav-item   ">
                    <a class="nav-link" href="/termine">Termine</a>
                </li>
                <li class="nav-item   ">
                    <a class="nav-link" href="/info">Infos</a>
                </li>
                <li class="nav-item   ">
                    <a class="nav-link" href="/mentoren">Mentoren</a>
                </li>
                <li class="nav-item   ">
                    <a class="nav-link" href="/sponsoring">Sponsoring</a>
                </li>
                <li class="nav-item  active ">
                    <a class="nav-link" href="/uebungsanleitungen">√úbungsanleitungen</a>
                </li>
            </ul>
        </div>
    </div>
</nav>  
     
     

<div class="container-fluid breadcrumb-container">
    <div class="container">
        <nav class="breadcrumb-nav" aria-label="breadcrumb">
        <ol class="breadcrumb">
            
        
        
        
        
        
        
        
        
        

        
        
        

        
        
        <li class="breadcrumb-item">
            <a href="https://linz.coderdojo.net/uebungsanleitungen/">√úbungsanleitungen</a>
        </li>
        
        
        
        

        
        
        <li class="breadcrumb-item">
            <a href="https://linz.coderdojo.net/uebungsanleitungen/programmieren/">Programmieren</a>
        </li>
        
        
        
        

        
        
        <li class="breadcrumb-item">
            <a href="https://linz.coderdojo.net/uebungsanleitungen/programmieren/web/">Web</a>
        </li>
        
        
        
        

        
        
        
        
        </ol>

        
        </nav>
    </div>
</div> 

<section id="sushi">
    <div class="container">
        <div class="row">
            
            <div class="col-12 sushi-toc">
                <h2>Inhalt</h2>
                <nav id="TableOfContents">
  <ul>
    <li><a href="#videoanleitung">Videoanleitung</a></li>
    <li><a href="#einleitung">Einleitung</a></li>
    <li><a href="#vorbereitung">Vorbereitung</a></li>
    <li><a href="#hintergrundgrafik-">Hintergrundgrafik üñºÔ∏è</a>
      <ul>
        <li><a href="#bild-laden">Bild laden</a></li>
        <li><a href="#-wichtige-tipps">üí° Wichtige Tipps</a></li>
        <li><a href="#leinwand-erstellen-und-hintergrund-malen-">Leinwand erstellen und Hintergrund malen üé®</a></li>
        <li><a href="#eigenen-hintergrund-verwenden">Eigenen Hintergrund verwenden</a></li>
      </ul>
    </li>
    <li><a href="#-coding-tipps">üí° Coding-Tipps</a>
      <ul>
        <li><a href="#red-squigglies">Red Squigglies</a></li>
        <li><a href="#intellisense">IntelliSense</a></li>
      </ul>
    </li>
    <li><a href="#monster-">Monster üßå</a>
      <ul>
        <li><a href="#monster-laden">Monster laden</a></li>
        <li><a href="#monster-bewegen-und-zeichnen">Monster bewegen und zeichnen</a></li>
      </ul>
    </li>
    <li><a href="#hintergrundmusik-">Hintergrundmusik üé∂</a></li>
    <li><a href="#monster-l√§uft-herum">Monster l√§uft herum</a></li>
    <li><a href="#s√º√üigkeiten-werfen-">S√º√üigkeiten werfen üç©</a>
      <ul>
        <li><a href="#s√º√üigkeiten-in-liste-verwalten">S√º√üigkeiten in Liste verwalten</a></li>
        <li><a href="#bilder-f√ºr-s√º√üigkeiten-laden">Bilder f√ºr S√º√üigkeiten laden</a></li>
        <li><a href="#s√º√üigkeiten-malen">S√º√üigkeiten malen</a></li>
        <li><a href="#zu-boden-gefallene-s√º√üigkeiten-entfernen">Zu Boden gefallene S√º√üigkeiten entfernen</a></li>
      </ul>
    </li>
    <li><a href="#s√º√üigkeiten-abschie√üen">S√º√üigkeiten abschie√üen</a>
      <ul>
        <li><a href="#fadenkreuz">Fadenkreuz</a></li>
        <li><a href="#auf-mausklick-reagieren">Auf Mausklick reagieren</a></li>
        <li><a href="#explosion-">Explosion üí•</a></li>
      </ul>
    </li>
    <li><a href="#punkte">Punkte</a>
      <ul>
        <li><a href="#punkte-in-variable-speichern">Punkte in Variable speichern</a></li>
        <li><a href="#schriftarten">Schriftarten</a></li>
        <li><a href="#punkte-z√§hlen-und-anzeigen">Punkte z√§hlen und anzeigen</a></li>
      </ul>
    </li>
    <li><a href="#leben">Leben</a>
      <ul>
        <li><a href="#lebensenergie-in-variable-speichern">Lebensenergie in Variable speichern</a></li>
        <li><a href="#lebensenergiebilder-laden">Lebensenergiebilder laden</a></li>
        <li><a href="#lebensenergie-anzeigen">Lebensenergie anzeigen</a></li>
        <li><a href="#game-over-meldung-fertig-machen">Game Over-Meldung fertig machen</a></li>
      </ul>
    </li>
    <li><a href="#levels">Levels</a>
      <ul>
        <li><a href="#aktuelles-level-in-variable-speichern">Aktuelles Level in Variable speichern</a></li>
        <li><a href="#code-zum-monster-malen-anpassen">Code zum Monster malen anpassen</a></li>
        <li><a href="#levels-umschalten">Levels umschalten</a></li>
      </ul>
    </li>
    <li><a href="#geschafft">Geschafft!</a></li>
  </ul>
</nav>
            </div>
            <div class="col-12 sushi-content"> <h1 id="halloween---catch-the-treats">Halloween - Catch the Treats</h1>
<h2 id="videoanleitung">Videoanleitung</h2>
<!-- raw HTML omitted -->
<h2 id="einleitung">Einleitung</h2>



     
    








<div class="row">
    <div class="col">
        <p><p>Willkommen bei unserem Halloween-Spiel üéÉ. Wir programmieren gemeinsam ein Spiel, bei dem freundliche Monster üëª gruselige &ldquo;S√º√üigkeiten&rdquo; herumwerfen, die du erwischen musst. Wenn du sie nicht erwischst, verlierst du ein Leben. Wenn du alle Leben verloren hast, ist das Spiel vorbei. Wer schafft am meisten Punkte?</p>
<p><strong>Interessante Info</strong> am Rande, die f√ºr diejenigen interessant sein k√∂nnte, die schon etwas mehr Erfahrung haben: Wir programmieren in dieser √úbung mit der Programmiersprache <em>TypeScript</em>. Unsere Entwicklungsumgebung ist <em>Stackblitz</em>. Als Grafikbibliothek verwenden wir <em>p5js</em>.</p>
</p>
    </div>
    <div class="col-12 col-md-6">
    <img src="/uebungsanleitungen/programmieren/web/catch-the-treat/img/hero.png" alt="(.Get 1)" class="mx-auto ml-md-auto mr-md-0" style="display: block; width: auto" />
    </div>
</div>

<h2 id="vorbereitung">Vorbereitung</h2>
<p>Damit du anfangen kannst zu programmieren, √∂ffne den <em>Starter-Code</em> unter <a href="https://meet.coderdojo.net/catch-starter" target="_blank">https://meet.coderdojo.net/catch-starter</a>. Ein solches Spiel von Grund auf neu zu programmieren ist etwas zu schwierig f√ºr Anf√§ngerInnen. Daher haben wir ein paar Dinge schon vorbereitet. Deshalb brauchst du den Starter-Code.</p>



     
    








<div class="row">
    <div class="col">
        <p>Damit du dir deine eigene Kopie des Starter-Codes bekommst, dr√ºcke auf <em>Fork</em>. Das Bild zeigt dir, wie der <em>Fork</em>-Knopf aussieht.</p>
    </div>
    <div class="col-12 col-md-4">
    <img src="/uebungsanleitungen/programmieren/web/catch-the-treat/img/fork.png" alt="(.Get 1)" class="mx-auto ml-md-auto mr-md-0" style="display: block; width: auto" />
    </div>
</div>




     
    








<div class="row">
    <div class="col">
        <p><p>Nach dem √ñffnen des Starter-Codes sollte dein Bildschirm so aussehen, wie im Bild gezeigt. Links ist die <em>Dateiliste</em>. Wir brauchen sie heute nicht, daher kannst du sie mit einem Klick ausblenden (siehe roter Pfeil im Bild).</p>
<p>In der Mitte siehst du den <em>Programmierbereich</em>. Hier schreiben wir unseren Code.</p>
<p>Rechts siehst du die <em>Programmausgabe</em>. Hier wird unser Spiel zu sehen sein. Wenn du die Ausgabe gerade nicht brauchst, kannst du sie mit dem Knopf <em>Close</em> rechts oben ausblenden. Mit <em>Open</em> erscheint sie wieder. Durch den Knopf <em>Open in New Tab</em> kannst du dein Spiel in einem eigenen Browser-Fenster √∂ffnen. Dann siehst du es noch gr√∂√üer.</p>
</p>
    </div>
    <div class="col-12 col-md-8">
    <img src="/uebungsanleitungen/programmieren/web/catch-the-treat/img/stackblitz.png" alt="(.Get 1)" class="mx-auto ml-md-auto mr-md-0" style="display: block; width: auto" />
    </div>
</div>

<h2 id="hintergrundgrafik-">Hintergrundgrafik üñºÔ∏è</h2>
<h3 id="bild-laden">Bild laden</h3>
<p>Wir fangen bei unserem Spiel genau wie bei Scratch-Spielen mit der Hintergrundgrafik an. Bevor wir ein Hintergrundbild verwenden k√∂nnen, m√ºssen wir es laden. Das machen wir in der <code>preload</code>-Funktion. Du musst eine Zeile zu ihr hinzuf√ºgen. Die Zeile sieht so aus:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;display:grid;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#00f">function</span> preload() {
</span></span><span style="display:flex; background-color:#e5e5e5"><span>  Background.loadImage(3); <span style="color:#008000">// &lt;&lt;&lt; Diese Zeile musst du einf√ºgen
</span></span></span><span style="display:flex;"><span><span style="color:#008000"></span>}</span></span></code></pre></div>
<h3 id="-wichtige-tipps">üí° Wichtige Tipps</h3>
<p>Hier ein paar wichtige Tipps, die du dir f√ºr die ganze √úbung merken solltest:</p>
<ol>
<li>Hinweise wie <code>// &lt;&lt;&lt; Diese Zeile musst du einf√ºgen</code> musst du <strong>nicht</strong> in deinem Code schreiben. Das sind ein sogenannte <em>Kommentare</em>. Sie sind in Gr√ºn dargestellt. Kommentare sind nur da, um dir zu zeigen, welche Zeile du einf√ºgen musst oder um dir zu erkl√§ren, was im Code passiert. Schreibe nur den Code, der kein Kommentar ist.</li>
<li>Achte immer genau darauf, dass du den Code richtig abschreibst. <strong>Jedes Zeichen ist wichtig</strong>, auch Gro√ü- und Kleinschreibung sind zu beachten!</li>
<li>Passe besonders darauf auf, dass der Code immer richtig innerhalb der geschweiften Klammern (<code>{</code> und <code>}</code>) steht. Sie begrenzen <em>Codebl√∂cke</em>, also Teile vom Code, die zusammengeh√∂ren.</li>
</ol>
<h3 id="leinwand-erstellen-und-hintergrund-malen-">Leinwand erstellen und Hintergrund malen üé®</h3>
<p>Nachdem wir den Hintergrund geladen haben, m√ºssen wir ihn anzeigen. Das passiert in zwei Schritten. Erstens m√ºssen wir in der <code>setup</code>-Funktion eine &ldquo;Leinwand&rdquo; erstellen, auf der wir den Hintergrund malen k√∂nnen. Auf Englisch hei√üt &ldquo;Leinwand&rdquo; <em>Canvas</em>. Die Zeile sieht so aus:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;display:grid;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#00f">function</span> setup() {
</span></span><span style="display:flex; background-color:#e5e5e5"><span>  Background.createCanvas(); <span style="color:#008000">// &lt;&lt;&lt; Diese Zeile musst du einf√ºgen
</span></span></span><span style="display:flex;"><span><span style="color:#008000"></span>}</span></span></code></pre></div>
<p>Jetzt k√∂nnen wir den Hintergrund malen. &ldquo;Malen&rdquo; hei√üt auf Englisch <em>Draw</em>. Daher malen wir den Hintergrund in der <code>draw</code>-Funktion. Die Zeile sieht so aus:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;display:grid;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#00f">function</span> draw() {
</span></span><span style="display:flex; background-color:#e5e5e5"><span>  Background.draw(); <span style="color:#008000">// &lt;&lt;&lt; Diese Zeile musst du einf√ºgen
</span></span></span><span style="display:flex;"><span><span style="color:#008000"></span>}</span></span></code></pre></div>



     
    








<div class="row">
    <div class="col">
        <p>Gratulation! Der erste Schritt zu unserem Spiel ist geschafft. Du m√ºsstest jetzt den Hintergrund sehen.</p>
    </div>
    <div class="col-12 col-md-8">
    <img src="/uebungsanleitungen/programmieren/web/catch-the-treat/img/background.png" alt="(.Get 1)" class="mx-auto ml-md-auto mr-md-0" style="display: block; width: auto" />
    </div>
</div>

<h3 id="eigenen-hintergrund-verwenden">Eigenen Hintergrund verwenden</h3>



     
    








<div class="row">
    <div class="col">
        <p>Jetzt kannst du kreativ werden. Du hast vielleicht die Zahl gesehen, die wir in der <code>preload</code>-Funktion an <code>loadImage</code> √ºbergeben haben. Dadurch kannst du steuern, welches Bild als Hintergrund verwendet werden soll. Wir haben acht Bilder f√ºr die vorbereitet. Du kannst zwischen ihnen umschalten, indem du die Zahl auf einen <strong>Wert zwischen 1 und 8</strong> √§nderst. Probiere es aus! Suche dir ein Hintergrundbild aus, das dir besonders gut gef√§llt.</p>
    </div>
    <div class="col-12 col-md-6">
    <img src="/uebungsanleitungen/programmieren/web/catch-the-treat/img/bg-image.png" alt="(.Get 1)" class="mx-auto ml-md-auto mr-md-0" style="display: block; width: auto" />
    </div>
</div>

<h2 id="-coding-tipps">üí° Coding-Tipps</h2>
<p>Bevor wir weitermachen, ein paar super praktische Coding-Tipps.</p>
<h3 id="red-squigglies">Red Squigglies</h3>



     
    








<div class="row">
    <div class="col">
        <p><p>Gerade als Anf√§ngerIn passiert es manchmal, dass Codeteils rot unterwellt dargestellt werden. In English sagt man dazu <em>Red Squigglies</em>. Lustiger Name, oder?</p>
<p>Die Red Squigglies zeigen dir an, dass du einen Fehler im Code hast. Entdeckst du den Fehler im Bild? Der Code enth√§lt das Kommando <code>loadimage</code> statt <code>loadImage</code> (kleines &ldquo;i&rdquo; wurde geschrieben, es muss aber ein gro√ües &ldquo;I&rdquo; sein). Diese Kleinigkeit f√ºhrt schon dazu, dass der Code nicht funktioniert. Du musst also auf die Red Squgglies achten und deinen Tippfehler suchen, wenn sie auftauchen. Solange du Red Squigglies hast, wird dein Spiel mit gro√üer Wahrscheinlichkeit nicht funktionieren.</p>
</p>
    </div>
    <div class="col-12 col-md-5">
    <img src="/uebungsanleitungen/programmieren/web/catch-the-treat/img/red-squigglies.png" alt="(.Get 1)" class="mx-auto ml-md-auto mr-md-0" style="display: block; width: auto" />
    </div>
</div>

<h3 id="intellisense">IntelliSense</h3>



     
    








<div class="row">
    <div class="col">
        <p>Der Editor versucht dir zu helfen, damit du weniger tippen musst. Wenn du die ersten Buchstaben eines Befehls eingetippt hast (im Bild zum Beispiel <code>lo</code>), dann zeigt dir der Editor gleich passende Kommandos an (im Beispiel <code>loadImage</code>). Wenn das passiert, musst du nicht mehr weiter tippen. Klicke die Auswahl einfach an, dr√ºcke auf die <em>Enter</em>-Taste oder die <em>Tabulator</em>-Taste und schon ist der Befehl vervollst√§ndigt. Praktisch, oder?</p>
    </div>
    <div class="col-12 col-md-5">
    <img src="/uebungsanleitungen/programmieren/web/catch-the-treat/img/intellisense.png" alt="(.Get 1)" class="mx-auto ml-md-auto mr-md-0" style="display: block; width: auto" />
    </div>
</div>

<h2 id="monster-">Monster üßå</h2>



     
    








<div class="row">
    <div class="col">
        <p><p>Jetzt f√ºgen wir unser freundliches Monster zum Spiel hinzu. Zum Spielbeginn haben wir nur ein Monster. Sp√§ter werden wir aber Levels hinzuf√ºgen und in jedem Level taucht ein zus√§tzliches Monster auf.</p>
<h3 id="monster-in-liste-speichern">Monster in Liste speichern</h3>
<p>Da wir mehrere Monster haben werden, m√ºssen wir alle unsere Monster in einer Variable speichern. Um genau zu sein verwenden wir eine <strong>Liste</strong>. Vielleicht kennst du Listen schon von Scratch-Projekten, die du programmiert hast (siehe Abbildung).</p>
</p>
    </div>
    <div class="col-12 col-md-5">
    <img src="/uebungsanleitungen/programmieren/web/catch-the-treat/img/scratch-arrays.png" alt="(.Get 1)" class="mx-auto ml-md-auto mr-md-0" style="display: block; width: auto" />
    </div>
</div>

<p>Auf Englisch wird beim Programmieren eine Liste als <em>Array</em> bezeichnet. Lass uns als erstes die Variable anlegen. Die Zeile sieht so aus (f√ºge sie unter dem Hinweis <code>// vvvv Hier f√ºgen wir die Variablen ein</code> ein, der schon im Starter-Code enthalten ist):</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;display:grid;"><code class="language-js" data-lang="js"><span style="display:flex;"><span>...
</span></span><span style="display:flex;"><span><span style="color:#008000">// vvvv Hier f√ºgen wir die Variablen ein
</span></span></span><span style="display:flex; background-color:#e5e5e5"><span><span style="color:#008000"></span><span style="color:#00f">const</span> monsters: Monster[] = []; <span style="color:#008000">// &lt;&lt;&lt; Diese Zeile musst du einf√ºgen
</span></span></span><span style="display:flex;"><span><span style="color:#008000"></span>
</span></span><span style="display:flex;"><span>...</span></span></code></pre></div>
<h3 id="monster-laden">Monster laden</h3>
<p>Als n√§chstes m√ºssen wir unsere Monster laden. Wie beim Hintergrund machen wir das in der <code>preload</code>-Funktion. Die Zeilen sehen so aus:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;display:grid;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#00f">function</span> preload() {
</span></span><span style="display:flex;"><span>  Background.loadImage(8); <span style="color:#008000">// &lt;&lt;&lt; Diese Zeile gibt es schon
</span></span></span><span style="display:flex;"><span><span style="color:#008000"></span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000">// vvv Diese Zeilen musst du einf√ºgen
</span></span></span><span style="display:flex; background-color:#e5e5e5"><span><span style="color:#008000"></span>  <span style="color:#00f">for</span> (<span style="color:#00f">let</span> i = 1; i &lt;= 3; i++) {
</span></span><span style="display:flex; background-color:#e5e5e5"><span>    <span style="color:#00f">const</span> monster = <span style="color:#00f">new</span> Monster(i);
</span></span><span style="display:flex; background-color:#e5e5e5"><span>    monster.loadMonster();
</span></span><span style="display:flex; background-color:#e5e5e5"><span>    monsters.push(monster);
</span></span><span style="display:flex; background-color:#e5e5e5"><span>  }
</span></span><span style="display:flex;"><span>  <span style="color:#008000">// ^^^ Bis hierher
</span></span></span><span style="display:flex;"><span><span style="color:#008000"></span>}</span></span></code></pre></div>



     
    








<div class="row">
    <div class="col">
        <p>Mit diesen Zeilen werden <strong>drei Monster in einer Schleife</strong> geladen (daher das <code>&lt;= 3</code> im Code). Schleifen kennst du wahrscheinlich schon aus Scratch (siehe Bild). In TypeScript macht man Schleifen unter anderem mit dem <code>for</code>-Kommando, das du gerade getippt hast. Nach dem Laden wird das Monster zur Liste hinzugef√ºgt (<code>push</code>).</p>
    </div>
    <div class="col-12 col-md-4">
    <img src="/uebungsanleitungen/programmieren/web/catch-the-treat/img/scratch-loop.png" alt="(.Get 1)" class="mx-auto ml-md-auto mr-md-0" style="display: block; width: auto" />
    </div>
</div>

<h3 id="monster-bewegen-und-zeichnen">Monster bewegen und zeichnen</h3>
<p>Beim Start des Spieles wollen wir die Monster in die Mitte des Bildschirms spazieren lassen. Das machen wir in der <code>setup</code>-Funktion und verwenden daf√ºr wieder eine <code>for</code>-Schleife, allerdings eine etwas andere Variante. Die Zeilen sehen so aus:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;display:grid;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#00f">function</span> setup() {
</span></span><span style="display:flex;"><span>  Background.createCanvas(); <span style="color:#008000">// &lt;&lt;&lt; Diese Zeile gibt es schon
</span></span></span><span style="display:flex;"><span><span style="color:#008000"></span>  
</span></span><span style="display:flex;"><span>  <span style="color:#008000">// vvv Diese Zeilen musst du einf√ºgen
</span></span></span><span style="display:flex; background-color:#e5e5e5"><span><span style="color:#008000"></span>  <span style="color:#00f">for</span> (<span style="color:#00f">const</span> monster <span style="color:#00f">of</span> monsters) {
</span></span><span style="display:flex; background-color:#e5e5e5"><span>    monster.<span style="color:#00f">goto</span>(1920 / 2);
</span></span><span style="display:flex; background-color:#e5e5e5"><span>  }
</span></span><span style="display:flex;"><span>  <span style="color:#008000">// ^^^ Bis hierher
</span></span></span><span style="display:flex;"><span><span style="color:#008000"></span>}</span></span></code></pre></div>
<p>Zum Schluss m√ºssen wir das erste Monster anzeigen. Das machen wir in der <code>draw</code>-Funktion. Die Zeilen sehen so aus:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;display:grid;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#00f">function</span> draw() {
</span></span><span style="display:flex;"><span>  Background.draw(); <span style="color:#008000">// &lt;&lt;&lt; Diese Zeile gibt es schon
</span></span></span><span style="display:flex;"><span><span style="color:#008000"></span>  
</span></span><span style="display:flex;"><span>  <span style="color:#008000">// vvv Diese Zeilen musst du einf√ºgen
</span></span></span><span style="display:flex; background-color:#e5e5e5"><span><span style="color:#008000"></span>  monsters[0].move();
</span></span><span style="display:flex; background-color:#e5e5e5"><span>  monsters[0].draw();
</span></span><span style="display:flex;"><span>  <span style="color:#008000">// ^^^ Bis hierher
</span></span></span><span style="display:flex;"><span><span style="color:#008000"></span>}</span></span></code></pre></div>



     
    








<div class="row">
    <div class="col">
        <p><p>Wenn du alles richtig gemacht hast, spaziert ein Monster √ºber den Bildschirm.</p>
<p>M√∂chtest du sehen, wie die anderen Monster aussehen? In der <code>draw</code>-Funktion siehst du zwei Mal <code>monster[0]</code>. √Ñndere die <code>0</code> auf eine <code>1</code> oder eine <code>2</code> (in <strong>beiden</strong> Zeilen). Dann siehst du alle drei Monster.</p>
</p>
    </div>
    <div class="col-12 col-md-5">
    <img src="/uebungsanleitungen/programmieren/web/catch-the-treat/img/monster-here.png" alt="(.Get 1)" class="mx-auto ml-md-auto mr-md-0" style="display: block; width: auto" />
    </div>
</div>

<h2 id="hintergrundmusik-">Hintergrundmusik üé∂</h2>
<p>Zeit f√ºr unsere ersten Sound-Effekte. Wir starten mit Hintergrundmusik. Wie schon bei den Grafiken zuvor m√ºssen wir auch die Musik als erstes laden. Das machen wir in der <code>preload</code>-Funktion. Die Zeile sieht so aus (f√ºge sie <strong>ganz am Ende</strong> der <code>preload</code>-Funktion unmittelbar vor der geschweiften Klammer zu <code>}</code> ein):</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;display:grid;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#00f">function</span> preload() {
</span></span><span style="display:flex;"><span>  ...
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex; background-color:#e5e5e5"><span>  Sounds.loadSounds(1, 40); <span style="color:#008000">// &lt;&lt;&lt; Diese Zeile musst du einf√ºgen
</span></span></span><span style="display:flex;"><span><span style="color:#008000"></span>}</span></span></code></pre></div>
<p>Jetzt m√ºssen wir die Musik nur noch starten. Das machen wir in der <code>setup</code>-Funktion. Die Zeile sieht so aus (f√ºge sie <strong>ganz am Ende</strong> der <code>setup</code>-Funktion unmittelbar vor der geschweiften Klammer zu <code>}</code> ein):</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;display:grid;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#00f">function</span> setup() {
</span></span><span style="display:flex;"><span>  ...
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex; background-color:#e5e5e5"><span>  Sounds.playBackgroundMusic();  <span style="color:#008000">// &lt;&lt;&lt; Diese Zeile musst du einf√ºgen
</span></span></span><span style="display:flex;"><span><span style="color:#008000"></span>}</span></span></code></pre></div>
<p>Du m√ºsstest jetzt Hintergrundmusik h√∂ren!</p>
<p>M√∂chtest du ein anderes Lied? Wir haben drei f√ºr dich zur Auswahl vorbereitet. Du steuerst, welches Lied im Hintergrund l√§uft, mit dem ersten Parameter der <code>loadSound</code>-Funktion in <code>preload</code>. Die drei Lieder haben die Nummern 1, 2 und 3. Probiere sie aus!</p>
<p>Der zweite Parameter steuert die Lautst√§rke der Hintergrundmusik. <code>40</code> ist ein guter Wert. Wenn dir die Musik zu leise ist, √§ndere ihn z.B. auf <code>60</code>. Wenn du lange an dem Spiel programmierst, kannst du die Musik vielleicht irgendwann nicht mehr h√∂ren ü§£. In diesem Fall setze die Lautst√§rke einfach auf Null ( <code>0</code>).</p>
<h2 id="monster-l√§uft-herum">Monster l√§uft herum</h2>



     
    








<div class="row">
    <div class="col">
        <p><p>Unser n√§chster Schritt ist, dass wir das Monster herumlaufen lassen. Es soll sich zuf√§llig nach links oder rechts bewegen. Wenn es angekommen ist, soll es eine zuf√§llig lange Zeit warten, bevor es sich wieder bewegt.</p>
<p>Programmieren k√∂nnen wir das in der <code>preload</code>-Funktion. Die Zeilen, die du einf√ºgen musst, sind im folgenden Codeabschnitt hervorgehoben. <strong>Achtung</strong>: Die anderen Zeilen gibt es schon. Achte darauf, dass du die neuen Zeilen genau an der richtigen Stelle einf√ºgst!</p>
</p>
    </div>
    <div class="col-12 col-md-5">
    <img src="/uebungsanleitungen/programmieren/web/catch-the-treat/img/monster-walking.gif" alt="(.Get 1)" class="mx-auto ml-md-auto mr-md-0" style="display: block; width: auto" />
    </div>
</div>

<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;display:grid;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#00f">function</span> preload() {
</span></span><span style="display:flex;"><span>  Background.loadImage(8);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#00f">for</span> (<span style="color:#00f">let</span> i = 1; i &lt;= 3; i++) {
</span></span><span style="display:flex;"><span>    <span style="color:#00f">const</span> monster = <span style="color:#00f">new</span> Monster(i);
</span></span><span style="display:flex;"><span>    monster.loadMonster();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000">// vvv Diese Zeilen musst du einf√ºgen
</span></span></span><span style="display:flex; background-color:#e5e5e5"><span><span style="color:#008000"></span>    monster.targetReached = () =&gt; {
</span></span><span style="display:flex; background-color:#e5e5e5"><span>      monster.walkToRandomPosition();
</span></span><span style="display:flex; background-color:#e5e5e5"><span>    };
</span></span><span style="display:flex;"><span>    <span style="color:#008000">// ^^^ Bis hierher
</span></span></span><span style="display:flex;"><span><span style="color:#008000"></span>
</span></span><span style="display:flex;"><span>    monsters.push(monster);
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span>  Sounds.loadSounds(1, 0.1);
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div>
<p><code>targetReached</code> ist ein sogenannter <em>Callback</em>, ein <em>R√ºckruf</em>. Der Code, den wir <code>targetReached</code> zuweisen, wird immer dann aufgerufen, wenn das Monster sein aktuelles Ziel erreicht hat.</p>
<p>Und? Spaziert dein Monster jetzt schon fr√∂hlich durch die Halloween-Welt?</p>
<h2 id="s√º√üigkeiten-werfen-">S√º√üigkeiten werfen üç©</h2>
<h3 id="s√º√üigkeiten-in-liste-verwalten">S√º√üigkeiten in Liste verwalten</h3>



     
    








<div class="row">
    <div class="col">
        <p>Immer wenn unser Monster stehen bleibt, soll es S√º√üigkeiten (Englisch <em>Treats</em> oder <em>Sweets</em>) in die Luft werfen, die wir treffen m√ºssen. In unserem Programm m√ºssen wir die S√º√üigkeiten, die gerade herumfliegen, irgendwo verwalten. Was bietet sich da an? Eine <em>Liste</em>, genau wie bei unseren Monster. Starten wir, indem wir die List als Variable anlegen. Kannst du dich noch erinnern, wo in unserem Programm die Variablen sind? Ziemlich weit oben im Programmcode.</p>
    </div>
    <div class="col-12 col-md-5">
    <img src="/uebungsanleitungen/programmieren/web/catch-the-treat/img/throwing-treats.gif" alt="(.Get 1)" class="mx-auto ml-md-auto mr-md-0" style="display: block; width: auto" />
    </div>
</div>

<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;display:grid;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#008000">// vvvv Hier f√ºgen wir die Variablen ein
</span></span></span><span style="display:flex;"><span><span style="color:#008000"></span><span style="color:#00f">const</span> monsters: Monster[] = []; <span style="color:#008000">// &lt;&lt;&lt; Diese Zeile gibt es schon
</span></span></span><span style="display:flex; background-color:#e5e5e5"><span><span style="color:#008000"></span><span style="color:#00f">const</span> items: Items[] = [];      <span style="color:#008000">// &lt;&lt;&lt; Diese Zeile musst du neu einf√ºgen
</span></span></span></code></pre></div>
<h3 id="bilder-f√ºr-s√º√üigkeiten-laden">Bilder f√ºr S√º√üigkeiten laden</h3>
<p>Wir haben eine ganze Reihe an Halloween-Treats vorbereitet, die wir laden m√ºssen, bevor wir sie verwenden k√∂nnen. Kannst du dich noch erinnern, in welcher Methode wir bisher immer Bilder und Sounds geladen haben? Richtig, es war die <code>preload</code>-Funktion. Der folgende Codeabschnitt zeigt, welche <strong>zwei Zeilen</strong> du wo in <code>preload</code> einf√ºgen musst. Die erste l√§dt die Bilder f√ºr die S√º√üigkeiten und die zweite f√ºgt immer dann, wenn das Monster stehenbleibt, eine neue S√º√üigkeit in unsere Liste ein (<code>push</code>).</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;display:grid;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#00f">function</span> preload() {
</span></span><span style="display:flex;"><span>  Background.loadImage(3);
</span></span><span style="display:flex; background-color:#e5e5e5"><span>  Items.loadItems();                            <span style="color:#008000">// &lt;&lt;&lt; Diese Zeile musst du neu einf√ºgen
</span></span></span><span style="display:flex;"><span><span style="color:#008000"></span>
</span></span><span style="display:flex;"><span>  <span style="color:#00f">for</span> (<span style="color:#00f">let</span> i = 1; i &lt;= 3; i++) {
</span></span><span style="display:flex;"><span>    <span style="color:#00f">const</span> monster = <span style="color:#00f">new</span> Monster(i);
</span></span><span style="display:flex;"><span>    monster.loadMonster();
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    monster.targetReached = () =&gt; {
</span></span><span style="display:flex; background-color:#e5e5e5"><span>      items.push(<span style="color:#00f">new</span> Items(monster.position));  <span style="color:#008000">// &lt;&lt;&lt; Diese Zeile musst du neu einf√ºgen
</span></span></span><span style="display:flex;"><span><span style="color:#008000"></span>      monster.walkToRandomPosition();
</span></span><span style="display:flex;"><span>    };
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    monsters.push(monster);
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  Sounds.loadSounds(1, 40);
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div>
<h3 id="s√º√üigkeiten-malen">S√º√üigkeiten malen</h3>
<p>Ein Schritt fehlt noch, bis S√º√üigkeiten fliegen: Wir m√ºssen die gerade aktiven S√º√üigkeiten in der <code>draw</code>-Funktion auf den Bildschirm malen. Da mehrere S√º√üigkeiten gleichzeitig herumfliegen k√∂nnen, m√ºssen wir das in einer Schleife f√ºr alle gerade aktiven S√º√üigkeiten machen.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;display:grid;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#00f">function</span> draw() {
</span></span><span style="display:flex;"><span>  Background.draw();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  monsters[0].move();
</span></span><span style="display:flex;"><span>  monsters[0].draw();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000">// vvv Diese Zeilen musst du einf√ºgen
</span></span></span><span style="display:flex; background-color:#e5e5e5"><span><span style="color:#008000"></span>  <span style="color:#00f">for</span> (<span style="color:#00f">let</span> i = 0; i &lt; items.length; i++) {
</span></span><span style="display:flex; background-color:#e5e5e5"><span>    items[i].draw();
</span></span><span style="display:flex; background-color:#e5e5e5"><span>  }
</span></span><span style="display:flex;"><span>  <span style="color:#008000">// ^^^ Bis hierher
</span></span></span><span style="display:flex;"><span><span style="color:#008000"></span>}</span></span></code></pre></div>
<h3 id="zu-boden-gefallene-s√º√üigkeiten-entfernen">Zu Boden gefallene S√º√üigkeiten entfernen</h3>
<p>Geschafft! Das Monster wirft mit S√º√üigkeiten um sich! Aber Moment, wir haben ein Problem. Die S√º√üigkeiten bleiben am Boden liegen. Das soll nicht so sein. Wenn man beim Programmieren ein Objekt nicht mehr braucht, muss man es entfernen, sonst t√ºrmt sich &ldquo;M√ºll&rdquo; (Englisch <em>Garbage</em>) auf. Lass uns die <code>draw</code>-Funktion, die wir gerade ge√§ndert haben, noch verbessern. Immer wenn eine S√º√üigkeit den Boden ber√ºhrt, spielen wir einen Soundeffekt ab und entfernen sie (<code>splice</code>):</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;display:grid;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#00f">function</span> draw() {
</span></span><span style="display:flex;"><span>  ...
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#00f">for</span> (<span style="color:#00f">let</span> i = 0; i &lt; items.length; i++) {
</span></span><span style="display:flex;"><span>    <span style="color:#008000">// vvv Diese Zeilen musst du einf√ºgen
</span></span></span><span style="display:flex; background-color:#e5e5e5"><span><span style="color:#008000"></span>    <span style="color:#00f">if</span> (items[i].touchesFloor) {
</span></span><span style="display:flex; background-color:#e5e5e5"><span>      Sounds.playDrop();
</span></span><span style="display:flex; background-color:#e5e5e5"><span>      items.splice(i--, 1);
</span></span><span style="display:flex; background-color:#e5e5e5"><span>
</span></span><span style="display:flex; background-color:#e5e5e5"><span>      <span style="color:#00f">continue</span>;
</span></span><span style="display:flex; background-color:#e5e5e5"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#008000">// ^^^ Bis hierher
</span></span></span><span style="display:flex;"><span><span style="color:#008000"></span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    items[i].draw();
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div>



     
    








<div class="row">
    <div class="col">
        <p><p>Jetzt passt es super. Die S√º√üigkeiten verschwinden, wenn sie am Boden laden.</p>
<p>√úbrigens, ist dir im Code, den du gerade geschrieben hast, das <code>if</code> aufgefallen? Das ist die TypeScript-Variante vom <em>falls, dann</em> oder <em>falls, dann, sonst</em>, das du bereits aus Scratch kennst.</p>
</p>
    </div>
    <div class="col-12 col-md-3">
    <img src="/uebungsanleitungen/programmieren/web/catch-the-treat/img/scratch-if.png" alt="(.Get 1)" class="mx-auto ml-md-auto mr-md-0" style="display: block; width: auto" />
    </div>
</div>

<h2 id="s√º√üigkeiten-abschie√üen">S√º√üigkeiten abschie√üen</h2>
<h3 id="fadenkreuz">Fadenkreuz</h3>



     
    








<div class="row">
    <div class="col">
        <p>Hintergrund ist da, Monster l√§uft herum, Monster wirft mit S√º√üigkeiten um sich - wir haben schon richtig viel geschafft! Jetzt machen wir uns daran, dass wir S√º√üigkeiten abschie√üen k√∂nnen. Als erstes zeichnen wir daf√ºr an der Position der Maus ein Fadenkreuz, damit wir besser zielen k√∂nnen. Das machen wir in der <code>draw</code>-Funktion. Die neue Zeile sieht so aus (f√ºge sie <strong>ganz am Ende</strong> der <code>draw</code>-Funktion unmittelbar vor der geschweiften Klammer zu <code>}</code> ein):</p>
    </div>
    <div class="col-12 col-md-3">
    <img src="/uebungsanleitungen/programmieren/web/catch-the-treat/img/crosshairs.png" alt="(.Get 1)" class="mx-auto ml-md-auto mr-md-0" style="display: block; width: auto" />
    </div>
</div>

<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;display:grid;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#00f">function</span> draw() {
</span></span><span style="display:flex;"><span>  ...
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex; background-color:#e5e5e5"><span>  Crosshairs.draw(); <span style="color:#008000">// &lt;&lt;&lt; Diese Zeile musst du am Ende der draw-Funktion einf√ºgen
</span></span></span><span style="display:flex;"><span><span style="color:#008000"></span>}</span></span></code></pre></div>
<h3 id="auf-mausklick-reagieren">Auf Mausklick reagieren</h3>



     
    








<div class="row">
    <div class="col">
        <p>Als n√§chstes m√ºssen wir etwas machen, wenn die Spielerin oder der Spieler mit der Maus klicken. Daf√ºr gibt es die Methode <code>mouseClicked</code>. Sie ist so etwas √§hnliches wie das Scratch-Ereignis <em>Wenn diese Figur angeklickt wird</em>. Am besten du suchst sie als erstes in deinem Code. Sie ist ganz unten und im Moment noch leer.</p>
    </div>
    <div class="col-12 col-md-4">
    <img src="/uebungsanleitungen/programmieren/web/catch-the-treat/img/scratch-click.png" alt="(.Get 1)" class="mx-auto ml-md-auto mr-md-0" style="display: block; width: auto" />
    </div>
</div>

<p>F√ºge den folgenden Code in die <code>mouseClicked</code>-Funktion ein. Er ist etwas l√§nger, aber mittlerweile bist du ja fast schon ein Profi üëç. <strong>Zur Erinnerung:</strong> Die Zeilen, die mit <code>//</code> beginnen, sind <em>Kommentare</em>. Sie sollen dir nur erkl√§ren, was der Code macht. Du musst sie <strong>nicht</strong> eintippen.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;display:grid;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#00f">function</span> mouseClicked() {
</span></span><span style="display:flex;"><span>  <span style="color:#008000">// Wir pr√ºfen, ob innerhalb der Spielfl√§che geklickt wurde.
</span></span></span><span style="display:flex;"><span><span style="color:#008000"></span>  <span style="color:#008000">// Klicks au√üerhalb ignorieren wir.
</span></span></span><span style="display:flex; background-color:#e5e5e5"><span><span style="color:#008000"></span>  <span style="color:#00f">if</span> (Background.isIn(p.mouseX, p.mouseY)) {
</span></span><span style="display:flex;"><span>    <span style="color:#008000">// Wir gehen alle gerade herumfliegenden S√º√üigkeiten in
</span></span></span><span style="display:flex;"><span><span style="color:#008000"></span>    <span style="color:#008000">// einer Schleife durch und pr√ºfen, ob der Mausklick auf
</span></span></span><span style="display:flex;"><span><span style="color:#008000"></span>    <span style="color:#008000">// der jeweiligen S√º√üigkeit stattgefunden hat. Wenn ja
</span></span></span><span style="display:flex;"><span><span style="color:#008000"></span>    <span style="color:#008000">// wurde sie getroffen.
</span></span></span><span style="display:flex; background-color:#e5e5e5"><span><span style="color:#008000"></span>    <span style="color:#00f">for</span> (<span style="color:#00f">let</span> i = 0; i &lt; items.length; i++) {
</span></span><span style="display:flex; background-color:#e5e5e5"><span>      <span style="color:#00f">const</span> pos = items[i].getBox();
</span></span><span style="display:flex; background-color:#e5e5e5"><span>      <span style="color:#00f">if</span> (pos.isIn(p.mouseX, p.mouseY)) {
</span></span><span style="display:flex;"><span>        <span style="color:#008000">// Getroffen! Wir spielen einen Soundeffekt f√ºr den
</span></span></span><span style="display:flex;"><span><span style="color:#008000"></span>        <span style="color:#008000">// Treffer ab und entfernen die S√º√üigkeit.
</span></span></span><span style="display:flex; background-color:#e5e5e5"><span><span style="color:#008000"></span>        Sounds.playHit();
</span></span><span style="display:flex; background-color:#e5e5e5"><span>        items.splice(i--, 1);
</span></span><span style="display:flex;"><span>        <span style="color:#008000">// Wir sind fertig.
</span></span></span><span style="display:flex; background-color:#e5e5e5"><span><span style="color:#008000"></span>        <span style="color:#00f">return</span>;
</span></span><span style="display:flex; background-color:#e5e5e5"><span>      }
</span></span><span style="display:flex; background-color:#e5e5e5"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#008000">// Wenn wir diese Zeile erreichen, hat der Mausklick
</span></span></span><span style="display:flex;"><span><span style="color:#008000"></span>    <span style="color:#008000">// keine S√º√üigkeit erwischt. Wir spielen daher einen Soundeffekt
</span></span></span><span style="display:flex;"><span><span style="color:#008000"></span>    <span style="color:#008000">// ab, der den Fehlschuss h√∂rbar macht.
</span></span></span><span style="display:flex; background-color:#e5e5e5"><span><span style="color:#008000"></span>    Sounds.playMiss();
</span></span><span style="display:flex; background-color:#e5e5e5"><span>  }
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div>
<p>Probiere es aus! Du kannst jetzt S√º√üigkeiten abschie√üen.</p>
<h3 id="explosion-">Explosion üí•</h3>



     
    








<div class="row">
    <div class="col">
        <p><p>W√§re es nicht cool, wenn eine S√º√üigkeit explodiert, wenn wir sie erwischen? Lass uns eine Explosion hinzuf√ºgen!</p>
<p>Kannst du erraten, was wir f√ºr die Explosion als erstes machen m√ºssen? Wir m√ºssen die Bilder der Explosion laden. Und das geschieht in welcher Methode? Richtig, <code>preload</code>. Die neue Zeile sieht so aus (f√ºge sie <strong>ganz am Ende</strong> der <code>preload</code>-Funktion unmittelbar vor der geschweiften Klammer zu <code>}</code> ein):</p>
</p>
    </div>
    <div class="col-12 col-md-5">
    <img src="/uebungsanleitungen/programmieren/web/catch-the-treat/img/explosion.gif" alt="(.Get 1)" class="mx-auto ml-md-auto mr-md-0" style="display: block; width: auto" />
    </div>
</div>

<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;display:grid;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#00f">function</span> preload() {
</span></span><span style="display:flex;"><span>  ...
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  Sounds.loadSounds(1, 40);  <span style="color:#008000">// &lt;&lt;&lt; Diese Zeile gibt es schon
</span></span></span><span style="display:flex; background-color:#e5e5e5"><span><span style="color:#008000"></span>  Explosion.loadExplosion(); <span style="color:#008000">// &lt;&lt;&lt; Diese Zeile musst du einf√ºgen
</span></span></span><span style="display:flex;"><span><span style="color:#008000"></span>}</span></span></code></pre></div>
<p>Als n√§chstes m√ºssen wir die Explosion ausl√∂sen, wenn eine S√º√üigkeit getroffen wurde. Das hei√üt, wir m√ºssen den Code √§ndern, den wir im letzten Kapitel gerade geschrieben haben. Er ist in der <code>mouseClicked</code>-Funktion. Die neue Zeile sieht so aus:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;display:grid;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#00f">function</span> mouseClicked() {
</span></span><span style="display:flex;"><span>  <span style="color:#00f">if</span> (Background.isIn(p.mouseX, p.mouseY)) {
</span></span><span style="display:flex;"><span>    <span style="color:#00f">for</span> (<span style="color:#00f">let</span> i = 0; i &lt; items.length; i++) {
</span></span><span style="display:flex;"><span>      <span style="color:#00f">const</span> pos = items[i].getBox();
</span></span><span style="display:flex;"><span>      <span style="color:#00f">if</span> (pos.isIn(p.mouseX, p.mouseY)) {
</span></span><span style="display:flex;"><span>        Sounds.playHit();
</span></span><span style="display:flex;"><span>        items.splice(i--, 1);
</span></span><span style="display:flex; background-color:#e5e5e5"><span>        Explosion.explode(pos.middleX, pos.middleY); <span style="color:#008000">// &lt;&lt;&lt; Diese Zeile musst du einf√ºgen
</span></span></span><span style="display:flex;"><span><span style="color:#008000"></span>        <span style="color:#00f">return</span>;
</span></span><span style="display:flex;"><span>      }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    Sounds.playMiss();
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div>
<p>Wenn du jetzt das Spiel probierst, wirst du sehen, dass immer noch keine Explosion auftaucht. Was fehlt? Wir m√ºssen die Explosion noch auf den Bildschirm malen. &ldquo;Malen&rdquo; hei√üt auf Englisch <em>to draw</em>, daher machen wir das in der <code>draw</code>-Funktion. Die neue Zeile sieht so aus (f√ºge sie <strong>ganz am Ende</strong> der <code>draw</code>-Funktion unmittelbar vor der geschweiften Klammer zu <code>}</code> ein):</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;display:grid;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#00f">function</span> draw() {
</span></span><span style="display:flex;"><span>  ...
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  Crosshairs.draw(); <span style="color:#008000">// &lt;&lt;&lt; Diese Zeile gibt es schon
</span></span></span><span style="display:flex; background-color:#e5e5e5"><span><span style="color:#008000"></span>  Explosion.draw();  <span style="color:#008000">// &lt;&lt;&lt; Diese Zeile musst du einf√ºgen
</span></span></span><span style="display:flex;"><span><span style="color:#008000"></span>}</span></span></code></pre></div>
<p>Los gehts, lass S√º√üigkeiten explodieren üí•!</p>
<h2 id="punkte">Punkte</h2>
<h3 id="punkte-in-variable-speichern">Punkte in Variable speichern</h3>



     
    








<div class="row">
    <div class="col">
        <p>Was w√§re ein solches Spiel ohne Punkte, die man sammeln kann. Lass uns einen Punktez√§hler hinzuf√ºgen. Daf√ºr brauchen wir als erstes eine Variable, in der wir die Punkte speichern.</p>
    </div>
    <div class="col-12 col-md-3">
    <img src="/uebungsanleitungen/programmieren/web/catch-the-treat/img/points.png" alt="(.Get 1)" class="mx-auto ml-md-auto mr-md-0" style="display: block; width: auto" />
    </div>
</div>

<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;display:grid;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#008000">// vvvv Hier f√ºgen wir die Variablen ein
</span></span></span><span style="display:flex;"><span><span style="color:#008000"></span><span style="color:#00f">const</span> monsters: Monster[] = []; <span style="color:#008000">// &lt;&lt;&lt; Diese Zeile gibt es schon
</span></span></span><span style="display:flex;"><span><span style="color:#008000"></span><span style="color:#00f">const</span> items: Items[] = [];      <span style="color:#008000">// &lt;&lt;&lt; Diese Zeile gibt es auch schon
</span></span></span><span style="display:flex; background-color:#e5e5e5"><span><span style="color:#008000"></span><span style="color:#00f">let</span> points = 0;                 <span style="color:#008000">// &lt;&lt;&lt; Diese Zeile musst du hinzuf√ºgen
</span></span></span></code></pre></div>
<h3 id="schriftarten">Schriftarten</h3>
<p>Zum Darstellen der Punkte brauchen wir eine passende Schriftart. Genau wie Bilder und Sounds m√ºssen wir Schriftarten in der <code>preload</code>-Funktion laden. Die neue Zeile sieht so aus (f√ºge sie <strong>ganz am Ende</strong> der <code>preload</code>-Funktion unmittelbar vor der geschweiften Klammer zu <code>}</code> ein):</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;display:grid;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#00f">function</span> preload() {
</span></span><span style="display:flex;"><span>  ...
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  Explosion.loadExplosion(); <span style="color:#008000">// &lt;&lt;&lt; Diese Zeile gibt es schon
</span></span></span><span style="display:flex; background-color:#e5e5e5"><span><span style="color:#008000"></span>  Fonts.loadFonts();         <span style="color:#008000">// &lt;&lt;&lt; Diese Zeile musst du hinzuf√ºgen
</span></span></span><span style="display:flex;"><span><span style="color:#008000"></span>}</span></span></code></pre></div>
<h3 id="punkte-z√§hlen-und-anzeigen">Punkte z√§hlen und anzeigen</h3>
<p>Wann immer wir eine S√º√üigkeit treffen, m√ºssen wir den Punktestand erh√∂hen. Hast du eine Idee, an welcher Stelle im Programm wir das machen sollten? In der <code>mouseClicked</code>-Funktion, in der wir die S√º√üigkeit explodieren lassen, wenn sie angeklickt wird. Die neue Zeile sieht so aus:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;display:grid;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#00f">function</span> mouseClicked() {
</span></span><span style="display:flex;"><span>  ...
</span></span><span style="display:flex;"><span>        Explosion.explode(pos.middleX, pos.middleY); <span style="color:#008000">// &lt;&lt;&lt; Diese Zeile gibt es schon
</span></span></span><span style="display:flex; background-color:#e5e5e5"><span><span style="color:#008000"></span>        points++;                                    <span style="color:#008000">// &lt;&lt;&lt; Diese Zeile musst du einf√ºgen
</span></span></span><span style="display:flex;"><span><span style="color:#008000"></span>        <span style="color:#00f">return</span>;                                      <span style="color:#008000">// &lt;&lt;&lt; Diese Zeile gibt es auch schon
</span></span></span><span style="display:flex;"><span><span style="color:#008000"></span>  ...
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div>
<p>Jetzt m√ºssen wir den Punktestand noch in der <code>draw</code>-Funktion auf den Bildschirm malen. Die neue Zeile sieht so aus (f√ºge sie <strong>ganz am Ende</strong> der <code>draw</code>-Funktion unmittelbar vor der geschweiften Klammer zu <code>}</code> ein):</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;display:grid;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#00f">function</span> draw() {
</span></span><span style="display:flex;"><span>  ...
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  Explosion.draw();                         <span style="color:#008000">// &lt;&lt;&lt; Diese Zeile gibt es schon
</span></span></span><span style="display:flex; background-color:#e5e5e5"><span><span style="color:#008000"></span>  Texts.drawPoints(Fonts.Qahiri(), points); <span style="color:#008000">// &lt;&lt;&lt; Diese Zeile musst du einf√ºgen
</span></span></span><span style="display:flex;"><span><span style="color:#008000"></span>}</span></span></code></pre></div>
<p>Hurra, wir k√∂nnen Punkte sammeln!</p>
<h2 id="leben">Leben</h2>



     
    








<div class="row">
    <div class="col">
        <p>Unser Spiel ist schon richtig gut. Aber es fehlt noch etwas. Das Spiel endet nie. Lass uns Lebensenergie hinzuf√ºgen. Wir starten mit f√ºnf Leben. Wenn eine S√º√üigkeit zu Boden f√§llt, verlieren wir ein Leben. Wenn wir alle Leben verloren haben, ist das Spiel zu Ende.</p>
    </div>
    <div class="col-12 col-md-3">
    <img src="/uebungsanleitungen/programmieren/web/catch-the-treat/img/health.png" alt="(.Get 1)" class="mx-auto ml-md-auto mr-md-0" style="display: block; width: auto" />
    </div>
</div>

<h3 id="lebensenergie-in-variable-speichern">Lebensenergie in Variable speichern</h3>
<p>Als erstes brauchen wir zwei Variablen. Die eine (<code>health</code>) speichert die aktuelle Lebensenergie und die andere (<code>gameOver</code>) zeigt an, ob das Spiel zu Ende ist.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;display:grid;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#008000">// vvvv Hier f√ºgen wir die Variablen ein
</span></span></span><span style="display:flex;"><span><span style="color:#008000"></span><span style="color:#00f">const</span> monsters: Monster[] = [];
</span></span><span style="display:flex;"><span><span style="color:#00f">const</span> items: Items[] = [];
</span></span><span style="display:flex;"><span><span style="color:#00f">let</span> points = 0;
</span></span><span style="display:flex;"><span><span style="color:#008000">// vvv Diese Zeilen muss du einf√ºgen
</span></span></span><span style="display:flex; background-color:#e5e5e5"><span><span style="color:#008000"></span><span style="color:#00f">let</span> health = 5;
</span></span><span style="display:flex; background-color:#e5e5e5"><span><span style="color:#00f">let</span> gameOver = <span style="color:#00f">false</span>;
</span></span><span style="display:flex;"><span><span style="color:#008000">// ^^^ Bis hierher
</span></span></span></code></pre></div>
<h3 id="lebensenergiebilder-laden">Lebensenergiebilder laden</h3>
<p>Jetzt geht es wieder ans Laden von Bildern. Die Lebensenergie wird als kleines Herz rechts oben am Bildschirm angezeigt. Die Bilder daf√ºr m√ºssen wir wie √ºblich in der <code>preload</code>-Funktion laden. Die neue Zeile sieht so aus (f√ºge sie <strong>ganz am Ende</strong> der <code>preload</code>-Funktion unmittelbar vor der geschweiften Klammer zu <code>}</code> ein):</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;display:grid;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#00f">function</span> preload() {
</span></span><span style="display:flex;"><span>  ...
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  Fonts.loadFonts();          <span style="color:#008000">// &lt;&lt;&lt; Diese Zeile gibt es schon
</span></span></span><span style="display:flex; background-color:#e5e5e5"><span><span style="color:#008000"></span>  HealthHearts.loadHearts();  <span style="color:#008000">// &lt;&lt;&lt; Diese Zeile musst du einf√ºgen
</span></span></span><span style="display:flex;"><span><span style="color:#008000"></span>}</span></span></code></pre></div>
<h3 id="lebensenergie-anzeigen">Lebensenergie anzeigen</h3>



     
    








<div class="row">
    <div class="col">
        <p><p>Jetzt √ºberarbeiten wir die <code>draw</code>-Funktion. Du musst an <strong>drei Stellen</strong> etwas hinzuf√ºgen!</p>
<ol>
<li>Der erste Code sorgt daf√ºr, dass eine <em>Game Over</em>-Meldung angezeigt wird wenn das Spiel zu Ende ist.</li>
<li>Der zweite Code reduziert die Lebensenergie, wenn eine S√º√üigkeit zu Boden f√§llt. Au√üerdem setzt er <code>gameOver</code> auf <code>true</code>, wenn wir keine Lebensenergie mehr haben.</li>
<li>Ganz am Ende m√ºssen wir die Lebensenergie am Bildschirm anzeigen.</li>
</ol></p>
    </div>
    <div class="col-12 col-md-4">
    <img src="/uebungsanleitungen/programmieren/web/catch-the-treat/img/game-over.png" alt="(.Get 1)" class="mx-auto ml-md-auto mr-md-0" style="display: block; width: auto" />
    </div>
</div>

<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;display:grid;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#00f">function</span> draw() {
</span></span><span style="display:flex;"><span>  Background.draw();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000">// vvv Diese Zeilen muss du einf√ºgen
</span></span></span><span style="display:flex; background-color:#e5e5e5"><span><span style="color:#008000"></span>  <span style="color:#00f">if</span> (gameOver) {
</span></span><span style="display:flex;"><span>    <span style="color:#008000">// Falls Game Over ist, schreiben wir eine Meldung mit den erreichten
</span></span></span><span style="display:flex;"><span><span style="color:#008000"></span>    <span style="color:#008000">// Punkten auf den Bildschirm und beenden das Spiel.
</span></span></span><span style="display:flex; background-color:#e5e5e5"><span><span style="color:#008000"></span>    Texts.drawGameOver(Fonts.Festive(), points);
</span></span><span style="display:flex; background-color:#e5e5e5"><span>    <span style="color:#00f">return</span>;
</span></span><span style="display:flex; background-color:#e5e5e5"><span>  }
</span></span><span style="display:flex;"><span>  <span style="color:#008000">// ^^^ Bis hierher
</span></span></span><span style="display:flex;"><span><span style="color:#008000"></span>
</span></span><span style="display:flex;"><span>  monsters[0].move();
</span></span><span style="display:flex;"><span>  monsters[0].draw();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#00f">for</span> (<span style="color:#00f">let</span> i = 0; i &lt; items.length; i++) {
</span></span><span style="display:flex;"><span>    <span style="color:#00f">if</span> (items[i].touchesFloor) {
</span></span><span style="display:flex;"><span>      Sounds.playDrop();
</span></span><span style="display:flex;"><span>      items.splice(i--, 1);
</span></span><span style="display:flex;"><span>      <span style="color:#008000">// vvv Diese Zeilen muss du einf√ºgen
</span></span></span><span style="display:flex; background-color:#e5e5e5"><span><span style="color:#008000"></span>      health--;
</span></span><span style="display:flex; background-color:#e5e5e5"><span>      <span style="color:#00f">if</span> (health === 0) {
</span></span><span style="display:flex;"><span>        <span style="color:#008000">// Wenn eine S√º√üigkeit zu Boden f√§llt, reduzieren wir
</span></span></span><span style="display:flex;"><span><span style="color:#008000"></span>        <span style="color:#008000">// die Lebensenergie um 1. Wenn die Lebensenergie auf 
</span></span></span><span style="display:flex;"><span><span style="color:#008000"></span>        <span style="color:#008000">// 0 f√§llt, ist das Spiel zu Ende.
</span></span></span><span style="display:flex; background-color:#e5e5e5"><span><span style="color:#008000"></span>        gameOver = <span style="color:#00f">true</span>;
</span></span><span style="display:flex; background-color:#e5e5e5"><span>      }
</span></span><span style="display:flex;"><span>      <span style="color:#008000">// ^^^ Bis hierher
</span></span></span><span style="display:flex;"><span><span style="color:#008000"></span>
</span></span><span style="display:flex;"><span>      <span style="color:#00f">continue</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    items[i].draw();
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  Crosshairs.draw();
</span></span><span style="display:flex;"><span>  Explosion.draw();
</span></span><span style="display:flex;"><span>  Texts.drawPoints(Fonts.Qahiri(), points); <span style="color:#008000">// &lt;&lt;&lt; Diese Zeile gibt es schon
</span></span></span><span style="display:flex; background-color:#e5e5e5"><span><span style="color:#008000"></span>  HealthHearts.drawHealth(health);          <span style="color:#008000">// &lt;&lt;&lt; Diese Zeile musst du einf√ºgen
</span></span></span><span style="display:flex;"><span><span style="color:#008000"></span>}</span></span></code></pre></div>
<h3 id="game-over-meldung-fertig-machen">Game Over-Meldung fertig machen</h3>



     
    








<div class="row">
    <div class="col">
        <p><p>Wie gef√§llt dir die Schriftart, die wir f√ºr <em>Game Over</em> ausgew√§hlt haben? Du kannst sie √§ndern, in dem du den Schriftnamen √§nderst. Dir stehen drei M√∂glichkeiten zur Verf√ºgung:</p>
<ol>
<li>Festive</li>
<li>Qahiri</li>
<li>Roboto</li>
</ol></p>
    </div>
    <div class="col-12 col-md-4">
    <img src="/uebungsanleitungen/programmieren/web/catch-the-treat/img/font.png" alt="(.Get 1)" class="mx-auto ml-md-auto mr-md-0" style="display: block; width: auto" />
    </div>
</div>

<p>Eine letzte Sache noch, dann haben wir die Lebensenergie fertig. Wenn das Spiel zu Ende ist, soll es nicht mehr m√∂glich sein, S√º√üigkeiten abzuschie√üen. Das machen wir in der <code>mouseClicked</code>-Funktion. Die neuen Zeilen sehen so aus (f√ºge sie <strong>ganz am Anfang</strong> der <code>mouseClicked()</code>-Funktion ein):</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;display:grid;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#00f">function</span> mouseClicked() {
</span></span><span style="display:flex;"><span>  <span style="color:#008000">// vvv Diese Zeilen muss du einf√ºgen
</span></span></span><span style="display:flex; background-color:#e5e5e5"><span><span style="color:#008000"></span>  <span style="color:#00f">if</span> (gameOver) {
</span></span><span style="display:flex; background-color:#e5e5e5"><span>    <span style="color:#00f">return</span>;
</span></span><span style="display:flex; background-color:#e5e5e5"><span>  }
</span></span><span style="display:flex;"><span>  <span style="color:#008000">// ^^^ Bis hierher
</span></span></span><span style="display:flex;"><span><span style="color:#008000"></span>  
</span></span><span style="display:flex;"><span>  ...
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div>
<p>Probiere mal, ob das mit der Lebensenergie funktioniert, indem du bewusst S√º√üigkeiten zu Boden fallen l√§sst.</p>
<h2 id="levels">Levels</h2>



     
    








<div class="row">
    <div class="col">
        <p><p>Wir sind in der Zielgeraden, eine letzte Funktion fehlt uns noch: Levels: Unser Spiel ist im Moment zu einfach. Man k√∂nnte es endlos spielen. Schwieriger machen k√∂nnen wir es, indem wir mehrere Monster gleichzeitig S√º√üigkeiten werfen lassen. Wir starten mit einem Monster und f√ºgen dann nach und nach weitere Monster hinzu. Das machen wir mit einem Level-System:</p>
<ol>
<li>Wir starten mit Level 1, in dem es nur ein Monster gibt.</li>
<li>Wenn wir 25 Punkte erreicht haben, steigen wir auf Level 2 auf, in dem es zwei Monster gibt.</li>
<li>Wenn wir 50 Punkte erreicht haben, steigen wir auf Level 3 auf, in dem es drei Monster gibt.</li>
</ol></p>
    </div>
    <div class="col-12 col-md-5">
    <img src="/uebungsanleitungen/programmieren/web/catch-the-treat/img/level-3.gif" alt="(.Get 1)" class="mx-auto ml-md-auto mr-md-0" style="display: block; width: auto" />
    </div>
</div>

<h3 id="aktuelles-level-in-variable-speichern">Aktuelles Level in Variable speichern</h3>
<p>Als erstes brauchen wir eine Variable, in der wir das aktuelle Level speichern.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;display:grid;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#008000">// vvvv Hier f√ºgen wir die Variablen ein
</span></span></span><span style="display:flex;"><span><span style="color:#008000"></span>...
</span></span><span style="display:flex;"><span><span style="color:#00f">let</span> gameOver = <span style="color:#00f">false</span>; <span style="color:#008000">// &lt;&lt;&lt; Diese Zeile gibt es schon
</span></span></span><span style="display:flex; background-color:#e5e5e5"><span><span style="color:#008000"></span><span style="color:#00f">let</span> level = 3;        <span style="color:#008000">// &lt;&lt;&lt; Diese Zeile musst du einf√ºgen
</span></span></span></code></pre></div>
<h3 id="code-zum-monster-malen-anpassen">Code zum Monster malen anpassen</h3>
<p>Da es in den Levels 2 und 3 mehrere Monster gibt, m√ºssen wir unseren <code>draw</code>-Code √§ndern. Statt immer nur ein Monster zu zeichnen, m√ºssen wir in einer Schleife alle Monster malen, die gerade aktiv sind. Dazu m√ºssen wir zwei Zeilen <strong>l√∂schen</strong> und durch andere ersetzen:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;display:grid;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#00f">function</span> draw() {
</span></span><span style="display:flex;"><span>  ...
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000">// vvv Die folgenden zwei Zeilen gibt es schon, du musst sie L√ñSCHEN
</span></span></span><span style="display:flex; background-color:#e5e5e5"><span><span style="color:#008000"></span>  <span style="color:#008000">// monsters[0].move();
</span></span></span><span style="display:flex; background-color:#e5e5e5"><span><span style="color:#008000"></span>  <span style="color:#008000">// monsters[0].draw();
</span></span></span><span style="display:flex;"><span><span style="color:#008000"></span>  <span style="color:#008000">// ^^^ Bis hierher
</span></span></span><span style="display:flex;"><span><span style="color:#008000"></span>
</span></span><span style="display:flex;"><span>  <span style="color:#008000">// vvv Diese Zeilen musst du stattdessen einf√ºgen
</span></span></span><span style="display:flex; background-color:#e5e5e5"><span><span style="color:#008000"></span>  <span style="color:#00f">for</span> (<span style="color:#00f">let</span> i = 0; i &lt; level; i++) {
</span></span><span style="display:flex; background-color:#e5e5e5"><span>    monsters[i].move();
</span></span><span style="display:flex; background-color:#e5e5e5"><span>    monsters[i].draw();
</span></span><span style="display:flex; background-color:#e5e5e5"><span>  }
</span></span><span style="display:flex;"><span>  <span style="color:#008000">// ^^^ Bis hierher
</span></span></span><span style="display:flex;"><span><span style="color:#008000"></span>
</span></span><span style="display:flex;"><span>  ...
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div>
<h3 id="levels-umschalten">Levels umschalten</h3>



     
    








<div class="row">
    <div class="col">
        <p>Zum Schluss m√ºssen wir die Levels umschalten. Wenn wir 25 Punkte erreicht haben, geht es in Level 2. Bei 50 in Level 3. Nat√ºrlich kannst du die Punktegrenzen auch an deine Vorstellungen anpassen und so das Spiel schwerer oder leichter machen.</p>
    </div>
    <div class="col-12 col-md-5">
    <img src="/uebungsanleitungen/programmieren/web/catch-the-treat/img/level-points.png" alt="(.Get 1)" class="mx-auto ml-md-auto mr-md-0" style="display: block; width: auto" />
    </div>
</div>

<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;display:grid;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#00f">function</span> mouseClicked() {
</span></span><span style="display:flex;"><span>  ...
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#00f">if</span> (Background.isIn(p.mouseX, p.mouseY)) {
</span></span><span style="display:flex;"><span>    <span style="color:#00f">for</span> (<span style="color:#00f">let</span> i = 0; i &lt; items.length; i++) {
</span></span><span style="display:flex;"><span>      ...
</span></span><span style="display:flex;"><span>      <span style="color:#00f">if</span> (pos.isIn(p.mouseX, p.mouseY)) {
</span></span><span style="display:flex;"><span>        ...
</span></span><span style="display:flex;"><span>        points++; <span style="color:#008000">// &lt;&lt;&lt; Diese Zeile gibt es schon
</span></span></span><span style="display:flex;"><span><span style="color:#008000"></span>
</span></span><span style="display:flex;"><span>        <span style="color:#008000">// vvv Diese Zeilen musst du einf√ºgen
</span></span></span><span style="display:flex; background-color:#e5e5e5"><span><span style="color:#008000"></span>        <span style="color:#00f">if</span> (points === 25) {
</span></span><span style="display:flex; background-color:#e5e5e5"><span>          level = 2;
</span></span><span style="display:flex; background-color:#e5e5e5"><span>        } <span style="color:#00f">else</span> <span style="color:#00f">if</span> (points === 50) {
</span></span><span style="display:flex; background-color:#e5e5e5"><span>          level = 3;
</span></span><span style="display:flex; background-color:#e5e5e5"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#008000">// ^^^ Bis hierher
</span></span></span><span style="display:flex;"><span><span style="color:#008000"></span>
</span></span><span style="display:flex;"><span>        <span style="color:#00f">return</span>; <span style="color:#008000">// &lt;&lt;&lt; Diese Zeile gibt es schon
</span></span></span><span style="display:flex;"><span><span style="color:#008000"></span>      }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    ...
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div>
<h2 id="geschafft">Geschafft!</h2>
<p>Wow, gratulation, du hast es bis zum Ende geschafft. Du hast ein richtiges Browser-Game programmiert. Wir hoffen, dass es dir Spa√ü gemacht hat.</p>
<p>Hier zum Schluss noch der Link zum fertigen Spiel: <a href="https://meet.coderdojo.net/catch-finished" target="_blank">https://meet.coderdojo.net/catch-finished</a>. Wenn du das Spiel einfach nur spielen m√∂chtest, hier der passende Link daf√ºr: <a href="https://meet.coderdojo.net/catch-play" target="_blank">https://meet.coderdojo.net/catch-play</a>.</p>
 </div>
        </div>
    </div>
</section>  
    <footer>
        <div class="container">
            <div class="row">
                <div class="col">
                    <div>
                        <div>
                            <img src="/img/logo-coding-club-linz-white.svg">
                        </div>
                        <div>Coding Club Linz<br />Birkenweg 16, 4060 Leonding <br />
                            <a href="mailto:info@linz.coderdojo.net">info@linz.coderdojo.net</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </footer> <!-- Js -->
    <script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"
        integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"
        integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.17.1/moment.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.17.1/locale/de-at.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/showdown/1.9.1/showdown.min.js"></script>
    <script src="https://linz.coderdojo.net/js/wow.min.js"></script>
    <script src="https://linz.coderdojo.net/js/main.js"></script>
    <script src="https://www.google.com/recaptcha/api.js?render=6LfXNMcZAAAAALYnf3GpUqw5uotVMyjhLNU438i9"></script>
</body>

</html>
