<!DOCTYPE html>
<html class="no-js" lang="de-AT">


<head>
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-63326882-1"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());

        gtag('config', 'UA-63326882-1');
    </script>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title> Ninja Jump&#39;n&#39;run </title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1"> <meta name="generator" content="Hugo 0.73.0" /> <!-- Fonts -->

    
    <link rel="canonical" href="https://linz.coderdojo.net/uebungsanleitungen/programmieren/scratch/ninja-jumpnrun/" />
    

    <link href='//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,500,600,700,800' rel='stylesheet'
        type='text/css'>
    <link href="https://fonts.googleapis.com/css2?family=Indie+Flower&display=swap" rel="stylesheet"> <!-- Stylesheets -->
     
    
    <link rel="stylesheet" href="https://linz.coderdojo.net/vendor.min.55a3cbb6f035c25e5c7cf706ee053eca6f5a54d8095b05fd737d1b0330f99eaf.css">
    <link rel="stylesheet" href="https://linz.coderdojo.net/css/animate.css">
     
     
    <link rel="stylesheet" href="https://linz.coderdojo.net/style.min.a4356d440b42c3f37b1296088fa705ae96fffdb44f1294c319e5f36f6d1876d1.css">
    <script src="https://kit.fontawesome.com/5bb5b2cc9c.js" crossorigin="anonymous"></script>
</head>

<body id="body">
    <!-- NAVIGATION -->

<nav class="navbar fixed-top navbar-expand-lg navbar-light bg-light ">
    <div class="container-fluid">
        <a class="navbar-brand" href="/"><img src="/img/logo-linz.png" height="30"></a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav ml-auto">
                <li class="nav-item ">
                    <a class="nav-link" href="/">Home</a>
                </li>
                <li class="nav-item ">
                    <a class="nav-link" href="/termine">Termine</a>
                </li>
                <li class="nav-item ">
                    <a class="nav-link" href="/info">Infos</a>
                </li>
                <li class="nav-item ">
                    <a class="nav-link" href="/mentoren">Mentoren</a>
                </li>
                <li class="nav-item ">
                    <a class="nav-link" href="/sponsoring">Sponsoring</a>
                </li>
                <li class="nav-item active">
                    <a class="nav-link" href="/uebungsanleitungen">Übungsanleitungen</a>
                </li>
            </ul>
        </div>
    </div>
</nav>     

<div class="container-fluid breadcrumb-container">
    <div class="container">
        <nav class="breadcrumb-nav" aria-label="breadcrumb">
        <ol class="breadcrumb">
            
        
        
        
        
        
        
        
        
        

        
        
        

        
        
        <li class="breadcrumb-item">
            <a href="https://linz.coderdojo.net/uebungsanleitungen/">Übungsanleitungen</a>
        </li>
        
        
        
        

        
        
        <li class="breadcrumb-item">
            <a href="https://linz.coderdojo.net/uebungsanleitungen/programmieren/">Programmieren</a>
        </li>
        
        
        
        

        
        
        <li class="breadcrumb-item">
            <a href="https://linz.coderdojo.net/uebungsanleitungen/programmieren/scratch/">Scratch</a>
        </li>
        
        
        
        

        
        
        
        
        </ol>

        
        </nav>
    </div>
</div> 

<section id="sushi-overview">
    <div class="container-fluid">
        <div class="container">
            <div class="row">
                <div class="col-12">
                    <h1>Ninja Jump&#39;n&#39;run</h1>
                </div>
                <div class="col-12 col-md-6">  <img src="/uebungsanleitungen/programmieren/scratch/ninja-jumpnrun/img/game.png" alt="Ninja Jump&#39;n&#39;run"> 
                </div>
                <div class="col-12 col-md-6">
                    <p class="mb-4">Sammle die Diamanten während du durch das Level läufst.</p>
                    
                    <table class="table">
                        <tr>
                            <td><i class="fas fa-dragon"></i>Figuren</td>
                            <td>4</td>
                        </tr>
                        <tr>
                            <td><i class="fas fa-code"></i>Skripte</td>
                            <td>30</td>
                        </tr>
                        <tr>
                            <td><i class="fas fa-clipboard-list"></i>Variablen</td>
                            <td>24</td>
                        </tr>
                    </table>
                    
                </div>
            </div>
        </div>
    </div>
</section>

<section id="sushi">
    <div class="container">
        <div class="row">
            
            
            <div class="col-12 sushi-content"> 

<p>Dieses Spiel ist bereits etwas herausfordernder und soll euch Zeigen wie man in einem Spiel mit einem Spielfeld umgeht, das
viel größer als der Bildschirm ist.</p>

<h3 id="figuren">Figuren</h3>

<p>Bitte lade dir folgende Figuren Herunter:</p>

<ul>
<li><a href="assets/Spieler.sprite3" target="_blank">Ninja als Spieler</a></li>
<li><a href="assets/game_block.sprite3" target="_blank">Blöcke für das Spielfeld</a></li>
<li><a href="assets/Diamant.sprite3" target="_blank">Diamanten zum Sammeln</a></li>
<li><a href="assets/Schlange.sprite3" target="_blank">Schlangen als Gegner</a></li>
</ul>

<p>Ausserdem werdet ihr noch</p>

<ul>
<li><a href="assets/level.txt" target="_blank">Level-Datei für das Spielfeld</a></li>
</ul>

<p>brauchen.</p>

<h1 id="vorbereitung">Vorbereitung</h1>




     
    








<div class="row">
    <div class="col">
        <p>Das Spielfeld selbst ist diesmal nicht wirklich ein Bild sondern eine Beschreibung wo welcher Block Sitzen soll. Wir definieren dafür eine Liste namens <code>level</code> im der Sektion <code>Variablen</code> durch klicken auf <code>Neue Liste</code>.</p>
    </div>
    <div class="col-12 col-md-4">
    <img src="/uebungsanleitungen/programmieren/scratch/ninja-jumpnrun/img/new_list_level.png" alt="(.Get 1)" class="mx-auto ml-md-auto mr-md-0" style="display: block; width: auto" />
    </div>
</div>





     
    








<div class="row">
    <div class="col">
        <p><p>Für das Level habe ich hier ein <a href="assets/level.txt" target="_blank">minimales Spielfeld mit 64 blöcken Länge</a> vorbereitet. Bitte runterladen und dann importieren. Dazu einfach auf die liste rechts klicken und <code>importieren</code> auswählen.</p>

<p>Danach könnt ihr das Häckchen neben der <code>level</code> - Liste wieder unsichtbar machen.</p>
</p>
    </div>
    <div class="col-12 col-md-4">
    <img src="/uebungsanleitungen/programmieren/scratch/ninja-jumpnrun/img/import_level.png" alt="(.Get 1)" class="mx-auto ml-md-auto mr-md-0" style="display: block; width: auto" />
    </div>
</div>


<p>Danach werden wir die Vorbereitung des Spiels noch auf der Bühne als Skript abschließen. Dazu einfach die Bühne auswählen und auf die Registrierkarte <em>Skripte</em> klicken.</p>




     
    








<div class="row">
    <div class="col">
        <p><p>Bitte lege dir 2 Variablen an die die Größe des Spielfelds festlegen.</p>

<ol>
<li>Level Größe X</li>
<li>Level Größe Y</li>
</ol>
</p>
    </div>
    <div class="col-12 col-md-4">
    <img src="/uebungsanleitungen/programmieren/scratch/ninja-jumpnrun/img/vars_field.png" alt="(.Get 1)" class="mx-auto ml-md-auto mr-md-0" style="display: block; width: auto" />
    </div>
</div>





     
    








<div class="row">
    <div class="col">
        <p><p>Als erstes werden wir dort die Größe des Spielfelds einstellen (64 x 12 Blöcke) und danach 2 Nachrichten abschicken die</p>

<ol>
<li>Das Spiel starten (wir müssen in dem Fall warten bis alle Elemente des Spiels fertig sind.)</li>
<li>Das Spiel laufen lassen</li>
</ol>
</p>
    </div>
    <div class="col-12 col-md-4">
    <img src="/uebungsanleitungen/programmieren/scratch/ninja-jumpnrun/img/initialisiere_spiel.png" alt="(.Get 1)" class="mx-auto ml-md-auto mr-md-0" style="display: block; width: auto" />
    </div>
</div>


<h1 id="das-spielfeld">Das Spielfeld</h1>

<p>Das Spielfeld ist der komplizierteste Teil des Spiels da er folgende Aufgaben erfüllen muss:</p>

<ul>
<li>die Ränder (vorne und Hinten) festlegen</li>
<li>die Blöcke für Boden und Plattformen darstellen</li>
<li>Abhängig von der Kameraposition die richtigen Blöcke an die richtige Position zeichnen</li>
<li>Bei Änderung der Kameraposition die Blöcke verschieben.</li>
</ul>

<p>Da Scratch ein Limit von ~301 Klone hat dürfen wir auch nicht alle Blöcke des Spiels einfach als unsichtbare Blöcke behalten sondern müssen
abhängig von der Kameraposition nur jene Blöcke anzeigen die auch sichtbar sind.</p>

<p>Falls du das noch nicht erledigt hast, bitte importiere die <a href="assets/game_block.sprite3" target="_blank"><code>game-blocks</code></a> jetzt. Der große violette Block sollte dich nicht wundern. Du wirst ihn später im Spiel nicht mehr sehen. Er dient nur dazu dass wir die Blöcke weit genug aus dem Rand schieben können sodass diese unsichtbar werden.</p>




     
    








<div class="row">
    <div class="col">
        <p>Bitte lege auch gleich eine Variable <code>Kamera Pos X</code> <strong>für alle Figuren sichtbar</strong> an. Diese Variable benötigen wir, damit wir rausfinden, welcher Teil des Spielfelds gerade sichbar ist.</p>
    </div>
    <div class="col-12 col-md-2">
    <img src="/uebungsanleitungen/programmieren/scratch/ninja-jumpnrun/img/var_camera_pos_x.png" alt="(.Get 1)" class="mx-auto ml-md-auto mr-md-0" style="display: block; width: auto" />
    </div>
</div>


<h3 id="erzeugen-eines-blocks-an-einer-bestimmten-stelle">Erzeugen eines Blocks an einer bestimmten Stelle</h3>




     
    








<div class="row">
    <div class="col">
        <p><p>Als erstes werden wir uns um einen Benutzerdefinierten Block kümmern, der eines der Herzstücke des Hintergrundaufbaus darstellt. Er wird den korrekten Blocktyp an jeder Position ermitteln und einen Klon an der Stelle erschaffen.</p>

<p>Lege dafür auch gleich 2 Variablen <strong>nur für diese Figur</strong> an.</p>

<ul>
<li><code>xBlockIndex</code> die die aktuelle x-position in der <code>level</code> Liste halten wird.</li>
<li><code>cellindex</code> die die absolute Position in der <code>level</code> Liste halten wird.</li>
</ul>
</p>
    </div>
    <div class="col-12 col-md-4">
    <img src="/uebungsanleitungen/programmieren/scratch/ninja-jumpnrun/img/new_function_generateblock.png" alt="(.Get 1)" class="mx-auto ml-md-auto mr-md-0" style="display: block; width: auto" />
    </div>
</div>





     
    








<div class="row">
    <div class="col">
        <p><p>Kurze Info zu den Formeln:</p>

<ul>
<li>Jeder Block ist 32x32 Pixel groß -&gt; daher muss x und y durch 32 dividiert und abgerundet werden.</li>
<li>Der linke Rand bei Scratch is -230 und der untere Rand ist -170 -&gt; das müssen wir auch ausgleichen</li>
<li>die position in der liste für Y ist jeweils die Y-Position * der Breite des Spielfelds (in unserem Fall 64 Blöcke)

<ul>
<li>1. Zeile fängt bei 0 an</li>
<li>2. Zeile bei 64</li>
<li>3. Zeile bei 128</li>
<li>u.s.w.</li>
</ul></li>
<li>Danach müssen wir noch die X-Position dazuzählen. So ergibt sich z.B. für Y=2 X=3 (2*64 + 3 =&gt; 131)</li>
<li>Und weil Scratch nicht bei 0 sondern bei 1 in einer Liste zu zählen beginnt müssen wir noch 1 dazuzählen</li>
</ul>
</p>
    </div>
    <div class="col-12 col-md-6">
    <img src="/uebungsanleitungen/programmieren/scratch/ninja-jumpnrun/img/function_generateblock.png" alt="(.Get 1)" class="mx-auto ml-md-auto mr-md-0" style="display: block; width: auto" />
    </div>
</div>


<p>Falls der Block innerhalb des spielfeldes ist X &gt; 0 und X &lt; 64 dann werden wir einen Block zeichnen, sonst machen wir einfach
einen Stein-Block als Rand.</p>

<p>Als letztes überprüfen wir noch den eintrag in der liste. Falls es ein gültiger Spielfeld eintrag ist dann wechseln wir zu dem Kostüm und
erzeugen einen Klon.</p>

<h3 id="eine-spalte-von-blöcken-zeichnen">Eine Spalte von Blöcken zeichnen</h3>




     
    








<div class="row">
    <div class="col">
        <p><p>Wir gehen hier einfach davon aus dass wir von unten nach oben an der aktuellen Position Blöcke zeichnen.
Dafür werden wir die 12 Blöcke, die das Spielfeld hoch ist, jeweils einen Block zeichnen und dann 32 Punkte nach oben springen.
Am ende der Schleife springen wir wider an die Ausgangsposition.</p>

<p>An der X-Position müssen wir jetzt auch die Kameraposition berücksichtigen, da wir u.U. nicht mehr am 0-Punkt sind.</p>
</p>
    </div>
    <div class="col-12 col-md-4">
    <img src="/uebungsanleitungen/programmieren/scratch/ninja-jumpnrun/img/block_column_gen.png" alt="(.Get 1)" class="mx-auto ml-md-auto mr-md-0" style="display: block; width: auto" />
    </div>
</div>


<h3 id="vorbereiten-der-blöcke-für-die-ränder">Vorbereiten der Blöcke für die Ränder</h3>

<p>Damit wir an den Rändern neue Blöcke erzeugen können (wichtig beim Verschieben) legen wir noch 2 unsichtbare Blöcke am linken und am Rechten Rand an.</p>




     
    








<div class="row">
    <div class="col">
        <p>Damit die Blöcke auch wissen, was ihre Aufgabe ist geben wir ihnen einen Block-Typ als Variable <strong>nur für diese Figur</strong>:</p>
    </div>
    <div class="col-12 col-md-4">
    <img src="/uebungsanleitungen/programmieren/scratch/ninja-jumpnrun/img/var_next_blocktype.png" alt="(.Get 1)" class="mx-auto ml-md-auto mr-md-0" style="display: block; width: auto" />
    </div>
</div>


<ul>
<li>0 - Undefiniert (kein Klon)</li>
<li>1 - Linker Rand</li>
<li>2 - Rechter Rand</li>
<li>10 - &ldquo;Normaler&rdquo; sichtbarer Block</li>
</ul>




     
    








<div class="row">
    <div class="col">
        <p>Damit wir dem Block auch mitteilen können welcher Typ er sein soll müssen wir noch einen Variable &ldquo;Nächster Blocktyp&rdquo; <strong>für alle Figuren sichtbar</strong> anlegen.</p>
    </div>
    <div class="col-12 col-md-4">
    <img src="/uebungsanleitungen/programmieren/scratch/ninja-jumpnrun/img/var_blocktype.png" alt="(.Get 1)" class="mx-auto ml-md-auto mr-md-0" style="display: block; width: auto" />
    </div>
</div>


<h3 id="erzeugen-der-klone-für-das-spielfeld">Erzeugen der Klone für das Spielfeld</h3>




     
    








<div class="row">
    <div class="col">
        <p><p>Beim Spielstart müssen als erstes einmal alle Blöcke angelegt werden die gerade sichtbar sind. Damit das schnell geht, legen wir uns einen Benutzerdefinierten Block &ldquo;Zeichne Hintergrund&rdquo; an der <strong>ohne Bildschirmaktualisierung</strong> läuft.</p>

<p>Damit wir die Blöcke auch aus dem sichtbaren Bereich verschieben können wählen wir zum positionieren immer das Kostüm &ldquo;Huge Block&rdquo;. Ausserdem machen wir unsere Vorlage unsichtbar.</p>

<p>Danach stellen wir uns auf die linke untere Position für den ersten Block. Dort setzten wir auch gleich den Spezialblock für den Linken Rand (siehe oben).</p>

<p>Danach gehen wir in einer Schleife Spalte für Spalte durch und Benutzen die zuvor erstellte Funktion um die Klone für die Blöcke anzulegen. Als letztes legen wir noch den Spezialblock für den rechten Rand an. Da wir nach jeder Spalte um 32 pixel nach rechts gerutscht sind, müssen wir das vorher bei der rechts-aussen-Spalte rückgängig machen.</p>

<p>Die <strong>&ldquo;Warte 0.001 s&rdquo;</strong> - Blöcke vor dem Wechsel der Block-Typen sind übrigens dafür da, damit der Aktuell zu erstellende Klon genug Zeit hat sich seinen Blocktyp zu merken. Sonst würden wir <code>Nächster Blocktyp</code> umstellen bevor der aktuelle Klon sich die Variable merken konnte.</p>
</p>
    </div>
    <div class="col-12 col-md-4">
    <img src="/uebungsanleitungen/programmieren/scratch/ninja-jumpnrun/img/draw_background.png" alt="(.Get 1)" class="mx-auto ml-md-auto mr-md-0" style="display: block; width: auto" />
    </div>
</div>





     
    








<div class="row">
    <div class="col">
        <p>Zum erfolgreichen Spielstart fehlt jetzt nur noch die Reaktion auf das eingentliche Start-Ereignis.</p>
    </div>
    <div class="col-12 col-md-4">
    <img src="/uebungsanleitungen/programmieren/scratch/ninja-jumpnrun/img/initialize_background_blocks.png" alt="(.Get 1)" class="mx-auto ml-md-auto mr-md-0" style="display: block; width: auto" />
    </div>
</div>





     
    








<div class="row">
    <div class="col">
        <p><p>Und eine Endlosschleife damit das Spiel nicht sofort zu Ende ist.</p>

<p>Da es sich hierbei um eine Endlosschleife handelt, möchten wir diese nur auf einem Klon laufen lassen (z.B. den mit <code>Block Typ</code> = 0)</p>
</p>
    </div>
    <div class="col-12 col-md-4">
    <img src="/uebungsanleitungen/programmieren/scratch/ninja-jumpnrun/img/run_background_blocks_empty.png" alt="(.Get 1)" class="mx-auto ml-md-auto mr-md-0" style="display: block; width: auto" />
    </div>
</div>


<h3 id="das-spielfeld-erscheinen-lassen">Das Spielfeld erscheinen lassen</h3>

<p>Wenn du jetzt auf Start drückst läuft das Spiel zwar los aber man sieht noch: <strong>nichts</strong>.</p>




     
    








<div class="row">
    <div class="col">
        <p><p>Das liegt daran, dass wir zwar Klone erzeugen, diese aber nach wie vor unsichtbar sind.</p>

<p>Wir müssen noch folgende Dinge machen, wenn neue Klone entstehen:</p>

<ul>
<li>Blocktyp merken (kopie von <code>Nächster Blocktyp</code> auf <code>Block Typ</code>)</li>
<li>Block Sichtbar machen, wenn es sich um einen <code>Block Typ</code> handelt, der sichtbar sein soll</li>
</ul>

<p>Wenn du nun noch einmal auf Start drückst, wirst du sehen wie das Spielfeld wie von Zauberhand entsteht.</p>
</p>
    </div>
    <div class="col-12 col-md-4">
    <img src="/uebungsanleitungen/programmieren/scratch/ninja-jumpnrun/img/new_background_clone.png" alt="(.Get 1)" class="mx-auto ml-md-auto mr-md-0" style="display: block; width: auto" />
    </div>
</div>


<h3 id="das-spielfeld-bewegen">Das Spielfeld bewegen</h3>

<p>Nun da wir das Spielfeld sehen können möchten wir es natürlich auch bewegen können. Immerhin ist es ja das Ziel unsers Spiels, dass wir uns auf der Spielfläche bewegen wollen. Das Ereignis <code>Hintergrundbewegen</code> wird dies erledigen.</p>




     
    








<div class="row">
    <div class="col">
        <p>Um festzulegen wie weit sich der Hintergrund bewegt legen wir eine neue Variable <code>Kameraänderung</code> <strong>für alle Figuren sichtbar</strong> an.</p>
    </div>
    <div class="col-12 col-md-2">
    <img src="/uebungsanleitungen/programmieren/scratch/ninja-jumpnrun/img/var_camera_move.png" alt="(.Get 1)" class="mx-auto ml-md-auto mr-md-0" style="display: block; width: auto" />
    </div>
</div>





     
    








<div class="row">
    <div class="col">
        <p>Zunächst schreiben wir die Behandlungsroutine für <code>Hintergrundbewegen</code>. Ausserdem benötigen wir noch einen Variable <code>Kostüm Vorher</code> <strong>nur für diese Figur</strong>.</p>
    </div>
    <div class="col-12 col-md-2">
    <img src="/uebungsanleitungen/programmieren/scratch/ninja-jumpnrun/img/var_costume_backup.png" alt="(.Get 1)" class="mx-auto ml-md-auto mr-md-0" style="display: block; width: auto" />
    </div>
</div>


<p><em>Hintergrundinfo:</em> Diese Behandlungsroutine wird auf jedem Klon separat ausgeführt - das heißt jeder Spielblock ist für sich selbst verantwortlich.</p>




     
    








<div class="row">
    <div class="col">
        <p><p>Um die Scratch limitierung &ldquo;kein block kann sich aus dem Spielfeld bewegen&rdquo; zu überlisten muss der Block sehr groß werden.</p>

<p>Wir gehen wie folgt vor:</p>

<ul>
<li>speichern des aktuellen Kostüms in der Variable <code>Kostüm Vorher</code></li>
<li>wechseln auf <code>Huge Block</code></li>
<li>verschieben des Blocks um <code>Kameraänderung</code></li>
<li>wechseln auf das Kostüm, das in der Variable <code>Kostüm Vorher</code> gemerkt wurde.</li>
</ul>

<p>Die Blöcke sind Verschoben. Damit wir nicht zu viele Klone erhalten, werden wir nun sichtbare Blöcke entfernen, die aus dem Bildschirm hinausgeschoben wurden.</p>

<p>Eine Sonderbehandlung erhalten die beiden Randblöcke. Damit du das Skript fertig machen kannst musst du noch den Benutzerdefinierten Block <code>Überprüfe Randblock</code> (siehe nächstes Skript) erstellen.</p>
</p>
    </div>
    <div class="col-12 col-md-5">
    <img src="/uebungsanleitungen/programmieren/scratch/ninja-jumpnrun/img/script_evt_background_move.png" alt="(.Get 1)" class="mx-auto ml-md-auto mr-md-0" style="display: block; width: auto" />
    </div>
</div>





     
    








<div class="row">
    <div class="col">
        <p><p>Zum überprüfen des Randes bitte einen neuen <em>Bentzerdefinierten Block</em> &ldquo;<code>Überprüfe Randblock</code>&rdquo; <strong>ohne Bildschirmaktualsierung</strong> erzeugen. Du kannst den Block dann gleich ins obere Skript <code>Hintegrundbewegen</code> einfügen.</p>

<p>In dem Skript überprüfen wir die beiden unsichtbaren Randblöcke (Typ 1 und 2) ob sie bereits so weit verschoben wurden, dass sie wider um eine Spalte zurück springen müssen, um noch am Rand zu sein. Sollte die Bewegung <em>nach aussen</em> sein (also z.B. der Rechte Block springt nach Rechts), erzeugen wir an der Zielposition eine neue Spalte mit Spielfeld-Blöcken. Dazu können wir wieder den Block <code>Zeichne Spalte</code> verwenden.</p>

<p>Um <code>Nächster Blocktyp</code> brauchen wir uns keine Sorgen mehr zu machen, da dieser am Ende des Spielfeld-Erstellens bereit auf 10 (sichtbarer Block) gestellt wurde.</p>
</p>
    </div>
    <div class="col-12 col-md-5">
    <img src="/uebungsanleitungen/programmieren/scratch/ninja-jumpnrun/img/script_blk_background_borders.png" alt="(.Get 1)" class="mx-auto ml-md-auto mr-md-0" style="display: block; width: auto" />
    </div>
</div>


<h3 id="scrolling-ausprobieren">Scrolling ausprobieren</h3>




     
    








<div class="row">
    <div class="col">
        <p><p>Als letztes tauschen wir noch die Endlosschleife <code>Spiel läuft</code> gegen eine Version aus, die <code>Hintergrund bewegen</code> nutzt. In diesem Beispiel habe ich die Tasten <code>m</code> und <code>n</code> dafür ausgewählt, dass ihr euch durch das Spielfeld scrollen könnt.</p>

<p><strong>Achtung:</strong> Damit das Spiel einwandfrei funktioniert, muss nach jeder <code>Kameraänderung</code> auch die <code>Kamera Pos X</code> angepasst werden.</p>
</p>
    </div>
    <div class="col-12 col-md-4">
    <img src="/uebungsanleitungen/programmieren/scratch/ninja-jumpnrun/img/run_background_blocks.png" alt="(.Get 1)" class="mx-auto ml-md-auto mr-md-0" style="display: block; width: auto" />
    </div>
</div>


<h1 id="wir-wollen-springen-die-spielfigur">Wir wollen springen: Die Spielfigur</h1>

<p>Da wir den Hintergrund bereits haben, setzten wir nun unseren Ninja auf die Spielfläche.</p>




     
    








<div class="row">
    <div class="col">
        <p><p>Der Ninja benötigt 3 Variablen die wir später noch brauchen, also legen wir diese <strong>nur für diese Figur</strong> zuerst an:</p>

<ol>
<li><code>Ninja Fallgeschwindigkeit</code> brauchen wir um im Spiel für Sprünge und Schwerkraft</li>
<li><code>Ninja ist tot</code> zeigt an, ob der Ninja gestorben ist</li>
<li><code>Ninja springt</code> wird gesetzt um zu zeigen, dass der Ninja gerade springt</li>
<li><code>Ninja läuft</code> wird gesetzt um zu zeigen, dass der Ninja gerade läuft</li>
</ol>
</p>
    </div>
    <div class="col-12 col-md-2">
    <img src="/uebungsanleitungen/programmieren/scratch/ninja-jumpnrun/img/var_player_all.png" alt="(.Get 1)" class="mx-auto ml-md-auto mr-md-0" style="display: block; width: auto" />
    </div>
</div>





     
    








<div class="row">
    <div class="col">
        <p><p>Wie beim Spielfeld müssen wir auch den Ninja initialisieren.</p>

<p>Dazu gehört:</p>

<ul>
<li>Alle Variablen auf ihren Anfangswert zu stellen</li>
<li>Die Position und</li>
<li>Größe der Figur einzustellen</li>
<li>Die Figur sichtbar zu machen</li>
</ul>
</p>
    </div>
    <div class="col-12 col-md-4">
    <img src="/uebungsanleitungen/programmieren/scratch/ninja-jumpnrun/img/script_player_init.png" alt="(.Get 1)" class="mx-auto ml-md-auto mr-md-0" style="display: block; width: auto" />
    </div>
</div>


<h3 id="die-spielfigur-bewegen">Die Spielfigur bewegen</h3>




     
    








<div class="row">
    <div class="col">
        <p><p>Damit wir unsere Skript nicht zu groß werden lagern wir die Funktion &ldquo;Gehe&rdquo; in einen benutzerdefinierten Block aus, den wir <strong>ohne Bildschirmaktualsierung laufen lassen</strong>.</p>

<p>Immerhin ist nach rechts oder nach links gehen nahezu das gleiche.</p>

<p>Wir müssen überdies aufpassen, dass wir nicht durch Blöcke durchlaufen, und wir können hier die Variable &ldquo;Ninja läuft&rdquo; setzen.</p>
</p>
    </div>
    <div class="col-12 col-md-4">
    <img src="/uebungsanleitungen/programmieren/scratch/ninja-jumpnrun/img/script_blk_player_movestep.png" alt="(.Get 1)" class="mx-auto ml-md-auto mr-md-0" style="display: block; width: auto" />
    </div>
</div>





     
    








<div class="row">
    <div class="col">
        <p><p>Nun können wir den Block auch gleich benutzen:</p>

<ul>
<li><em>Taste links gedrückt</em>: gehe in Richtung -90°</li>
<li><em>Taste rechts gedrückt</em>: gehe in Richtung 90°</li>
<li><em>Leertaste gedrückt</em>: gib dem Spieler eine negative Fallgschwindigkeit (eine Richtung nach oben) - allerdings nur wenn er nicht sowieso gerade springt</li>
<li><em>Simuliere Schwerkraft</em>: diesen Teil werden wir gleich behandeln. Lege einfach derweil einen Benutzerdefinierten Block mit namen <code>Schwerkraft</code> an.</li>
</ul>

<p>Am Anfang wird die Variable <code>Ninja läuft</code> überdies auf 0 gestellt. So bleibt sie auch, falls nicht eine Bewegungstaste gedrückt wurde. Das ist wichtig um die richtigen Animationen anzeigen zu können.</p>
</p>
    </div>
    <div class="col-12 col-md-4">
    <img src="/uebungsanleitungen/programmieren/scratch/ninja-jumpnrun/img/script_player_move.png" alt="(.Get 1)" class="mx-auto ml-md-auto mr-md-0" style="display: block; width: auto" />
    </div>
</div>





     
    








<div class="row">
    <div class="col">
        <p><p>Damit der Ninja auch am Boden bleibt und springen kann simulieren wir noch ein wenig Schwerkraft. Wie wir wissen bewirkt die Schwerkraft eine Beschleunigung der Geschwindigkeit mit der man fällt :).</p>

<p>Natürlich nur, wenn wir nicht schon auf dem Boden stehen. Hier könne wir auch gleich überprüfen, ob wir eventuell auf Lava getreten sind. Das erledigt der Benutzerdefinierte Block <code>Überprüfe ob Ninja lebt</code> für uns.</p>

<p>Da dieser Block gleichzeitig auch für das Springen zuständig ist müssen wir überprüfen, ob wir von unten oder von oben an einen block gestoßen sind. Falls beim Springen mit dem Kopf angestoßen sind, setzen wir einfach die <code>Fallgeschwindigkeit</code> auf 0, sodass wir nicht mehr höher fliegen.</p>

<p>Senn wir von Oben auf einen Block stoßen, setzen wir den Ninja genau über den Block.</p>
</p>
    </div>
    <div class="col-12 col-md-4">
    <img src="/uebungsanleitungen/programmieren/scratch/ninja-jumpnrun/img/script_blk_player_gravity.png" alt="(.Get 1)" class="mx-auto ml-md-auto mr-md-0" style="display: block; width: auto" />
    </div>
</div>





     
    








<div class="row">
    <div class="col">
        <p><p>Um zu überprüfen ob der Ninja in ein Loch gefallen ist (Y-Position wird zu klein) oder er auf Lava getreten ist (Berührt die Oberflächenfarbe des Lavablocks) verwenden wir den Block <code>Überprüfe ob Ninja lebt</code> den wir als Block <strong>ohne Bildschirmaktualsierung</strong> anlegen.</p>

<p>Sollte der Ninja in einer tödlichen Situation sein, senden wir die Nachricht <code>Ninja gestorben</code>.</p>
</p>
    </div>
    <div class="col-12 col-md-6">
    <img src="/uebungsanleitungen/programmieren/scratch/ninja-jumpnrun/img/script_blk_player_checkhealth.png" alt="(.Get 1)" class="mx-auto ml-md-auto mr-md-0" style="display: block; width: auto" />
    </div>
</div>





     
    








<div class="row">
    <div class="col">
        <p><p>Damit der Ninja nicht aussieht als würde er über die Spielfläche schweben, werden wir ihn noch ein wenig animieren - allerdings nur wenn er noch lebt.</p>

<ul>
<li>Wenn er läuft wechseln wir durch alle Kostüme ausser dem &ldquo;Springen&rdquo; Kostüm.</li>
<li>Wenn er springt, wechseln wir auf das &ldquo;Springen&rdquo; Kostüm.</li>
<li>Ansonst wechseln wir zum Ninja-Standard-Kostüm</li>
</ul>

<p>Damit es nicht zu zappelig aussieht warten wir nach jedem Durchlauf ganz kurz.</p>
</p>
    </div>
    <div class="col-12 col-md-4">
    <img src="/uebungsanleitungen/programmieren/scratch/ninja-jumpnrun/img/script_player_animate.png" alt="(.Get 1)" class="mx-auto ml-md-auto mr-md-0" style="display: block; width: auto" />
    </div>
</div>





     
    








<div class="row">
    <div class="col">
        <p>Zu guter letzt - wir prüfen ständig, ob der Ninja sich in einer tödlichen Situation befindet.</p>
    </div>
    <div class="col-12 col-md-4">
    <img src="/uebungsanleitungen/programmieren/scratch/ninja-jumpnrun/img/script_player_checkhealth.png" alt="(.Get 1)" class="mx-auto ml-md-auto mr-md-0" style="display: block; width: auto" />
    </div>
</div>


<h1 id="sammeln-macht-spass-diamanten">Sammeln macht Spass - Diamanten</h1>

<p>Bei den Diamanten legen wir alle Klone sofort an. So viele Klone werden wir hier nicht haben.</p>

<p>


     
    








<div class="row">
    <div class="col">
        <p>Die initialisierung ist relative einfach. Wir setzten allerdings die &ldquo;X-Position&rdquo; auf -500 damit dieses Element
niemals Sichtbar wird. (1. Element)</p>
    </div>
    <div class="col-12 col-md-4">
    <img src="/uebungsanleitungen/programmieren/scratch/ninja-jumpnrun/img/script_dia_init.png" alt="(.Get 1)" class="mx-auto ml-md-auto mr-md-0" style="display: block; width: auto" />
    </div>
</div>




     
    








<div class="row">
    <div class="col">
        <p></p>
    </div>
    <div class="col-12 col-md-5">
    <img src="/uebungsanleitungen/programmieren/scratch/ninja-jumpnrun/img/script_blk_dia_creatediamonds.png" alt="(.Get 1)" class="mx-auto ml-md-auto mr-md-0" style="display: block; width: auto" />
    </div>
</div>




     
    








<div class="row">
    <div class="col">
        <p></p>
    </div>
    <div class="col-12 col-md-6">
    <img src="/uebungsanleitungen/programmieren/scratch/ninja-jumpnrun/img/script_dia_new_clone.png" alt="(.Get 1)" class="mx-auto ml-md-auto mr-md-0" style="display: block; width: auto" />
    </div>
</div>




     
    








<div class="row">
    <div class="col">
        <p></p>
    </div>
    <div class="col-12 col-md-9">
    <img src="/uebungsanleitungen/programmieren/scratch/ninja-jumpnrun/img/script_blk_check_visibility.png" alt="(.Get 1)" class="mx-auto ml-md-auto mr-md-0" style="display: block; width: auto" />
    </div>
</div>




     
    








<div class="row">
    <div class="col">
        <p>Wir brauchen nichts anders tun als ständig die Sichtbarkeit und Position berechnen.</p>
    </div>
    <div class="col-12 col-md-4">
    <img src="/uebungsanleitungen/programmieren/scratch/ninja-jumpnrun/img/script_evt_dia_background_move.png" alt="(.Get 1)" class="mx-auto ml-md-auto mr-md-0" style="display: block; width: auto" />
    </div>
</div>




     
    








<div class="row">
    <div class="col">
        <p></p>
    </div>
    <div class="col-12 col-md-4">
    <img src="/uebungsanleitungen/programmieren/scratch/ninja-jumpnrun/img/script_evt_dia_game_loop.png" alt="(.Get 1)" class="mx-auto ml-md-auto mr-md-0" style="display: block; width: auto" />
    </div>
</div>
</p>

<h1 id="gefährliche-hindernisse-schlangen-am-spielfeld">Gefährliche Hindernisse - Schlangen am Spielfeld</h1>

<p>Schlange werden (fast) gleich wie Diamanten behandelt.</p>

<p>


     
    








<div class="row">
    <div class="col">
        <p>Auch hier setzten die &ldquo;X-Position&rdquo; auf -500 damit dieses Element niemals Sichtbar wird. (1. Element)</p>
    </div>
    <div class="col-12 col-md-4">
    <img src="/uebungsanleitungen/programmieren/scratch/ninja-jumpnrun/img/script_snake_init.png" alt="(.Get 1)" class="mx-auto ml-md-auto mr-md-0" style="display: block; width: auto" />
    </div>
</div>




     
    








<div class="row">
    <div class="col">
        <p></p>
    </div>
    <div class="col-12 col-md-5">
    <img src="/uebungsanleitungen/programmieren/scratch/ninja-jumpnrun/img/script_blk_snake_create.png" alt="(.Get 1)" class="mx-auto ml-md-auto mr-md-0" style="display: block; width: auto" />
    </div>
</div>




     
    








<div class="row">
    <div class="col">
        <p></p>
    </div>
    <div class="col-12 col-md-6">
    <img src="/uebungsanleitungen/programmieren/scratch/ninja-jumpnrun/img/script_snake_new_clone.png" alt="(.Get 1)" class="mx-auto ml-md-auto mr-md-0" style="display: block; width: auto" />
    </div>
</div>




     
    








<div class="row">
    <div class="col">
        <p></p>
    </div>
    <div class="col-12 col-md-9">
    <img src="/uebungsanleitungen/programmieren/scratch/ninja-jumpnrun/img/script_blk_snake_visibilitycheck.png" alt="(.Get 1)" class="mx-auto ml-md-auto mr-md-0" style="display: block; width: auto" />
    </div>
</div>




     
    








<div class="row">
    <div class="col">
        <p>Wir brauchen nichts anders tun als ständig die Sichtbarkeit und Position berechnen.</p>
    </div>
    <div class="col-12 col-md-4">
    <img src="/uebungsanleitungen/programmieren/scratch/ninja-jumpnrun/img/script_evt_snake_background_move.png" alt="(.Get 1)" class="mx-auto ml-md-auto mr-md-0" style="display: block; width: auto" />
    </div>
</div>




     
    








<div class="row">
    <div class="col">
        <p>Eine kleine Animation für die Schlange bauen wir auch gleich ein.</p>
    </div>
    <div class="col-12 col-md-4">
    <img src="/uebungsanleitungen/programmieren/scratch/ninja-jumpnrun/img/script_evt_snake_animate.png" alt="(.Get 1)" class="mx-auto ml-md-auto mr-md-0" style="display: block; width: auto" />
    </div>
</div>




     
    








<div class="row">
    <div class="col">
        <p>Wenn der Spieler berührt wird, senden wir die &ldquo;Ninja gestorben&rdquo; - Nachricht und er Ninja muss re-spawnen.</p>
    </div>
    <div class="col-12 col-md-4">
    <img src="/uebungsanleitungen/programmieren/scratch/ninja-jumpnrun/img/script_evt_snake_loop.png" alt="(.Get 1)" class="mx-auto ml-md-auto mr-md-0" style="display: block; width: auto" />
    </div>
</div>
</p>

<h1 id="ende">Ende</h1>

<p>Wenn du das Spiel gerne mal ausprobieren möchtest, kannst du das <a href="https://scratch.mit.edu/projects/528516526" target="_blank">hier</a> tun.</p>
 </div>
        </div>
    </div>
</section>  
    <footer>
        <div class="container">
            <div class="row">
                <div class="col">
                    <div>
                        <div>
                            <img src="/img/logo-coding-club-linz-white.svg">
                        </div>
                        <div>Coding Club Linz<br />Birkenweg 16, 4060 Leonding <br />
                            <a href="mailto:info@linz.coderdojo.net">info@linz.coderdojo.net</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </footer> <!-- Js -->
    <script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"
        integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"
        integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.17.1/moment.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.17.1/locale/de-at.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/showdown/1.9.1/showdown.min.js"></script>
    <script src="https://linz.coderdojo.net/js/wow.min.js"></script>
    <script src="https://linz.coderdojo.net/js/main.js"></script>
    <script src="https://www.google.com/recaptcha/api.js?render=6LfXNMcZAAAAALYnf3GpUqw5uotVMyjhLNU438i9"></script>
</body>

</html>
